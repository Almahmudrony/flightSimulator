var Hi=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(13);t.GameScenes=i.GameScenes;var o=n(4);t.ModuleName=o.ModuleName;var s=n(14);t.WeatherState=s.WeatherState;var a=n(15);t.AssetsManager=a.AssetsManager;var r=n(3);t.GuiManager=r.GuiManager;var c=n(2);t.SceneManager=c.SceneManager;var l=n(7);t.GlobalManager=l.GlobalManager;var h=n(16);t.AnimationCon=h.AnimationCon;var u=n(6);t.AnimationGui=u.AnimationGui;var p=n(17);t.particleCon=p.particleCon;var d=n(18);t.GuiCreate=d.GuiCreate;var f=n(19);t.Panels=f.Panels;var m=n(1);t.Module=m.Module;var g=n(20);t.Guis=g.Guis;var y=n(21);t.StartGui=y.StartGui;var b=n(22);t.GameSceneGui=b.GameSceneGui;var v=n(5);t.DisplayPool=v.DisplayPool;var B=n(23);t.Func=B.Func},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.initUI=function(){},e.prototype.show=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.addEvent()},e.prototype.hide=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.removeEvent()},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.updateData=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isInit||(this.initUI(),this.isInit=!0)},e.prototype.addClick=function(e,t){return e.onPointerUpObservable.add(t)},e.prototype.removeClick=function(e,t){e.onPointerUpObservable.remove(t)},e.prototype.delayEnable=function(e,t){e.mouseEnable=e.mouseChildren=!1,this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(function(){this.timeoutId=0,e.mouseEnable=e.mouseChildren=!0},t||500)},e.prototype.dispose=function(){},e}();t.Module=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._canvas=document.querySelector("#renderCanvas"),this._engine=new BABYLON.Engine(this._canvas,!0,{deterministicLockstep:!0,lockstepMaxSteps:4});var e=function(){var e=new BABYLON.Scene(this._engine),t=e._onPointerUp,n=e._onPointerDown,i=e._onPointerMove,o=BABYLON.Tools.GetPointerPrefix();return this._canvas.removeEventListener(o+"move",i),this._canvas.removeEventListener(o+"down",n),window.removeEventListener(o+"up",t),e._onPointerUp=function(e){void 0!==e.pointerId&&t(e)},e._onPointerDown=function(e){void 0!==e.pointerId&&n(e)},e._onPointerMove=function(e){void 0!==e.pointerId&&i(e)},this._canvas.addEventListener(o+"move",e._onPointerMove,!1),this._canvas.addEventListener(o+"down",e._onPointerDown,!1),window.addEventListener(o+"up",e._onPointerUp,!1),new BABYLON.FreeCamera("baseCamera",new BABYLON.Vector3(0,0,0),e),e}.bind(this);this._scene=e(),this._engine.runRenderLoop(function(){this._scene.render(),TWEEN.update()}.bind(this)),window.addEventListener("resize",function(){this._engine.resize()}.bind(this))}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvas",{get:function(){return this._canvas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),e.prototype.change=function(e){},e}();t.SceneManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.guiPoll={},this._lastGui=null,this._fullscreenUI=BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("GUI")}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),e.prototype.changeGui=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=this._fullscreenUI.rootContainer.children.length,o=0;o<i;o++)this._fullscreenUI.removeControl(this._fullscreenUI.rootContainer.children[0]);this._fullscreenUI.addControl(e),this._lastGui=e},e.prototype.appendGui=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._fullscreenUI.addControl(e),this._lastGui=e},e.prototype.removeGui=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._fullscreenUI.removeControl(this._lastGui)},e.prototype.removeAll=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=this._fullscreenUI.rootContainer.children.length,o=0;o<i;o++)this._fullscreenUI.removeControl(this._fullscreenUI.rootContainer.children[0])},e.prototype.openPanel=function(e){},e.prototype.closePanel=function(e){},Object.defineProperty(e.prototype,"fullscreenUI",{get:function(){return this._fullscreenUI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastGui",{get:function(){return this._lastGui},enumerable:!0,configurable:!0}),e}();t.GuiManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LOADING_GUI="LoadingScene",e.WAITING_PANEL="WaitingPanel",e.MSG_PANEL="MsgPanel",e.RULE_PANEL="RulePanel",e.LOSE_PANEL="LosePanel",e.GAME_START_GUI="GameStartScene",e.GAME_PLAY_SCENE="GamePlayScene",e.GAME_PLAY_GUI="GamePlayGui"}(t.ModuleName||(t.ModuleName={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.displayPool={}}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),e}();t.DisplayPool=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){this.show=function(e,t,n){var i=[];i.push({frame:0,value:.1}),i.push({frame:10,value:1});var o=new BABYLON.Animation("","scaleX",30,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);o.setKeys(i);var s=new BABYLON.Animation("","scaleY",30,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);s.setKeys(i),e.animations=[],e.animations.push(o,s),this.advancedTexture.addControl(e),t&&t(),this.scene.beginAnimation(e,0,10,!1,2,function(){n&&n()})},this.hide=function(e,t,n){var i=this,o=[];o.push({frame:0,value:1}),o.push({frame:10,value:.1});var s=new BABYLON.Animation("","scaleX",30,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);s.setKeys(o);var a=new BABYLON.Animation("","scaleY",30,BABYLON.Animation.ANIMATIONTYPE_FLOAT,BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);a.setKeys(o),e.animations=[],e.animations.push(s,a),t&&t(),this.scene.beginAnimation(e,0,10,!1,2,function(){i.advancedTexture.removeControl(e),n&&n()})},this.scene=e,this.advancedTexture=t};t.AnimationGui=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=function(){function e(){}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),e.prototype.openModule=function(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(t=i.DisplayPool.ins.displayPool[e]).show.apply(t,n)},e}();t.GlobalManager=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(0),a=n(0),r=n(24),c=n(0),l=n(25),h=n(26),u=function(e){function t(){var t=e.call(this)||this;return t.doEvents=[],t.importMeshes=[],t}return i(t,e),Object.defineProperty(t,"ins",{get:function(){return this.instance||(this.instance=new t),this.instance},enumerable:!0,configurable:!0}),t.prototype.init=function(){s.DisplayPool.ins.displayPool[a.ModuleName.GAME_PLAY_SCENE]=this},t.prototype.resetGame=function(){var e=this;r.ExGameScene.ins.creatScene();var t=o.SceneManager.ins.scene;this.scene=o.SceneManager.ins.scene,this.display=r.ExGameScene.ins.display,setTimeout(function(){localStorage.msg="你好，欢迎驾驶台风战机， \n 你可以通过鼠标左键进行射击， \n 右键切换视野，通过拖动鼠标控制飞机飞行， \n 当您处于第一人称时， \n 您可以通过长按空格键并且拖动鼠标查看自由视野。";var e=new SpeechSynthesisUtterance(localStorage.msg);window.speechSynthesis.speak(e)},1e3),o.SceneManager.ins.engine.displayLoadingUI(),o.SceneManager.ins.engine.loadingUIText="Initializing...",o.SceneManager.ins.engine.hideLoadingUI(),console.log("Pilot Head"),console.log(this.scene.getMaterialByName("Pilot Head"));var n=!0;setInterval(function(){n=!n,e.scene.getMaterialByName("Pilot Head").emissiveColor=n?new BABYLON.Color3(.2,.2,.2):new BABYLON.Color3(.3,.3,.3)},10),setInterval(function(){e.scene.getMeshByName("灯").getChildMeshes(!1,function(e){e.isVisible=!0}),setTimeout(function(){e.scene.getMeshByName("灯").getChildMeshes(!1,function(e){e.isVisible=!1})},50)},1e3),this.scene.getMeshByName("气流1").material.backFaceCulling=!1,this.scene.getMeshByName("气流2").material.backFaceCulling=!1,this.scene.collisionsEnabled=!1,h.FlyCon.ins.init(this.display),l.FireCon.ins.init(this.display),this.scene.meshes.forEach(function(e){e.checkCollisions=!1});var i=new BABYLON.ReflectionProbe("main",64,this.scene);i.renderList.push(this.scene.getMeshByName("default")),i.renderList.push(this.scene.getMeshByName("skySphere")),i.refreshRate=BABYLON.RenderTargetTexture.REFRESHRATE_RENDER_ONCE,i.attachToMesh(this.display.cameraBox),this.scene.environmentTexture=o.AssetsManager.ins.resourceObject.cubeTextures.gameScene.skybox,this.scene.workerCollisions=!0,this.scene.getMeshByName("__root__").getChildMeshes(!1,function(t){console.log(t),console.log(t.name),t.isPickable=!1,e.display.shadowGenerator.getShadowMap().renderList.push(t),t.receiveShadows=!0,"Glass"==t.name?t.isBlocker=!1:t.isBlocker=!0,t.material&&(t.material.backFaceCulling=!1,console.log("mesh.material"),console.log(t.material),t.material.usePhysicalLightFalloff=!1)}),this.scene.getMeshByName("__root__").parent=this.display.cameraBox,this.scene.getMeshByName("__root__").rotation.y=1*-Math.PI,this.scene.getMeshByName("__root__").position.y=-0,this.display.cameraBox.scaling=new BABYLON.Vector3(10,10,10),this.scene.getMeshByName("default").isPickable=!0,this.scene.getMeshByName("default").isBlocker=!0,this.scene.getMeshByName("default").scaling=new BABYLON.Vector3(40,40,40),this.scene.getMeshByName("default").material.diffuseTexture.uScale=4,this.scene.getMeshByName("default").material.diffuseTexture.vScale=4,this.display.cameraBox.position.y=-10;var s=new BABYLON.RenderTargetTexture("tex",512,t);s.activeCamera=this.display.camera4,s.vScale=18,s.uScale=8,s.uOffset=1,s.vOffset=-.85,this.scene.meshes.forEach(function(e){s.renderList.push(e)});var a=new BABYLON.StandardMaterial("jingzi",t);a.emissiveTexture=s,a.disableLighting=!0,a.backFaceCulling=!1,this.scene.getMeshByName("jinzi").material=a,this.display.jingzi.material=a,t.registerBeforeRender(function(){s.render()}),console.log("this.display.jingzi.material")},t.prototype.addEvent=function(){var e=this;this.doEvents.BeforeRender=o.SceneManager.ins.scene.onBeforeRenderObservable.add(function(){e.beforeRender()})},t.prototype.beforeRender=function(){this.times=60/o.SceneManager.ins.engine.getFps(),l.FireCon.ins.update(this.times),h.FlyCon.ins.update(this.times),this.display.lens3.isOccluded&&console.log("被遮挡")},t}(c.GameScenes);t.ExGameSceneCon=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10);window.addEventListener("load",function(){var e=navigator.userAgent,t=!e.match(/(iPad).*OS\s([\d_]+)/)&&e.match(/(iPhone\sOS)\s([\d_]+)/),n=e.match(/(Android)\s+([\d.]+)/);t||n?document.body.innerHTML='\n    <style>\n        body{\n        text-align: center;\n        font-size: 1rem;\n        color: #349ccd;\n        }\n\n    h1{\n    margin-top: 10rem;\n    }\n    </style> \n    <h1>Hi!</h1>\n    Please access through PC, mobile phone temporarily not supported!" <br>(请通过PC访问，手机暂时不支持！)':i.Before.ins.update()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=n(12),s=n(0),a=n(0),r=n(0),c=n(0),l=n(0),h=n(8),u=n(27),p=n(29),d=function(){function e(){}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),e.prototype.update=function(){s.AssetsManager.ins.resourceData=i.ResourceCon.ins.resource,s.AssetsManager.ins.loadFile(["gameScene"],a.SceneManager.ins.scene,function(){this.initModule(),console.log(c.DisplayPool.ins.displayPool),r.GlobalManager.ins.openModule(l.ModuleName.GAME_START_GUI),o.SceneBeforeCall.ins.musicLoop()}.bind(this),function(e){console.log(e.loadCount),console.log(e),a.SceneManager.ins.engine.loadingUIText="loading:"+100*e.loadCount+"%<br><br>一共需要载入"+e.totalTasksCount+"个资源<br>剩余载入资源数："+e.waitingTasksCount+"个"}.bind(this))},e.prototype.addEvent=function(){},e.prototype.initModule=function(){h.ExGameSceneCon.ins.init(),p.ExStartGuiCon.ins.init(),u.ExGameSceneGuiCon.ins.init()},e}();t.Before=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){var e;this.pathFirst=window.resPath,e={binarys:[{name:"zhanji",filePath:this.pathFirst+"src/Resource/gameScene/binarys/",fileName:"zhanji4.mp3"},{name:"qiang",filePath:this.pathFirst+"src/Resource/gameScene/binarys/",fileName:"qiang7.mp3"},{name:"win",filePath:this.pathFirst+"src/Resource/gameScene/binarys/",fileName:"win.mp3"}],images:[{name:"after",filePath:this.pathFirst+"src/Resource/gameScene/images/ui/",fileName:"after.jpg"},{name:"night",filePath:this.pathFirst+"src/Resource/gameScene/images/ui/",fileName:"night.jpg"},{name:"rain",filePath:this.pathFirst+"src/Resource/gameScene/images/ui/",fileName:"rain.jpg"},{name:"sun",filePath:this.pathFirst+"src/Resource/gameScene/images/ui/",fileName:"sun.jpg"},{name:"map1",filePath:this.pathFirst+"src/Resource/gameScene/images/ui/",fileName:"map_1.jpg"},{name:"map2",filePath:this.pathFirst+"src/Resource/gameScene/images/ui/",fileName:"map_2.jpg"},{name:"map3",filePath:this.pathFirst+"src/Resource/gameScene/images/ui/",fileName:"map_3.jpg"},{name:"logo",filePath:this.pathFirst+"src/Resource/gameScene/images/ui/",fileName:"logo.png"},{name:"jiantou",filePath:this.pathFirst+"src/Resource/gameScene/images/ui/",fileName:"jiantou.png"},{name:"jiantou2",filePath:this.pathFirst+"src/Resource/gameScene/images/ui/",fileName:"jiantou4.png"},{name:"jiantou3",filePath:this.pathFirst+"src/Resource/gameScene/images/ui/",fileName:"jiantou3.png"},{name:"lensdirt",filePath:this.pathFirst+"src/Resource/gameScene/textures/",fileName:"lensdirt.jpg"},{name:"lens2",filePath:this.pathFirst+"src/Resource/gameScene/images/ui/",fileName:"lens4.jpg"},{name:"ico_b",filePath:this.pathFirst+"src/Resource/gameScene/images/ui/",fileName:"ico_b.png"},{name:"ico_bg",filePath:this.pathFirst+"src/Resource/gameScene/images/ui/",fileName:"ico_bg.png"}],models:[{name:"map3",filePath:this.pathFirst+"src/Resource/gameScene/models/height_m2/",fileName:"height_m22.babylon"},{name:"sm14",filePath:this.pathFirst+"src/Resource/gameScene/models/sm14/",fileName:"sm102.glb"}],textures:[{name:"grass",filePath:this.pathFirst+"src/Resource/gameScene/textures/",fileName:"grass.png"},{name:"boom",filePath:this.pathFirst+"src/Resource/gameScene/textures/",fileName:"boom.jpg"},{name:"grass2",filePath:this.pathFirst+"src/Resource/gameScene/textures/",fileName:"grass.jpg"},{name:"skybox13",filePath:this.pathFirst+"src/Resource/gameScene/textures/",fileName:"skybox6.png"},{name:"ground",filePath:this.pathFirst+"src/Resource/gameScene/textures/",fileName:"ground.jpg"},{name:"maptr",filePath:this.pathFirst+"src/Resource/gameScene/textures/",fileName:"maptr.jpg"},{name:"maptr2",filePath:this.pathFirst+"src/Resource/gameScene/textures/",fileName:"maptr5.jpg"},{name:"stainedGlass",filePath:this.pathFirst+"src/Resource/gameScene/textures/",fileName:"stainedGlass.png"},{name:"waterbump",filePath:this.pathFirst+"src/Resource/gameScene/textures/",fileName:"waterbump.png"},{name:"yu",filePath:this.pathFirst+"src/Resource/gameScene/textures/",fileName:"yu.png"},{name:"lighting",filePath:this.pathFirst+"src/Resource/gameScene/textures/",fileName:"lighting4.png"}],cubeTextures:[{name:"skybox",filePath:this.pathFirst+"src/Resource/gameScene/cubeTextures/skybox/",fileName:"skybox"}]},this._resource={gameScene:e}}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resource",{get:function(){return this._resource},enumerable:!0,configurable:!0}),e}();t.ResourceCon=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),e.prototype.musicLoop=function(){},e}();t.SceneBeforeCall=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(2),a=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.dispose=function(){var e;for(e in this.display)console.log(this.display[e]),this.display[e]&&this.display[e].dispose()},t.prototype.show=function(e){this.resetGame(),s.SceneManager.ins.change(this.display),this.addEvent()},t.prototype.resetGame=function(){},t.prototype.gameOver=function(){this.removeEvent()},t}(o.Module);t.GameScenes=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.SUNNY_DAY=0]="SUNNY_DAY",e[e.RAIN_DAY=1]="RAIN_DAY",e[e.AFTERNOON_DAY=2]="AFTERNOON_DAY",e[e.NIGHT_DAY=3]="NIGHT_DAY"}(t.WeatherState||(t.WeatherState={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._resourceObject={binarys:{},images:{},models:{},textures:{},cubeTextures:{}},BABYLON.SceneLoader.OnPluginActivatedObservable.add(function(e){"gltf"===e.name&&e instanceof BABYLON.GLTFFileLoader&&(e.animationStartMode=BABYLON.GLTFLoaderAnimationStartMode.NONE,e.compileMaterials=!0)})}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resourceData",{set:function(e){this._resourceData=e},enumerable:!0,configurable:!0}),e.prototype.loadFile=function(e,t,n,i){var o=new BABYLON.AssetsManager(t);e.forEach(function(e){var t={};this._resourceData[e].models.forEach(function(n,i){o.addMeshTask("skull task","",n.filePath,n.fileName).onSuccess=function(i){console.log("meshTask"),console.log(i);var o=i;t[n.name]=o,this._resourceObject.models[e]=t}.bind(this)}.bind(this));var n={};this._resourceData[e].images.forEach(function(t){o.addImageTask("image task",t.filePath+t.fileName).onSuccess=function(i){n[t.name]=i.image,this._resourceObject.images[e]=n}.bind(this)}.bind(this));var i={};this._resourceData[e].textures.forEach(function(t){o.addTextureTask("texture task",t.filePath+t.fileName).onSuccess=function(n){i[t.name]=n.texture,this._resourceObject.textures[e]=i}.bind(this)}.bind(this));var s={};this._resourceData[e].binarys.forEach(function(t){o.addBinaryFileTask("binary task",t.filePath+t.fileName).onSuccess=function(n){console.log(6666677),s[t.name]=n.data,s[t.name].url=n.url,s[t.name].rootUrl=t.filePath,s[t.name].sceneFilename=t.fileName,this._resourceObject.binarys[e]=s,console.log(s[t.name])}.bind(this)}.bind(this));var a={};this._resourceData[e].cubeTextures.forEach(function(t){o.addCubeTextureTask("cubeTexture task",t.filePath+t.fileName).onSuccess=function(n){a[t.name]=n.texture,this._resourceObject.cubeTextures[e]=a}.bind(this)}.bind(this))}.bind(this)),o.load(),o.onProgress=function(e){var t={totalTasksCount:o._totalTasksCount,waitingTasksCount:o._waitingTasksCount,loadCount:(o._totalTasksCount-o._waitingTasksCount)/o._totalTasksCount};i(t)}.bind(this),o.onFinish=function(e){n()}.bind(this)},Object.defineProperty(e.prototype,"resourceObject",{get:function(){return this._resourceObject},enumerable:!0,configurable:!0}),e}();t.AssetsManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),e.prototype.animationBody=function(e,t){var n,i,o,s,a,r,c,l;n=null!=e.endattr?e.endattr:BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE,null!=e.mesh?i=e.mesh:(i=null,console.error("动画对象不能为空！")),null!=e.attr?o=e.attr:(o=null,console.error("动画对象属性不能为空！")),s=null!=e.speed?e.speed:10,a=null!=e.keys?e.keys:[],r=null!=e.endCall?e.endCall:function(){},c=null!=e.typeData?e.typedata:BABYLON.Animation.ANIMATIONTYPE_FLOAT,l=null!=e.loop&&e.loop;var h,u=new BABYLON.Animation("myAnimation",o,s,c,n);h=a,u.setKeys(h),i.animations.push(u),this.setbeginAnimation=t.beginAnimation(i,0,a[a.length-1].frame,l),this.setbeginAnimation.onAnimationEnd=function(){r()}},e.prototype.Pause=function(){this.setbeginAnimation.pause()},e.prototype.Reset=function(){this.setbeginAnimation.reset()},e.prototype.Speed=function(e){this.setbeginAnimation.speedRatio=e},e}();t.AnimationCon=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){this.fountain=BABYLON.Mesh.CreateBox("fountain",1,t),this.fountain.isPickable=!1,this.fountain.visibility=0,this.fountain.rotation.x=.9*Math.PI,this.particleSystem=n,this.particleSystem.emitter=this.fountain,this.particleSystem.stop(),this.fountain.position=e}return e.prototype.start=function(){this.particleSystem.start()},e.prototype.stop=function(){this.particleSystem.stop()},e.prototype.Position=function(e){this.fountain.position=e},e.prototype.Parent=function(e){this.fountain.parent=e},e}();t.particleCon=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=function(){function e(){this.panelOut=new BABYLON.GUI.StackPanel}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),e.prototype.createList=function(e,t,n){var i,o=this,s=new BABYLON.GUI.Rectangle;for(var a in s.thickness=0,s.isPointerBlocker=!0,s.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP,s.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT,t)s[a]&&(s[a]=t[a]);return t&&t.isVertical?(this.panelOut.horizontalAlignment=2,this.panelOut.verticalAlignment=0,this.panelOut.isVertical=!0,(i={up:0,down:0}).up=parseInt(this.panelOut.top.toString()),s.onPointerDownObservable.add(function(e){i.down=e.y}),s.onPointerUpObservable.add(function(e){var t=parseInt(o.panelOut.top.toString());if(i.up=t,t>0)o.panelOut.top="0px",i.up=0;else if(parseInt(o.panelOut.top.toString())<parseInt(s.height.toString())-parseInt(o.panelOut.height.toString())){var a=(parseInt(s.height.toString())-parseInt(o.panelOut.height.toString()))*n;o.panelOut.top=a.toString()+"px",i.up=parseInt(o.panelOut.top)}}),s.onPointerMoveObservable.add(function(e){var t=e.y-i.down,s=(i.up+t)*n;o.panelOut.top=s.toString()+"px"})):(this.panelOut.horizontalAlignment=0,this.panelOut.verticalAlignment=2,this.panelOut.isVertical=!1,(i={up:0,down:0}).up=parseInt(this.panelOut.left.toString()),s.onPointerDownObservable.add(function(e){i.down=e.x}),s.onPointerUpObservable.add(function(e){var t=parseInt(o.panelOut.left.toString());if(i.up=t,t>0)o.panelOut.left="0px",i.up=0;else if(parseInt(o.panelOut.left.toString())<parseInt(s.width.toString())-parseInt(o.panelOut.width.toString())){var a=(parseInt(s.width.toString())-parseInt(o.panelOut.width.toString()))*n;o.panelOut.left=a.toString()+"px",i.up=parseInt(o.panelOut.left)}}),s.onPointerMoveObservable.add(function(e){var t=e.x-i.down,o=(i.up+t)*n;this.panelOut.left=o.toString()+"px"})),s.addControl(this.panelOut),s},e.prototype.optionsListCon=function(e,t,n){var o=this,s=i.GuiManager.ins.fullscreenUI.idealWidth/document.getElementById("renderCanvas").offsetWidth,a=this.createList("list",{width:e.bodyWidth,height:e.bodyHeight,top:e.bodyTop,left:e.bodyLeft,isVertical:e.isVertical},s),r=this.panelOut.children.length;if(r>0)for(var c=0;c<r;c++)this.panelOut.removeControl(this.panelOut.children[0]);return t.optionList.forEach(function(t){var i=n(e,t);o.panelOut.addControl(i)}),a},e}();t.GuiCreate=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),s=n(3),a=n(1),r=n(6),c=function(e){function t(){var t=e.call(this)||this;return t.panelsAn=new r.AnimationGui(o.SceneManager.ins.scene,s.GuiManager.ins.fullscreenUI),t}return i(t,e),t.prototype.show=function(e,t){this.addEvent(),this.panelsAn.show(this.view,e,t)},t.prototype.hide=function(e,t){this.removeEvent(),this.panelsAn.hide(this.view,e,t)},t}(a.Module);t.Panels=c},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this)||this}return i(t,e),t}(n(1).Module);t.Guis=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(6),a=n(2),r=n(3),c=n(5),l=n(4),h=n(7),u=function(e){function t(){var t=e.call(this)||this;return t.doEvents=[],t.panelsAn=new s.AnimationGui(a.SceneManager.ins.scene,r.GuiManager.ins.fullscreenUI),t.initUI(),t}return i(t,e),t.prototype.show=function(e){this.removeEvent(),this.updateData(),this.addEvent(),r.GuiManager.ins.changeGui(this.parent)},t.prototype.hide=function(){var e=this;this.removeEvent(),this.panelsAn.hide(this.view,function(){e.onClose()},function(){e.onClosed()})},t.prototype.onOpen=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.onOpened=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.init=function(){c.DisplayPool.ins.displayPool[l.ModuleName.GAME_START_GUI]=this},t.prototype.addEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.onClick_ruleBtn=function(){},t.prototype.onClick_optionBtn=function(){},t.prototype.onClick_startBtn=function(){h.GlobalManager.ins.openModule(l.ModuleName.GAME_PLAY_GUI)},t.prototype.updateData=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isInit||(this.initUI(),this.isInit=!0)},t.prototype.onClose=function(){this.removeHtml()},t.prototype.removeHtml=function(){this.section&&document.body.removeChild(this.section)},t.prototype.onClosed=function(){this.removeEvent()},t}(o.Module);t.StartGui=u},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(6),a=n(2),r=n(3),c=n(4),l=n(5),h=function(e){function t(){var t=e.call(this)||this;return t.doEvents=[],t.panelsAn=new s.AnimationGui(a.SceneManager.ins.scene,r.GuiManager.ins.fullscreenUI),t.initUI(),t}return i(t,e),t.prototype.show=function(e){this.updateData(),this.addEvent(),r.GuiManager.ins.changeGui(this.parent)},t.prototype.hide=function(){},t.prototype.onOpen=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.onOpened=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.init=function(){l.DisplayPool.ins.displayPool[c.ModuleName.GAME_PLAY_GUI]=this},t.prototype.addEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.updateData=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.removeEvent(),this.isInit||(this.initUI(),this.isInit=!0)},t.prototype.onClose=function(){},t.prototype.onClosed=function(){this.removeEvent()},t}(o.Module);t.GameSceneGui=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),e.prototype.replace=function(e,t){for(var n=t.length,i=0;i<n;i++)e=e.replace("{"+i+"}",t[i]);return e},e.prototype.toInt=function(e){return e>>0},e.prototype.isIOS=function(){return navigator.userAgent.match(/iphone|ipod|ipad/gi)},e.prototype.randomArr=function(e){for(var t=e.length,n=0;n<t;n++){var i=this.random(0,e.length,!0),o=e[i];e[i]=e[n],e[n]=o}return e},e.prototype.random=function(e,t,n){var i;return i=void 0!==e&&void 0!==t?Math.min(e,t)+Math.random()*Math.max(e,t):Math.random(),n&&(i=this.toInt(i)),i},e.prototype.getDistance=function(e,t,n,i,o,s){var a=Math.abs(e-i),r=Math.abs(t-o),c=Math.abs(n-s);return Math.sqrt(a*a+r*r+c*c)},e.prototype.vecToLocal=function(e,t){var n=t.getWorldMatrix();return BABYLON.Vector3.TransformCoordinates(e,n)},e}();t.Func=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(0),s=function(){function e(){}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),e.prototype.creatScene=function(){this.scene=o.SceneManager.ins.scene,this.scene.clearColor=new BABYLON.Color4(52/255,156/255,1);var e=BABYLON.MeshBuilder.CreateBox("camera2Box",{height:.5,width:.5,depth:.5},this.scene);e.isVisible=!1,e.rotation=new BABYLON.Vector3(0,0,0);var t=BABYLON.MeshBuilder.CreateBox("pickMesh",{height:.5,width:.5,depth:.5},this.scene);t.position=new BABYLON.Vector3(0,0,3e3),t.isPickable=!1,t.parent=e,t.isVisible=!1;var n=BABYLON.MeshBuilder.CreateBox("camera2Box",{height:.5,width:.5,depth:.5},this.scene);n.position=new BABYLON.Vector3(0,.5,-3),n.isVisible=!1,n.rotation=new BABYLON.Vector3(0,0,0),n.parent=e;var s=BABYLON.MeshBuilder.CreateBox("steering",{height:2e3,width:2e3,depth:2e3},this.scene);s.visibility=0,s.scaling=new BABYLON.Vector3(.001,.001,.001),s.rotation=new BABYLON.Vector3(0,.3,.5*Math.PI);var a=new BABYLON.UniversalCamera("UniversalCamera",new BABYLON.Vector3(0,.112,.31),this.scene);a.speed=40,a.inertia=0,a.rotation.y=2*-Math.PI,a.fov=1.6,a.attachControl(o.SceneManager.ins.canvas),a.detachControl(o.SceneManager.ins.canvas),a.minZ=-5,a.maxZ=2e6,a.parent=e;var r=new BABYLON.StandardMaterial("skyBox",this.scene);r.backFaceCulling=!1,r.diffuseTexture=i.AssetsManager.ins.resourceObject.textures.gameScene.skybox13.clone(),r.emissiveTexture=i.AssetsManager.ins.resourceObject.textures.gameScene.skybox13.clone(),r.specularColor=new BABYLON.Color3(0,0,0),r.disableLighting=!1;var c=BABYLON.MeshBuilder.CreateSphere("skySphere",{diameter:1e5},this.scene);c.rotation.x=Math.PI,c.position.y=1e4,c.material=r,c.applyFog=!1;var l=new BABYLON.FollowCamera("FollowCam",new BABYLON.Vector3(200,-300,150),this.scene);l.radius=-10,console.log("camera"),l.heightOffset=5,l.rotationOffset=0,l.cameraAcceleration=.8,l.maxCameraSpeed=300,l.noRotationConstraint=!1,l.fov=1.3,l.detachControl(o.SceneManager.ins.canvas),l.update(),l.maxZ=2e6,l.layerMask=1,this.scene.activeCamera=l;var h=new BABYLON.UniversalCamera("UniversalCamera",new BABYLON.Vector3(0,.132,.2),this.scene);h.rotation.y=1*-Math.PI,h.rotation.z=1*-Math.PI,h.position.x=0,h.fov=1,h.detachControl(o.SceneManager.ins.canvas),h.minZ=-5,h.maxZ=2e6,h.parent=e;var u=new BABYLON.UniversalCamera("UniversalCamera",new BABYLON.Vector3(0,.112,.3),this.scene);u.rotation.y=1*-Math.PI,u.position.x=.05,u.fov=1,u.detachControl(o.SceneManager.ins.canvas),u.minZ=-5,u.maxZ=2e6,u.parent=e;var p=BABYLON.MeshBuilder.CreatePlane("myPlane",{width:5,height:5},this.scene);p.position=new BABYLON.Vector3(0,0,3),p.isPickable=!1,p.parent=e,p.isVisible=!1,this.scene.activeCamera=l,this.scene.cameraToUseForPointers=l,l.lockedTarget=e;var d=new BABYLON.StandardMaterial("free",this.scene);console.log("freeMateial"),console.log(d),d.emissiveColor=new BABYLON.Color3(1,1,1),d.diffuseColor=new BABYLON.Color3(0,0,0),d.emissiveTexture=i.AssetsManager.ins.resourceObject.textures.gameScene.boom;var f=new BABYLON.StandardMaterial("boom",this.scene);console.log("boomMateial"),console.log(f),f.disableLighting=!0,f.emissiveColor=new BABYLON.Color3(1,1,1),f.diffuseColor=new BABYLON.Color3(0,0,0),f.emissiveTexture=i.AssetsManager.ins.resourceObject.textures.gameScene.boom;var m=new BABYLON.HemisphericLight("HemiLight",new BABYLON.Vector3(0,10,0),this.scene);m.intensity=.4,m.diffuse=new BABYLON.Color3(1,1,1),m.groundColor=new BABYLON.Color3(1,1,1);var g=new BABYLON.DirectionalLight("DirectionalLight",new BABYLON.Vector3(.2,-.3,.2),this.scene);g.intensity=1,g.shadowFrustumSize=200,g.shadowMinZ=-100,g.shadowMaxZ=100,setInterval(function(){g.position=new BABYLON.Vector3(e.position.x,e.position.y+1,e.position.z-0)},100);var y=new BABYLON.ShadowGenerator(1024,g);y.bias=4e-4,y.usePercentageCloserFiltering=!0,y.filteringQuality=.1,y.forceBackFacesOnly=!0;var b=new BABYLON.TerrainMaterial("terrainMaterial",this.scene);b.mixTexture=i.AssetsManager.ins.resourceObject.textures.gameScene.maptr2.clone(),new BABYLON.GlowLayer("glow",this.scene).intensity=1,b.diffuseTexture1=i.AssetsManager.ins.resourceObject.textures.gameScene.grass.clone(),b.diffuseTexture1.uScale=20,b.diffuseTexture1.vScale=20,b.diffuseTexture2=i.AssetsManager.ins.resourceObject.textures.gameScene.grass.clone(),b.diffuseTexture2.uScale=20,b.diffuseTexture2.vScale=20,b.diffuseTexture3=i.AssetsManager.ins.resourceObject.textures.gameScene.ground.clone(),b.diffuseTexture3.uScale=20,b.diffuseTexture3.vScale=20;var v=BABYLON.Mesh.CreateSphere("centerHidenPick",16,1,this.scene);v.occlusionType=BABYLON.AbstractMesh.OCCLUSION_TYPE_OPTIMISTIC,v.occlusionQueryAlgorithmType=BABYLON.AbstractMesh.OCCLUSION_ALGORITHM_TYPE_CONSERVATIVE,v.isOccluded=!0,v.position=new BABYLON.Vector3(-3e4,4e3,0);var B=new BABYLON.LensFlareSystem("lensFlareSystem",v,this.scene);B.isBlocker=!0,new BABYLON.LensFlare(2.6,0,new BABYLON.Color3(1,1,1),i.AssetsManager.ins.resourceObject.images.gameScene.lensdirt.src,B),new BABYLON.LensFlare(1.6,1,new BABYLON.Color3(.5,.5,.5),i.AssetsManager.ins.resourceObject.images.gameScene.lens2.src,B);var O=BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI");O.layer.layerMask=1,this.scene.fogMode=BABYLON.Scene.FOGMODE_EXP,this.scene.fogDensity=5e-5,this.scene.fogColor=new BABYLON.Color3(.8,.8,.8),this.display={camera2:a,camera3:l,camera4:h,camera5:u,light:m,light3:g,cameraBox:e,camera2Box:n,steering:s,terrainMaterial:b,shadowGenerator:y,freeMateial:d,boomMateial:f,lensFlareSystem3:B,pickMesh:t,advancedTexture:O,lens3:v,jingzi:p},console.log(this.display)},e}();t.ExGameScene=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(0),s=n(0),a=function(){function e(){this.bullets=[],this.booms=[],this.fireSpeed=30}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),e.prototype.creatMusic=function(){this.musics={qiang:new BABYLON.Sound("qiang",[i.AssetsManager.ins.resourceObject.binarys.gameScene.qiang.url],this.scene,function(){},{loop:!1})}},e.prototype.creatUI=function(){this.starUi=new BABYLON.GUI.Rectangle,this.starUi.width="30px",this.starUi.height="30px",this.starUi.alpha=.8,this.starUi.thickness=0,this.display.advancedTexture.addControl(this.starUi),this.image2=new BABYLON.GUI.Image("but",i.AssetsManager.ins.resourceObject.images.gameScene.jiantou3.src),this.starUi.addControl(this.image2)},e.prototype.init=function(e){this.scene=o.SceneManager.ins.scene,this.display=e,this.creatUI(),this.addEvent(),this.creatMusic();for(var t=0;t<=160;t++)this.bullets[t]=BABYLON.MeshBuilder.CreateSphere("frees",{diameterX:.5,diameterY:.5,diameterZ:80},this.scene),this.bullets[t].lifeState=!1,this.bullets[t].isPickable=!1,this.bullets[t].material=this.display.freeMateial,this.bullets[t].checkCollisions=!1;for(t=0;t<=160;t++)this.booms[t]=BABYLON.MeshBuilder.CreateSphere("boom",{diameter:10},this.scene),this.booms[t].boom=new TWEEN.Tween(this.booms[t].scaling),this.booms[t].lifeState=!1,this.booms[t].isPickable=!1,this.booms[t].material=this.display.boomMateial,this.bullets[t].checkCollisions=!1;var n=this.display.cameraBox.position,i=new BABYLON.Vector3(0,0,1),a=(i=s.Func.ins.vecToLocal(i,this.display.cameraBox)).subtract(n);a=BABYLON.Vector3.Normalize(a),this.ray=new BABYLON.Ray(n,a,3e3)},e.prototype.addEvent=function(){var e=this;this.freeState=!1,document.addEventListener("mousedown",function(t){0==t.button&&(e.freeState=!0)}),document.addEventListener("mouseup",function(t){0==t.button&&(e.freeState=!1)}),setInterval(function(){if(e.freeState){e.musics.qiang.play();var t=Math.random()/100;e.j<=e.bullets.length-1?(e.bullets[e.j].position=new BABYLON.Vector3(e.display.cameraBox.absolutePosition.x+t,e.display.cameraBox.absolutePosition.y+t,e.display.cameraBox.absolutePosition.z),e.bullets[e.j].rotation=new BABYLON.Vector3(e.display.cameraBox.rotation.x+t,e.display.cameraBox.rotation.y+t,e.display.cameraBox.rotation.z),e.bullets[e.j].lifeState=!0,e.j++):(e.j=0,e.bullets[e.j].position=new BABYLON.Vector3(e.display.cameraBox.absolutePosition.x,e.display.cameraBox.absolutePosition.y,e.display.cameraBox.absolutePosition.z),e.bullets[e.j].rotation=new BABYLON.Vector3(e.display.cameraBox.rotation.x,e.display.cameraBox.rotation.y,e.display.cameraBox.rotation.z),e.bullets[e.j].lifeState=!0)}},100)},e.prototype.boom=function(e,t){var n=this;this.booms[e].position=new BABYLON.Vector3(t.position.x,t.position.y,t.position.z),this.booms[e].scaling.x=4,this.booms[e].scaling.y=4,this.booms[e].scaling.z=4,this.booms[e].boom.to({x:1,y:1,z:1},1e3),this.booms[e].boom.start(),this.booms[e].boom.onComplete(function(){n.booms[e].scaling.x=0,n.booms[e].scaling.y=0,n.booms[e].scaling.z=0})},e.prototype.update=function(e){var t=this;this.times=e;var n=this.display.cameraBox.position,i=new BABYLON.Vector3(0,0,1e3),o=(i=s.Func.ins.vecToLocal(i,this.display.cameraBox)).subtract(n);o=BABYLON.Vector3.Normalize(o),this.ray.origin=n,this.ray.direction=o,this.hit=this.scene.pickWithRay(this.ray),Math.random,this.hit.pickedMesh?this.starUi.moveToVector3(this.hit.pickedPoint,this.scene):this.starUi.linkWithMesh(this.display.pickMesh),this.bullets.forEach(function(e,n){if(1==e.lifeState){var i=new BABYLON.Vector3(e.forward.x*t.times*t.fireSpeed,e.forward.y*t.times*t.fireSpeed,e.forward.z*t.times*t.fireSpeed);e.moveWithCollisions(i),e.isVisible=!0,t.hit.pickedMesh&&(e.boomPosition||(e.boomPosition=new BABYLON.Vector3(t.hit.pickedPoint.x,t.hit.pickedPoint.y,t.hit.pickedPoint.z))),e.boomPosition&&s.Func.ins.getDistance(e.position.x,e.position.y,e.position.z,e.boomPosition.x,e.boomPosition.y,e.boomPosition.z)<=50&&(e.lifeState=!1,t.boom(n,e),e.boomPosition=null),s.Func.ins.getDistance(e.position.x,e.position.y,e.position.z,t.display.cameraBox.position.x,t.display.cameraBox.position.y,t.display.cameraBox.position.z)>=3e3&&(e.lifeState=!1,e.boomPosition=null,t.boom(n,e))}else e.isVisible=!1})},e}();t.FireCon=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(0),s=n(0),a=function(){function e(){this.viewState=!0,this.flySpeed=2,this.obstacleCount=0,this.warningText="",this.warnings=[0,0,0,0,0],this._s=0,this._s_y=0,this.moveX=0,this.moveY=0,this.flayState=[]}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),e.prototype.creatMusic=function(){var e=this;this.musics={zhanji:new BABYLON.Sound("zhanji",[i.AssetsManager.ins.resourceObject.binarys.gameScene.zhanji.url],this.scene,function(){e.musics.zhanji.play()},{loop:!0}),win:new BABYLON.Sound("zhanji",[i.AssetsManager.ins.resourceObject.binarys.gameScene.win.url],this.scene,function(){e.musics.win.play()},{loop:!0})}},e.prototype.creatUI=function(){this.rect2=new BABYLON.GUI.Rectangle,this.rect2.scaleX=.7,this.rect2.scaleY=.7,this.rect2.alpha=.8,this.rect2.width="700px",this.rect2.height="400px",this.rect2.color="#009855",this.rect2.thickness=0,console.log(this.rect2),console.log("this.rect2"),this.rect3=new BABYLON.GUI.Rectangle,this.rect3.width="300px",this.rect3.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP,this.rect3.height="10800px",this.rect3.top="0",this.rect3.left="10px",this.rect3.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,this.rect3.thickness=0,this.rect2.addControl(this.rect3),this.image=new BABYLON.GUI.Image("but",i.AssetsManager.ins.resourceObject.images.gameScene.jiantou.src),this.image.width="30px",console.log("this.image"),console.log(this.image),this.image.height="15px",this.image.scaleX=-1,this.image.top="192px",this.image.left="110px",this.image.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP,this.image.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT,this.rect2.addControl(this.image);for(var e=[],t=[],n=360,o=new BABYLON.GUI.Image("but",i.AssetsManager.ins.resourceObject.images.gameScene.jiantou2.src),s=0;s<=36;s++)console.log(s),(n-=30)<=0&&(n=360),e[s]=new BABYLON.GUI.Rectangle,e[s].verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP,e[s].horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,e[s].top=50*s*3,e[s].left="-5px",e[s].width="300px",e[s].height="40px",e[s].thickness=0,this.rect3.addControl(e[s]),t[s]=new BABYLON.GUI.TextBlock,0==n||360==n?(t[s].text="0°",t[s].color="#ffffff"):(t[s].text=n+"°",t[s].color="#129604"),t[s].textHorizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,t[s].fontSize="18px",e[s].addControl(t[s]),e[s].addControl(o);this.tipsBg=new BABYLON.GUI.Rectangle,this.tipsBg.alpha=.8,this.tipsBg.width="620px",this.tipsBg.height="140px",this.tipsBg.color="#009855",this.tipsBg.background="#444444",this.tipsBg.alpha=.2,this.tipsBg.top="20px",this.tipsBg.thickness=1,this.tipsBg.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP,this.tipsBg.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,this.tipsText=new BABYLON.GUI.TextBlock,this.tipsText.width="600px",this.tipsText.height="140px",this.tipsText.color="#ffffff",this.tipsText.fontSize="14px",this.tipsText.text="提示",this.tipsText.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP,this.tipsText.top="20px",this.tipsText.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,this.ico_bg=new BABYLON.GUI.Image("ico_bg",i.AssetsManager.ins.resourceObject.images.gameScene.ico_bg.src),this.ico_bg.width="200px",console.log("this.ico_bg"),console.log(this.ico_bg),this.ico_bg.height="200px",this.ico_bg.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER,this.ico_bg.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,this.ico_b=new BABYLON.GUI.Image("ico_b",i.AssetsManager.ins.resourceObject.images.gameScene.ico_b.src),this.ico_b.width="90px",console.log("this.ico_b"),console.log(this.ico_b),this.ico_b.height="90px",this.ico_b.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER,this.ico_b.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;var a=new BABYLON.GUI.Rectangle;a.top="30%",a.left="30%",a.alpha=.9,a.thickness=0,a.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM,a.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER,a.addControl(this.ico_bg),a.addControl(this.ico_b),this.display.advancedTexture.addControl(this.rect2),this.display.advancedTexture.addControl(this.tipsBg),this.display.advancedTexture.addControl(this.tipsText),this.display.advancedTexture.addControl(a)},e.prototype.init=function(e){this.scene=o.SceneManager.ins.scene,this.display=e,this.creatUI(),this.addEvent(),this.creatMusic();var t=this.display.cameraBox.position,n=new BABYLON.Vector3(0,0,1),i=(n=s.Func.ins.vecToLocal(n,this.display.cameraBox)).subtract(t);i=BABYLON.Vector3.Normalize(i),this.ray=new BABYLON.Ray(t,i,3e3)},e.prototype.addEvent=function(){var e=this;this.freeView=!1,document.addEventListener("keydown",function(t){t.keyCode,32==t.keyCode&&(e.freeView=!0)}),document.addEventListener("keyup",function(t){32==t.keyCode&&(e.freeView=!1)}),this.keyevent()},e.prototype.update=function(e){this.rect2.linkWithMesh(this.display.pickMesh),this.times=e,this._s=this.moveX,0==this.freeView?(this.display.cameraBox.rotation.z=.001*-this.moveX,this.display.camera2.rotation=new BABYLON.Vector3(.3,2*-Math.PI,0),(this.moveY>=50||this.moveY<=-50)&&(this.display.cameraBox.rotation.x-=this.moveY/8e4*this.times,this.musics.zhanji.setPlaybackRate(this.display.cameraBox.rotation.x/10+1)),this.display.cameraBox.rotation.x>2*Math.PI&&(this.display.cameraBox.rotation.x=0),this.display.cameraBox.rotation.x<=2*-Math.PI&&(this.display.cameraBox.rotation.x=0),this.display.camera2.detachControl(o.SceneManager.ins.canvas)):this.display.camera2.attachControl(o.SceneManager.ins.canvas),this.character=this.display.cameraBox,this.canardUpdate(),this.empennageUpdate(),this.wingsUpdate(),this.airflowUpdate(),this.rect2.rotation=-this.display.cameraBox.rotation.z,this.display.cameraBox.rotation.y-=this.display.cameraBox.rotation.z/50*this.times,this.rect3.top=-1460-1800*this.display.cameraBox.rotation.x/(2*Math.PI)+"px",this.display.cameraBox.rotation.z;var t=new BABYLON.Vector3(2*this.character.forward.x*this.times*this.flySpeed,2*this.character.forward.y*this.times*this.flySpeed,2*this.character.forward.z*this.times*this.flySpeed);this.character.moveWithCollisions(t),this.obstacleDetection()},e.prototype.obstacleDetection=function(){var e=this,t=this.display.cameraBox.position;if(this.obstacleCount>=5&&(this.obstacleCount=0),0==this.obstacleCount)var n=new BABYLON.Vector3(0,-1e3,0);1==this.obstacleCount&&(n=new BABYLON.Vector3(0,1e3,0)),2==this.obstacleCount&&(n=new BABYLON.Vector3(0,0,1e3)),3==this.obstacleCount&&(n=new BABYLON.Vector3(-1e3,0,0)),4==this.obstacleCount&&(n=new BABYLON.Vector3(1e3,0,0));var i=(n=s.Func.ins.vecToLocal(n,this.display.cameraBox)).subtract(t);i=BABYLON.Vector3.Normalize(i),this.ray.origin=t,this.ray.direction=i,this.hit=this.scene.pickWithRay(this.ray),0==this.obstacleCount&&this.pickCall(function(t){e.warnings[0]=1,console.log("下方危险"+t),e.warningText="Warning, Bottom collision，"+parseInt(t.toString())+" metres away"},function(){e.warnings[0]=0},this.obstacleCount),1==this.obstacleCount&&this.pickCall(function(t){e.warnings[1]=1,console.log("上方危险"+t),e.warningText="Warning, Top collision，"+parseInt(t.toString())+" metres away"},function(){console.log("上方"),e.warnings[1]=0},this.obstacleCount),2==this.obstacleCount&&this.pickCall(function(t){e.warnings[2]=1,console.log("前方危险"+t),e.warningText="Warning, Front  collision，"+parseInt(t.toString())+" metres away"},function(){e.warnings[2]=0},this.obstacleCount),3==this.obstacleCount&&this.pickCall(function(t){e.warnings[3]=1,console.log("左方危险"+t),e.warningText="Warning, Left collision，"+parseInt(t.toString())+" metres away"},function(){e.warnings[3]=0},this.obstacleCount),4==this.obstacleCount&&this.pickCall(function(t){e.warnings[4]=1,console.log("右方危险"+t),e.warningText="Warning, Right collision，"+parseInt(t.toString())+" metres away"},function(){e.warnings[4]=0},this.obstacleCount),this.obstacleCount++;var o=this.warnings.some(function(e){return 1===e});console.log("ss"),console.log(o),o?this.musics.win.setVolume(.8):this.musics.win.setVolume(0),console.log(this.warnings),this.sayWarning()},e.prototype.pickCall=function(e,t,n){if(this.hit.pickedMesh){var i=s.Func.ins.getDistance(this.hit.pickedPoint.x,this.hit.pickedPoint.y,this.hit.pickedPoint.z,this.display.cameraBox.position.x,this.display.cameraBox.position.y,this.display.cameraBox.position.z);i<=100?(e(i),this.musics.win.setVolume((100-i)/100)):(t(),this.warningText="")}else t(),this.warningText=""},e.prototype.sayWarning=function(){if(0==window.speechSynthesis.speaking){if(localStorage.msg=this.warningText,""!=this.warningText){var e=new SpeechSynthesisUtterance(this.warningText);e.lang="en",window.speechSynthesis.speak(e)}this.tipsText.text=localStorage.msg}else this.tipsText.text=localStorage.msg;console.log(),""==this.tipsText.text?this.tipsBg.alpha=0:this.tipsBg.alpha=.4,console.log(window.speechSynthesis)},e.prototype.keyevent=function(){var e=this;if(document.addEventListener("click",function(t){2==t.button&&(e.viewCtrl(),console.log(4566588))}),this.eleImage=document.getElementById("renderCanvas"),this.eleImage){var t=function(t){if(0==e.freeView){var n=e.moveX+t.movementX,i=e.moveY+t.movementY;n>=1500||n<=-1500?(e.moveX=e.moveX,n=e.moveX):e.moveX=n,i>=1500||i<=-1500?(e.moveY=e.moveY,i=e.moveY):e.moveY=i,.001*e.moveX>2*Math.PI&&(e.moveX=0),.001*e.moveX<=2*-Math.PI&&(e.moveX=0),e.ico_b.top=e.moveY/30,e.ico_b.left=e.moveX/30}};this.eleImage.addEventListener("click",function(t){e.eleImage.requestPointerLock()}),document.addEventListener("pointerlockchange",function(){document.pointerLockElement==e.eleImage?document.addEventListener("mousemove",t,!1):document.removeEventListener("mousemove",t,!1)},!1)}},e.prototype.setMeshVal=function(e,t,n){var i=[];i["up-go"+e.name]=this.scene.beginWeightedAnimation(e,0,.7916666865348816*n,0,!1),i["up-back"+e.name]=this.scene.beginWeightedAnimation(e,.7916666865348816,1.625*n,0,!1),i["down-go"+e.name]=this.scene.beginWeightedAnimation(e,1.625,2.4583332538604736*n,0,!1),i["down-back"+e.name]=this.scene.beginWeightedAnimation(e,2.4583332538604736,3.2916667461395264*n,0,!1),i["back"+e.name]=this.scene.beginWeightedAnimation(e,3*n,3.2916667461395264*n,0,!1),this.flayState[e.name]=t,"up-go"==t&&(i["up-go"+e.name].weight=1,i["up-back"+e.name].weight=0,i["down-go"+e.name].weight=0,i["down-go"+e.name].weight=0,i["back"+e.name].weight=0),"up-back"==t&&(i["up-go"+e.name].weight=0,i["up-back"+e.name].weight=1,i["down-go"+e.name].weight=0,i["down-go"+e.name].weight=0,i["back"+e.name].weight=0),"down-go"==t&&(i["up-go"+e.name].weight=0,i["up-back"+e.name].weight=0,i["down-go"+e.name].weight=1,i["down-back"+e.name].weight=0,i["back"+e.name].weight=0),"down-back"==t&&(i["up-go"+e.name].weight=0,i["up-back"+e.name].weight=0,i["down-go"+e.name].weight=0,i["down-back"+e.name].weight=1,i["back"+e.name].weight=0),"back"==t&&(i["up-go"+e.name].weight=0,i["up-back"+e.name].weight=0,i["down-go"+e.name].weight=0,i["down-back"+e.name].weight=0,i["back"+e.name].weight=1,console.log("中"))},e.prototype.canardUpdate=function(){this.display.cameraBox.rotation.x>.1&&("up-go"!=this.flayState["鸭翼左"]&&this.setMeshVal(this.scene.getMeshByName("鸭翼左"),"up-go",1),"up-go"!=this.flayState["鸭翼右"]&&this.setMeshVal(this.scene.getMeshByName("鸭翼右"),"up-go",1)),this.display.cameraBox.rotation.x<-.1&&("down-go"!=this.flayState["鸭翼左"]&&this.setMeshVal(this.scene.getMeshByName("鸭翼左"),"down-go",1),"down-go"!=this.flayState["鸭翼右"]&&this.setMeshVal(this.scene.getMeshByName("鸭翼右"),"down-go",1)),this.display.cameraBox.rotation.x>=-.1&&this.display.cameraBox.rotation.x<=.1&&("down-go"==this.flayState["鸭翼左"]&&"down-back"!=this.flayState["鸭翼左"]&&this.setMeshVal(this.scene.getMeshByName("鸭翼左"),"down-back",1),"up-go"==this.flayState["鸭翼左"]&&"up-back"!=this.flayState["鸭翼左"]&&this.setMeshVal(this.scene.getMeshByName("鸭翼左"),"up-back",1),"down-go"==this.flayState["鸭翼右"]&&"down-back"!=this.flayState["鸭翼右"]&&this.setMeshVal(this.scene.getMeshByName("鸭翼右"),"down-back",1),"up-go"==this.flayState["鸭翼右"]&&"up-back"!=this.flayState["鸭翼右"]&&this.setMeshVal(this.scene.getMeshByName("鸭翼右"),"up-back",1))},e.prototype.empennageUpdate=function(){this.display.cameraBox.rotation.z>.3&&"up-go"!=this.flayState["尾翼"]&&this.setMeshVal(this.scene.getMeshByName("尾翼"),"up-go",1),this.display.cameraBox.rotation.z<-.3&&"down-go"!=this.flayState["尾翼"]&&this.setMeshVal(this.scene.getMeshByName("尾翼"),"down-go",1),this.display.cameraBox.rotation.z>=-.3&&this.display.cameraBox.rotation.z<=.3&&("down-go"==this.flayState["尾翼"]&&"down-back"!=this.flayState["尾翼"]&&this.setMeshVal(this.scene.getMeshByName("尾翼"),"down-back",1),"up-go"==this.flayState["尾翼"]&&"up-back"!=this.flayState["尾翼"]&&this.setMeshVal(this.scene.getMeshByName("尾翼"),"up-back",1))},e.prototype.wingsUpdate=function(){this._s>this.moveX&&("up-go"!=this.flayState["右翼"]&&this.setMeshVal(this.scene.getMeshByName("右翼"),"up-go",1),"down-go"!=this.flayState["左翼"]&&this.setMeshVal(this.scene.getMeshByName("左翼"),"down-go",1)),this._s<this.moveX&&("down-go"!=this.flayState["右翼"]&&this.setMeshVal(this.scene.getMeshByName("右翼"),"down-go",1),"up-go"!=this.flayState["左翼"]&&this.setMeshVal(this.scene.getMeshByName("左翼"),"up-go",1)),this._s==this.moveX&&("down-go"==this.flayState["右翼"]&&"down-back"!=this.flayState["右翼"]&&this.setMeshVal(this.scene.getMeshByName("右翼"),"down-back",1),"up-go"==this.flayState["右翼"]&&"up-back"!=this.flayState["右翼"]&&this.setMeshVal(this.scene.getMeshByName("右翼"),"up-back",1),"down-go"==this.flayState["左翼"]&&"down-back"!=this.flayState["左翼"]&&this.setMeshVal(this.scene.getMeshByName("左翼"),"down-back",1),"up-go"==this.flayState["左翼"]&&"up-back"!=this.flayState["左翼"]&&this.setMeshVal(this.scene.getMeshByName("左翼"),"up-back",1))},e.prototype.airflowUpdate=function(){this.display.cameraBox.rotation.x>.1&&this.airflowCon(!1),this.display.cameraBox.rotation.x<-.1&&this.airflowCon(!0),this.display.cameraBox.rotation.x>=-.1&&this.display.cameraBox.rotation.x<=.1&&this.airflowCon(!1)},e.prototype.airflowCon=function(e){var t=this;this.airflowConState!=e&&(console.log("airflowCon"),clearInterval(this.airflowConTime),e?this.airflowConTime=setInterval(function(){t.scene.getMeshByName("气流1").isVisible=!t.scene.getMeshByName("气流1").isVisible,t.scene.getMeshByName("气流2").isVisible=!t.scene.getMeshByName("气流2").isVisible},30):(this.scene.getMeshByName("气流1").isVisible=!1,this.scene.getMeshByName("气流2").isVisible=!1),this.airflowConState=e)},e.prototype.viewCtrl=function(){this.viewState=!this.viewState,1==this.viewState?(this.scene.activeCamera=this.display.camera3,this.scene.getMeshByName("驾驶员头").isVisible=!0,this.musics.zhanji.setVolume(1),this.musics.win.setVolume(.3)):(this.scene.activeCamera=this.display.camera2,this.musics.zhanji.setVolume(.5),this.musics.win.setVolume(.3),this.scene.getMeshByName("驾驶员头").isVisible=!1)},e}();t.FlyCon=a},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),s=function(e){function t(){var t=e.call(this)||this;return t.scene=o.ExGameSceneGui.ins.guiObject.sceneChild,t.parent=o.ExGameSceneGui.ins.guiObject,t}return i(t,e),Object.defineProperty(t,"ins",{get:function(){return this.instance||(this.instance=new t),this.instance},enumerable:!0,configurable:!0}),t.prototype.addEvent=function(){console.log("按键事件"),console.log(this.scene.btnLeft),document.body.appendChild(this.scene.viewNode),this.doEvents.viewReset=document.getElementById("button_reset").addEventListener("click",function(){location.reload()})},t.prototype.removeEvent=function(){if(document.getElementById("viewNode"))try{document.body.removeChild(this.scene.viewNode)}catch(e){console.log(e)}},t}(n(0).GameSceneGui);t.ExGameSceneGuiCon=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.creatUI()}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),e.prototype.creatUI=function(){this.parent=new BABYLON.GUI.Rectangle;var e='\n            <style>\n            .button-view{\n                position: fixed;\n                top: 20px;\n                left:20px;\n                background: #349ccd;\n                color: #ffffff;\n                border: 0px solid ;\n                font-size: 18px;\n                padding: 8px 20px;\n                border-radius: 5px;\n                cursor: pointer;\n                transform: scale(1);\n            }\n            .button-view:active{\n              transform: scale(0.8);\n            }\n            .button-reset{\n                position: fixed;\n                top: 20px;\n                right:20px;\n                background: #349ccd;\n                color: #ffffff;\n                border: 0px solid ;\n                font-size: 18px;\n                padding: 8px 20px;\n                border-radius: 5px;\n                cursor: pointer;\n                transform: scale(1);\n            }\n            .about-btn{\n                position: fixed;\n                bottom: 20px;\n                right:20px;\n                background: #349ccd;\n                color: #ffffff;\n                border: 0px solid ;\n                font-size: 18px;\n                padding: 8px 20px;\n                border-radius: 5px;\n                cursor: pointer;\n                transform: scale(1);\n            }\n            button:active{\n              transform: scale(0.8);\n            }\n            </style>\n            <button class="button-reset" id="button_reset">Back</button>\n            <div>\n            <button class="about-btn" onclick="window.location.href=\'https://github.com/renjianfeng/flightSimulator\'">About The Author And Github</button>\n            </div>\n        ',t=document.createElement("div");t.id="viewNode",t.innerHTML=e,this.parent.sceneChild={viewHtml:e,viewNode:t}},Object.defineProperty(e.prototype,"guiObject",{get:function(){return this.parent},enumerable:!0,configurable:!0}),e}();t.ExGameSceneGui=i},function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),s=n(0),a=n(0),r=n(8),c=n(4),l=n(7),h=function(e){function t(){var t=e.call(this)||this;return t.scene=o.ExStartGui.ins.guiObject.sceneChild,t.parent=o.ExStartGui.ins.guiObject,t.gameSceneObject=r.ExGameSceneCon.ins,t}return i(t,e),Object.defineProperty(t,"ins",{get:function(){return this.instance||(this.instance=new t),this.instance},enumerable:!0,configurable:!0}),t.prototype.addEvent=function(){localStorage.weatherState=a.WeatherState.RAIN_DAY,document.body.appendChild(this.scene.viewNode),this.doEvents.viewPlay=document.getElementById("button_play").addEventListener("click",this.onClick_startBtn.bind(this)),this.mapReset()},t.prototype.mapReset=function(){console.log(localStorage)},t.prototype.onClick_startBtn=function(){e.prototype.onClick_startBtn.call(this),l.GlobalManager.ins.openModule(c.ModuleName.GAME_PLAY_SCENE),this.removeEvent()},t.prototype.removeEvent=function(){if(e.prototype.removeEvent.call(this),document.getElementById("startNode"))try{document.body.removeChild(this.scene.viewNode)}catch(e){console.log(e)}},t}(s.StartGui);t.ExStartGuiCon=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.creatUI()}return Object.defineProperty(e,"ins",{get:function(){return this.instance||(this.instance=new e),this.instance},enumerable:!0,configurable:!0}),e.prototype.creatUI=function(){this.parent=new BABYLON.GUI.Rectangle;var e='\n            <style>\n            .button-play{\n                position: fixed;\n                top: 50%;\n                left:50%;\n                background: #349ccd;\n                color: #ffffff;\n                border: 0px solid ;\n                font-size: 42px;\n                border-radius: 5px;\n                cursor: pointer;\n                transform: scale(1);\n                width: 200px;\n                height: 80px;\n                margin-left: -100px;\n                margin-top: 200px;\n            }\n            .button-play:active{\n              transform: scale(0.8);\n            }\n            .weather-config{\n                position: fixed;\n                top: 50%;\n                left:50%;\n                display: block;\n                background: #ffffff;\n                color: #82bab3;\n                border: 0px solid ;\n                font-size: 24px;\n                border-radius: 5px;\n                transform: scale(1);\n                width: 1000px;\n                height: 260px;\n                margin-left: -500px;\n                margin-top: -200px;\n                text-align: center;\n               \n            }\n            .weather-config ul li{\n                display: inline-block;\n                height: 200px;\n                width: 200px;\n                margin: 0px 5px;\n                border: 1px solid #cccccc;\n                cursor: pointer;\n                background-size: 100% 100%;\n                text-shadow: 0px 0px 5px #444;\n            }\n            \n            .weather-config ul li:hover{\n                border: 1px solid royalblue;\n            }\n            .we-active{\n                border: 3px solid #000 !important;\n                opacity: 0.8;\n            }\n            .yw-text{\n              font-size: 14px;\n            }\n            .box-tip{\n            margin-top: 60px;\n            }\n            \n            .map-list{\n                margin-top:-30px;\n                position: relative;\n                top: -30px;\n            }\n            .map-list select{\n                background: transparent;\n                padding: 7px;\n                color: #82bab3;\n                position: relative;\n                top: -2px;\n                font-size: 18px;\n                border-radius: 5px;\n                border: 1px solid #82bab3;\n            }\n            .box-tip{\n                background: rgba(0,0,0,0.2);\n                color: #ffffff;\n                padding: 10px;\n                font-size: 16px;\n                letter-spacing: 3px;\n                position: fixed;\n                bottom: 30px;\n                width:100%;\n                padding-left:20px;\n                text-align: center;\n            }\n\n            .about-btn{\n                position: fixed;\n                top: 20px;\n                left:20px;\n                background: #349ccd;\n                color: #ffffff;\n                border: 0px solid ;\n                font-size: 18px;\n                padding: 8px 20px;\n                border-radius: 5px;\n                cursor: pointer;\n                transform: scale(1);\n            }\n            .game-bg{\n                position: fixed;\n                top: 0;\n                left:0;\n                width:100%;\n                height:100%;\n               // background-color: #349ccd;\n                background-size:100% 100%;\n            }\n            .logo{\n                position: fixed;\n                top: 5%;\n                left:50%;\n                width:500px;\n                height:160px;\n                margin-left:-250px;\n               \n                background-size:100% 100%;\n            }\n\n            </style>\n        \n            <div class="game-bg" id="GAME_BG">\n            <div>\n            <button class="about-btn" onclick="window.location.href=\'https://github.com/renjianfeng/flightSimulator\'">About The Author And Github</button>\n            </div>\n            \n            <button class="button-play" id="button_play">Play</button>\n           \n            </div>\n           \n        ',t=document.createElement("div");t.id="startNode",t.innerHTML=e,document.title="FlightSimulator(台风战机模拟驾驶)",this.parent.sceneChild={viewHtml:e,viewNode:t}},Object.defineProperty(e.prototype,"guiObject",{get:function(){return this.parent},enumerable:!0,configurable:!0}),e}();t.ExStartGui=i}]);
//# sourceMappingURL=hi.js.map