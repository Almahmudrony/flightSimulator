{"version":3,"sources":["webpack://Hi/webpack/bootstrap","webpack://Hi/./src/public/index.ts","webpack://Hi/./src/public/components/Module.ts","webpack://Hi/./src/public/manager/SceneManager.ts","webpack://Hi/./src/public/manager/GuiManager.ts","webpack://Hi/./src/public/enum/ModuleName.ts","webpack://Hi/./src/public/others/DisplayPool.ts","webpack://Hi/./src/public/others/AnimationGui.ts","webpack://Hi/./src/public/manager/GlobalManager.ts","webpack://Hi/./src/Scene/GameScene/ExGameSceneCon.ts","webpack://Hi/./src/Scene/GameScene/language.ts","webpack://Hi/./src/Main.ts","webpack://Hi/./src/Before.ts","webpack://Hi/./src/other/ResourceCon.ts","webpack://Hi/./src/other/SceneBeforeCall.ts","webpack://Hi/./src/public/components/game/GameScenes.ts","webpack://Hi/./src/public/enum/WeatherState.ts","webpack://Hi/./src/public/manager/AssetsManager.ts","webpack://Hi/./src/public/others/AnimationCon.ts","webpack://Hi/./src/public/others/particleCon.ts","webpack://Hi/./src/public/others/GuiCreate.ts","webpack://Hi/./src/public/components/game/Panels.ts","webpack://Hi/./src/public/components/game/Guis.ts","webpack://Hi/./src/public/components/game/StartGui.ts","webpack://Hi/./src/public/components/game/GameSceneGui.ts","webpack://Hi/./src/public/others/Func.ts","webpack://Hi/./src/Scene/GameScene/ExGameScene.ts","webpack://Hi/./src/Scene/GameScene/fireCon.ts","webpack://Hi/./src/Scene/GameScene/flyCon.ts","webpack://Hi/./src/Scene/GameScene/boomCon.ts","webpack://Hi/./src/Scene/GameScene/hotDecoyFlareCon.ts","webpack://Hi/./src/Scene/GameScene/MissileCon.ts","webpack://Hi/./src/Gui/GameSceneGui/ExGameSceneGuiCon.ts","webpack://Hi/./src/Gui/GameSceneGui/ExGameSceneGui.ts","webpack://Hi/./src/Gui/StartGui/ExStartGuiCon.ts","webpack://Hi/./src/Gui/StartGui/ExStartGui.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","e","GameScenes_1","GameScenes","ModuleName_1","ModuleName","WeatherState_1","WeatherState","AssetsManager_1","AssetsManager","GuiManager_1","GuiManager","SceneManager_1","SceneManager","GlobalManager_1","GlobalManager","AnimationCon_1","AnimationCon","AnimationGui_1","AnimationGui","particleCon_1","particleCon","GuiCreate_1","GuiCreate","Panels_1","Panels","Module_1","Module","Guis_1","Guis","StartGui_1","StartGui","GameSceneGui_1","GameSceneGui","DisplayPool_1","DisplayPool","Func_1","Func","initUI","show","args","_i","arguments","length","this","addEvent","hide","removeEvent","updateData","isInit","addClick","display","callback","onPointerUpObservable","add","removeClick","event","remove","delayEnable","delay","mouseEnable","mouseChildren","timeoutId","clearTimeout","setTimeout","dispose","_canvas","document","querySelector","_engine","BABYLON","Engine","deterministicLockstep","lockstepMaxSteps","createScene","scene","Scene","_onPointerUp","_onPointerDown","_onPointerMove","a","Tools","GetPointerPrefix","removeEventListener","window","pointerId","addEventListener","FreeCamera","Vector3","_scene","runRenderLoop","render","TWEEN","update","resize","instance","change","guiPoll","_lastGui","_fullscreenUI","GUI","AdvancedDynamicTexture","CreateFullscreenUI","changeGui","gui","_length","rootContainer","children","removeControl","addControl","appendGui","removeGui","removeAll","openPanel","closePanel","LOADING_GUI","WAITING_PANEL","MSG_PANEL","RULE_PANEL","LOSE_PANEL","GAME_START_GUI","GAME_PLAY_SCENE","GAME_PLAY_GUI","displayPool","advancedTexture","open","opened","keys","push","frame","animationX","Animation","ANIMATIONTYPE_FLOAT","ANIMATIONLOOPMODE_CYCLE","setKeys","animationY","animations","beginAnimation","close","closed","_this","openModule","moduleName","_a","ins","apply","index_1","index_2","index_3","ExGameScene_1","index_4","fireCon_1","flyCon_1","hotDecoyFlareCon_1","MissileCon_1","language_1","ExGameSceneCon","_super","doEvents","importMeshes","__extends","init","resetGame","ExGameScene","creatScene","localStorage","language","msg","Language","languageList","indexTips","SpeechSynthesisUtterance","lang","speechSynthesis","speak","engine","displayLoadingUI","loadingUIText","hideLoadingUI","console","log","getMaterialByName","l_state","setInterval","emissiveColor","Color3","getMeshByName","getChildMeshes","mesh","isVisible","material","backFaceCulling","collisionsEnabled","FlyCon","FireCon","HotDecoyFlareCon","MissileCon","meshes","forEach","checkCollisions","probe","ReflectionProbe","renderList","attachToMesh","cameraBox","renderTargetTexture","RenderTargetTexture","activeCamera","camera4","vScale","uScale","uOffset","vOffset","registerBeforeRender","resourceObject","cubeTextures","gameScene","skybox","isPickable","shadowGenerator","getShadowMap","receiveShadows","isBlocker","reflectionTexture","cubeTexture","level","parent","rotation","y","Math","PI","position","scaling","diffuseTexture","sm","StandardMaterial","emissiveTexture","disableLighting","jingzi","BeforeRender","onBeforeRenderObservable","beforeRender","flyLife","times","getFps","lens3","isOccluded","dmzj","chinese","english","dbzj","qfzj","zfzj","yfzj","Before_1","ua","navigator","userAgent","isIphone","match","isAndroid","body","innerHTML","Before","ResourceCon_1","SceneBeforeCall_1","index_5","ExGameSceneCon_1","ExGameSceneGuiCon_1","ExStartGuiCon_1","resourceData","ResourceCon","resource","loadFile","initModule","SceneBeforeCall","musicLoop","assetsManager","loadCount","parseInt","toString","totalTasksCount","waitingTasksCount","ExStartGuiCon","ExGameSceneGuiCon","pathFirst","resPath","binarys","filePath","fileName","images","models","textures","_resource","j","data","gameOver","SUNNY_DAY","RAIN_DAY","AFTERNOON_DAY","NIGHT_DAY","_resourceObject","SceneLoader","OnPluginActivatedObservable","plugin","GLTFFileLoader","animationStartMode","GLTFLoaderAnimationStartMode","NONE","compileMaterials","set","_resourceData","sceneNames","progress","sceneName","_thisModel","model","addMeshTask","onSuccess","task","_thisMesh","_thisImage","image","addImageTask","_thisTexture","texture","addTextureTask","_thisBinary","binary","addBinaryFileTask","url","rootUrl","sceneFilename","_thisCubeTexture","addCubeTextureTask","load","onProgress","_totalTasksCount","_waitingTasksCount","onFinish","animationBody","_endattr","_mesh","_attr","_speed","_keys","_endCall","_typeData","_loop","endattr","error","attr","speed","endCall","typeData","typedata","loop","animationBox","setbeginAnimation","onAnimationEnd","Pause","pause","Reset","reset","Speed","speedRatio","particle","fountain","Mesh","CreateBox","visibility","x","particleSystem","emitter","stop","start","Position","Parent","panelOut","StackPanel","createList","options","scaleUi","mouse","rectOut","Rectangle","thickness","isPointerBlocker","verticalAlignment","Control","VERTICAL_ALIGNMENT_TOP","horizontalAlignment","HORIZONTAL_ALIGNMENT_LEFT","isVertical","up","down","top","onPointerDownObservable","topY","height","onPointerMoveObservable","mul","left","leftY","width","optionsListCon","config","listTemplate","fullscreenUI","idealWidth","getElementById","offsetWidth","prizeDatalist","bodyWidth","bodyHeight","bodyTop","bodyLeft","optionList","_list","list","panelsAn","view","onClose","onClosed","onOpen","onOpened","onClick_ruleBtn","onClick_optionBtn","onClick_startBtn","removeHtml","section","removeChild","replace","str","replaceList","len","toInt","isIOS","randomArr","arr","random","temp","n1","n2","int","min","max","getDistance","x1","y1","z1","x2","y2","z2","_x","abs","_y","_z","sqrt","vecToLocal","vector","getWorldMatrix","TransformCoordinates","clearColor","Color4","MeshBuilder","depth","npcBox","pickMesh","camera2Box","steering","camera2","UniversalCamera","inertia","fov","attachControl","canvas","detachControl","minZ","maxZ","skyboxMaterial","skybox13","clone","specularColor","skySphere","CreateSphere","diameter","applyFog","camera3","FollowCamera","radius","heightOffset","rotationOffset","cameraAcceleration","maxCameraSpeed","noRotationConstraint","layerMask","z","camera5","ArcRotateCamera","upperRadiusLimit","lowerRadiusLimit","CreatePlane","cameraToUseForPointers","lockedTarget","freeMateial","diffuseColor","boom","boomMateial","light","HemisphericLight","intensity","diffuse","groundColor","light3","DirectionalLight","shadowFrustumSize","shadowMinZ","shadowMaxZ","ShadowGenerator","bias","usePercentageCloserFiltering","filteringQuality","forceBackFacesOnly","terrainMaterial","TerrainMaterial","mixTexture","maptr2","GlowLayer","diffuseTexture1","grass","diffuseTexture2","diffuseTexture3","ground","occlusionType","AbstractMesh","OCCLUSION_TYPE_OPTIMISTIC","occlusionQueryAlgorithmType","OCCLUSION_ALGORITHM_TYPE_CONSERVATIVE","lensFlareSystem3","LensFlareSystem","LensFlare","lensdirt","src","lens2","layer","fogMode","FOGMODE_EXP","fogDensity","fogColor","public_1","public_2","public_3","bullets","booms","fireSpeed","creatMusic","musics","qiang","Sound","creatUI","starUi","alpha","image2","Image","jiantou3","boomSprite","SpriteManager","boom3","diameterX","diameterY","diameterZ","lifeState","Sprite","size","origin","forward","direction","subtract","Normalize","ray","Ray","freeState","button","play","ram","absolutePosition","free","playAnimation","hit","pickWithRay","pickedMesh","moveToVector3","pickedPoint","linkWithMesh","forword","moveWithCollisions","boomPosition","boomCon_1","viewState","flySpeed","obstacleCount","warningText","warnings","_s","_s_y","moveX","moveY","leftState","rightState","flayState","zhanji","win","win2","rect2","scaleX","scaleY","color","rect3","HORIZONTAL_ALIGNMENT_CENTER","jiantou","b5","label","countB","chizi","jiantou2","TextBlock","text","textHorizontalAlignment","fontSize","tipsBg","background","tipsText","ico_bg","VERTICAL_ALIGNMENT_CENTER","ico_b","b_bg","VERTICAL_ALIGNMENT_BOTTOM","BoomCon","freeView","keyCode","keyevent","setPlaybackRate","target","character","canardUpdate","empennageUpdate","wingsUpdate","airflowUpdate","obstacleDetection","pickCall","_jl","some","val","jl","setVolume","sayWarning","call2","speaking","viewCtrl","_qljstate","eleImage","rotate3D","_moveX","movementX","_moveY","movementY","requestPointerLock","pointerLockElement","setMeshVal","state","_sd","beginWeightedAnimation","weight","airflowCon","airflowConState","clearInterval","airflowConTime","particleeExhausts","tailFlowers","ij","particleeExhaust","ParticleHelper","CreateDefault","emitRate","minSize","maxSize","minLifeTime","maxLifeTime","minEmitPower","maxEmitPower","addLimitVelocityGradient","limitVelocityDamping","minInitialRotation","maxInitialRotation","particleTexture","yun","blendMode","ParticleSystem","BLENDMODE_MULTIPLYADD","addColorGradient","addRampGradient","useRampGradients","addColorRemapGradient","targetStopDuration","updateSpeed","renderingGroupId","dan","minEmitBox","maxEmitBox","color1","color2","colorDead","direction1","direction2","cleard","to","onComplete","daodan","missile","ExGameSceneGui_1","ExGameSceneGui","guiObject","sceneChild","btnLeft","appendChild","viewNode","viewReset","location","reload","viewHtml","createElement","id","ExStartGui_1","ExStartGui","gameSceneObject","weatherState","viewPlay","mapReset","title"],"mappings":"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","file":"hi.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","\nimport {GameScenes} from \"./components/game/GameScenes\";\nimport {ResourceData} from \"./interface/ResourceData\";\nimport {fileData} from \"./interface/fileData\";\nimport {ModuleName} from \"./enum/ModuleName\";\nimport {WeatherState} from \"./enum/WeatherState\";\nimport {AssetsManager} from \"./manager/AssetsManager\";\nimport {GuiManager} from \"./manager/GuiManager\";\nimport {SceneManager} from \"./manager/SceneManager\";\nimport {GlobalManager} from \"./manager/GlobalManager\";\nimport {AnimationCon} from \"./others/AnimationCon\";\nimport {AnimationGui} from \"./others/AnimationGui\";\nimport {particleCon} from \"./others/particleCon\";\nimport {GuiCreate} from \"./others/GuiCreate\";\nimport {Panels} from \"./components/game/Panels\";\nimport {Module} from \"./components/Module\";\nimport {Guis} from \"./components/game/Guis\";\nimport {StartGui} from \"./components/game/StartGui\";\nimport {GameSceneGui} from \"./components/game/GameSceneGui\";\nimport {DisplayPool} from \"./others/DisplayPool\";\nimport {Func} from \"./others/Func\";\n\n\n\nexport {\n    //UI创建和scene创建\n    GameScenes,Panels,Module,Guis,DisplayPool,GameSceneGui,StartGui,\n    //other\n    AnimationCon,AnimationGui,particleCon,GuiCreate,\n    //接口\n    ResourceData,fileData,\n    //枚举\n     ModuleName,WeatherState,\n    //管理器\n    AssetsManager,GuiManager,SceneManager,GlobalManager,\n    //工具\n    Func\n}","\n/**\n *Created by cuiliqiang on 2018/3/1\n * 组件基类\n */\n\n\nexport class Module {\n    private timeoutId;\n\n    /**\n     * 显示对象（皮肤）\n     */\n    protected display: any;\n    /**\n     * 是否初始化完成\n     */\n    protected isInit: boolean;\n    /**\n     * 点击事件回调池\n     */\n    private clickCallbackPool: any;\n\n    constructor() {\n      //  var skinClass: any = eval(this.module.skinName);\n       // this.display = new skinClass();\n       // this.clickCallbackPool = {};\n    }\n\n    /**\n     * 初始化UI\n     */\n    protected initUI(): void {\n\n    }\n\n    /**\n     * 显示\n     */\n    protected show(...args): void {\n        this.addEvent();\n    }\n\n    /**\n     * 隐藏\n     */\n    protected hide(...args): void {\n        this.removeEvent();\n    }\n\n    /**\n     * 添加事件\n     */\n    protected addEvent(): void {\n\n    }\n\n    /**\n     * 移除事件\n     */\n    protected removeEvent(): void {\n\n    }\n\n    /**\n     * 更新页面\n     * @param args\n     */\n    public updateData(...args): void {\n        if (!this.isInit) {\n            this.initUI();\n            this.isInit = true;\n        }\n    }\n\n    /**\n     * 添加点击事件\n     * @param display\n     *\n     * @param callback\n     */\n    protected addClick(display: any, callback: Function) {\n        var _this= display.onPointerUpObservable.add(callback);\n        return _this;\n    }\n\n    /**\n     * 移除点击事件\n     * @param display\n     * @param callback\n     */\n    protected removeClick(display: any, event): void {\n        display.onPointerUpObservable.remove(event);\n      //  delete this.clickCallbackPool[display.instanceId];\n    }\n\n    /**\n     * 延时启用点击事件\n     * @param display 显示对象\n     * @param {number} delay 延时事件\n     */\n    protected delayEnable(display: any, delay?: number): void {\n        display.mouseEnable = display.mouseChildren = false;\n        //如果已经禁用事件重新计算\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n\n        this.timeoutId = setTimeout(function () {\n            this.timeoutId = 0;\n            display.mouseEnable = display.mouseChildren = true;\n        }, delay ? delay : 500);\n    }\n\n\n    public dispose(): void {\n\n    }\n}","\n/**\n *Created by renjianfeng\n */\nimport Scene = BABYLON.Scene;\n\n\nexport class SceneManager{\n\n    public stage;\n    private _scene:Scene;\n    private _canvas;\n    private _engine;\n\n    private static instance: SceneManager;\n\n    public static get ins(): SceneManager {\n        if (!this.instance) {\n            this.instance = new SceneManager();\n        }\n        return this.instance;\n    }\n\n    constructor(){\n\n    this._canvas = document.querySelector(\"#renderCanvas\");\n  //  this._engine = new BABYLON.Engine(this._canvas, true);\n    this._engine = new BABYLON.Engine(this._canvas, true, {\n        deterministicLockstep: true,\n        lockstepMaxSteps: 4\n      });\n        var createScene=function(){\n            {\n\n\n                var scene = new BABYLON.Scene(this._engine);\n\n                //下面的代码是为了设置微信上面的touch事件兼容\n\n                var n = scene._onPointerUp\n                    , o = scene._onPointerDown\n                    , r = scene._onPointerMove\n                    , a = BABYLON.Tools.GetPointerPrefix();\n                    this._canvas.removeEventListener(a + \"move\", r),\n                    this._canvas.removeEventListener(a + \"down\", o),\n                    window.removeEventListener(a + \"up\", n),\n                    scene._onPointerUp = function(e) {\n                        void 0 !== e.pointerId && n(e)\n                    }\n                    ,\n                    scene._onPointerDown = function(e) {\n                        void 0 !== e.pointerId && o(e)\n                    }\n                    ,\n                    scene._onPointerMove = function(e) {\n                        void 0 !== e.pointerId && r(e)\n                    }\n                    ,\n                    this._canvas.addEventListener(a + \"move\", scene._onPointerMove, !1),\n                    this._canvas.addEventListener(a + \"down\", scene._onPointerDown, !1),\n                    window.addEventListener(a + \"up\", scene._onPointerUp, !1);\n\n\n                //下面的代码是为了设置微信上面的touch事件兼容\n                var camera = new BABYLON.FreeCamera(\"baseCamera\", new BABYLON.Vector3(0, 0, 0), scene);\n\n              //  var sceneCall=new SceneCall(scene)\n\n             /*   this.stage = BABYLON.MeshBuilder.CreateBox(\"stage\", {}, scene);\n\n                this.stage.isVisible = false;*/\n\n                return scene;\n            }\n        }.bind(this)\n\n        this._scene = createScene();\n\n        this._engine.runRenderLoop(function () {\n            this._scene.render();\n            TWEEN.update();\n        }.bind(this));\n\n        window.addEventListener(\"resize\", function() {\n            this._engine.resize();\n        }.bind(this));\n    }\n\n   /* public get stage(): any {\n        return this._stage;\n    }*/\n\n    public get scene(): Scene {\n        return this._scene;\n    }\n\n    public get canvas(): any {\n        return this._canvas;\n    }\n\n    public get engine(): any {\n        return this._engine;\n    }\n\n    public change(display){\n       /* console.log(display)\n        var i;\n        for(i in display){\n            console.log(display[i])\n        }*/\n/* \n        for(var l of SceneManager.ins.scene.meshes){\n            l.dispose()\n        } */\n\n        /*var j;\n        for(j in SceneManager.ins.stage){\n            console.log(SceneManager.ins.stage[j])\n            if( SceneManager.ins.stage[j]){\n                if(SceneManager.ins.stage[j].getChildMeshes){\n                    SceneManager.ins.stage[j].getChildMeshes(false,(child)=>{\n                        child.dispose();\n                    });\n                }\n                if( SceneManager.ins.stage[j].dispose){\n                    SceneManager.ins.stage[j].dispose()\n                }\n            }\n        }*/\n      //  SceneManager.ins.stage=display;\n    }\n\n  /*  public change(module){\n      //  console.log(this._stage._children)\n        if(this.stage._children){\n            this.stage._children.forEach(function (child) {\n                this.stage.removeChild(child)\n                child.dispose()\n            }.bind(this))\n        }\n        this.stage.addChild(module)\n      //  console.log( this._scene)\n    }*/\n}","/**\n *Created by renjianfeng\n */\nexport class GuiManager {\n\n\n    private _fullscreenUI:any;\n\n    private _lastGui:any;\n\n    private guiPoll:any={};\n\n    private static instance: GuiManager;\n    public static get ins(): GuiManager {\n        if (!this.instance) {\n            this.instance = new GuiManager();\n        }\n        return this.instance;\n    }\n\n\n    constructor(){\n        this._lastGui=null;\n        this._fullscreenUI=BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI(\"GUI\");\n      //  this._fullscreenUI.idealWidth=750;\n    }\n\n    public changeGui(gui,...args){\n        var _length=this._fullscreenUI.rootContainer.children.length\n        for(var i=0;i<_length;i++){\n            this._fullscreenUI.removeControl(this._fullscreenUI.rootContainer.children[0])\n        }\n        this._fullscreenUI.addControl(gui)\n        this._lastGui=gui\n    }\n\n\n    public appendGui(gui,...args){\n        this._fullscreenUI.addControl(gui)\n        this._lastGui=gui\n    }\n\n\n    public removeGui(gui,...args){\n        this._fullscreenUI.removeControl(this._lastGui)\n    }\n\n    public removeAll(gui,...args){\n        var _length=this._fullscreenUI.rootContainer.children.length\n        for(var i=0;i<_length;i++){\n            this._fullscreenUI.removeControl(this._fullscreenUI.rootContainer.children[0])\n        }\n    }\n\n    public openPanel(gui){\n\n    }\n    public closePanel(gui){\n\n    }\n\n\n    public get fullscreenUI(){\n        return this._fullscreenUI;\n    }\n\n    public get lastGui(){\n        return this._lastGui;\n    }\n}\n","export enum ModuleName {\n    //加载场景\n    LOADING_GUI = 'LoadingScene',\n    //等待面板\n    WAITING_PANEL = 'WaitingPanel',\n    //提示信息面板\n    MSG_PANEL = 'MsgPanel',\n    //游戏规则面板\n    RULE_PANEL = 'RulePanel',\n    //未中奖面板\n    LOSE_PANEL = 'LosePanel',\n    //开始场景\n    GAME_START_GUI = 'GameStartScene',\n    //游戏玩法场景\n    GAME_PLAY_SCENE = 'GamePlayScene',\n    //游戏玩法场景GUI\n    GAME_PLAY_GUI = 'GamePlayGui',\n\n}\n","export class DisplayPool{\n    private static instance: DisplayPool;\n\n    public static get ins(): DisplayPool {\n        if (!this.instance) {\n            this.instance = new DisplayPool();\n        }\n        return this.instance;\n    }\n    //场景名称\n    public displayPool: any = {};\n}","/**\n * Created by renjianfeng\n * 弹框动画UI控制器\n */\n\nexport class AnimationGui {\n    private static instance: AnimationGui;\n\n    protected scene;\n    protected advancedTexture;\n\n    constructor(scene,advancedTexture){\n        this.scene=scene;\n        this.advancedTexture=advancedTexture\n    }\n\n    public show = function (gui,open?,opened?) {\n        var keys = [];\n        keys.push({\n            frame: 0,\n            value: 0.1\n        });\n        keys.push({\n            frame: 10,\n            value: 1\n        });\n        var animationX = new BABYLON.Animation(\"\", \"scaleX\", 30, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\n        animationX.setKeys(keys);\n        var animationY = new BABYLON.Animation(\"\", \"scaleY\", 30, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\n        animationY.setKeys(keys);\n        gui.animations = [];\n        gui.animations.push(animationX,animationY);\n        this.advancedTexture.addControl(gui);\n        if(open){\n            open()\n        }\n        this.scene.beginAnimation(gui, 0, 10, false,2,()=>{\n            if(opened){\n                opened()\n            }\n        });\n    };\n\n    public hide = function(gui,close?,closed?){\n        var keys = [];\n        keys.push({\n            frame: 0,\n            value: 1\n        });\n        keys.push({\n            frame: 10,\n            value: 0.1\n        });\n        var animationX = new BABYLON.Animation(\"\", \"scaleX\", 30, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\n        animationX.setKeys(keys);\n        var animationY = new BABYLON.Animation(\"\", \"scaleY\", 30, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\n        animationY.setKeys(keys);\n        gui.animations = [];\n        gui.animations.push(animationX,animationY);\n        if(close){\n            close()\n        }\n        this.scene.beginAnimation(gui, 0, 10, false,2,()=>{\n            this.advancedTexture.removeControl(gui);\n            //this.advancedTexture.dispose();\n            if(closed){\n                closed()\n            }\n        });\n    };\n\n}\n\n","\n/**\n *Created by renjianfeng\n */\nimport {ModuleName} from \"../enum/ModuleName\";\nimport {DisplayPool} from \"../others/DisplayPool\";\nexport class GlobalManager {\n\n    //管理器单例\n    private static instance: GlobalManager;\n\n    public static get ins(): GlobalManager {\n        if (!this.instance) {\n            this.instance = new GlobalManager();\n        }\n        return this.instance;\n    }\n\n    /**\n     * 打开一个模块\n     * @param {ModuleName} moduleName\n     */\n    public openModule(moduleName:string, ...args): void {\n        DisplayPool.ins.displayPool[moduleName].show(...args)\n    }\n}","\nimport {AssetsManager, SceneManager} from \"../../public/index\";\nimport {DisplayPool} from \"../../public/index\";\nimport {ModuleName} from \"../../public/index\";\nimport {EventCon} from \"../../other/EventCon\";\nimport {ExGameScene} from \"./ExGameScene\";\nimport {GameScenes} from \"../../public/index\";\nimport {particleCon} from \"../../public/index\";\nimport {WeatherState} from \"../../public/index\";\nimport {Func} from \"../../public/index\";\n\nimport { FireCon } from './fireCon';\nimport { FlyCon } from './flyCon';\nimport { NpcCon } from './NpcCon';\nimport { HotDecoyFlareCon } from './hotDecoyFlareCon';\nimport { MissileCon } from './MissileCon';\nimport {Language} from \"./language\"\n\n\n\nexport class ExGameSceneCon extends GameScenes{\n    private static instance: ExGameSceneCon;\n\n    public static get ins(): ExGameSceneCon {\n        if (!this.instance) {\n            this.instance = new ExGameSceneCon();\n        }\n        return this.instance;\n    }\n\n\n    protected display;\n\n    protected scene;\n\n    protected doEvents=[];\n\n    constructor(){\n        super()\n    }\n\n    protected importMeshes=[]\n\n\n    public init(){\n        DisplayPool.ins.displayPool[ModuleName.GAME_PLAY_SCENE]=this;\n    }\n\n \n    private rect2;\n    private rect3;\n    private image;\n\n    protected resetGame(){\n        ExGameScene.ins.creatScene()\n        var scene=SceneManager.ins.scene;\n        this.scene=SceneManager.ins.scene;\n        this.display=ExGameScene.ins.display;\n\n        localStorage.language=\"chinese\";\n\n        //window.speechSynthesis.stop();\n       // msg.volume=4;\n       // console.log(msg);\n\n       setTimeout(()=>{\n        localStorage.msg=Language.ins.languageList.indexTips[localStorage.language];\n        var msg = new SpeechSynthesisUtterance(localStorage.msg);\n        if(localStorage.language!=\"chinese\"){\n            msg.lang=\"en\";\n        }\n       \n           window.speechSynthesis.speak(msg);\n       },1000)\n\n        //隐藏UI\n        SceneManager.ins.engine.displayLoadingUI();\n        SceneManager.ins.engine.loadingUIText = \"Initializing...\";\n        SceneManager.ins.engine.hideLoadingUI();\n\n\n        console.log(\"Pilot Head\")\n        console.log(this.scene.getMaterialByName(\"Pilot Head\"))\n\n\n        var l_state=true;\n       setInterval(()=>{\n          l_state=!l_state\n          if(l_state){\n            this.scene.getMaterialByName(\"Pilot Head\").emissiveColor=new BABYLON.Color3(0.2,0.2,0.2);\n          //  this.image.alpha=0;\n          }else{\n            this.scene.getMaterialByName(\"Pilot Head\").emissiveColor=new BABYLON.Color3(0.3,0.3,0.3);\n         //   this.image.alpha=1;\n          }\n       },10)\n\n       setInterval(()=>{\n           //  this.scene.getMeshByName(\"灯\").isVisible=true;\n             this.scene.getMeshByName(\"灯\").getChildMeshes(false,(mesh)=>{\n                mesh.isVisible=true;\n            })\n            setTimeout(()=>{\n                this.scene.getMeshByName(\"灯\").getChildMeshes(false,(mesh)=>{\n                    mesh.isVisible=false;\n                })\n            },50)\n       },1000)\n     \n   \n        this.scene.getMeshByName(\"气流1\").material.backFaceCulling=false;\n        this.scene.getMeshByName(\"气流2\").material.backFaceCulling=false;\n        this.scene.collisionsEnabled = false;\n\n        //安装飞行系统\n        FlyCon.ins.init(this.display)\n        //安装子弹系统\n        FireCon.ins.init(this.display)\n     //   NpcCon.ins.init(this.display)\n        HotDecoyFlareCon.ins.init(this.display)\n        MissileCon.ins.init(this.display)\n\n       // alert\n\n        this.scene.meshes.forEach((mesh)=>{\n            mesh.checkCollisions = false;;\n        })\n\n        var probe = new BABYLON.ReflectionProbe(\"main\", 60, this.scene);\n      \n        probe.renderList.push( this.scene.getMeshByName(\"default\"));\n        probe.renderList.push(this.scene.getMeshByName(\"skySphere\"));\n     //   probe.refreshRate = BABYLON.RenderTargetTexture.REFRESHRATE_RENDER_ONCE;   \n        probe.attachToMesh(this.display.cameraBox);\n\n        var renderTargetTexture = new BABYLON.RenderTargetTexture('tex', 512, scene);\n        renderTargetTexture.activeCamera = this.display.camera4;\n        renderTargetTexture.vScale=18;\n        renderTargetTexture.uScale=8;\n        renderTargetTexture.uOffset=1\n        renderTargetTexture.vOffset=-0.85\n        \n        this.scene.meshes.forEach((mesh)=>{\n            renderTargetTexture.renderList.push(mesh);\n        })\n        scene.registerBeforeRender( ()=> {\n            renderTargetTexture.render();\n        })\n\n     //   this.scene.environmentTexture=AssetsManager.ins.resourceObject[\"cubeTextures\"][\"gameScene\"][\"skybox\"];\n     var cubeTextures =AssetsManager.ins.resourceObject[\"cubeTextures\"][\"gameScene\"][\"skybox\"];\n     //   this.scene.workerCollisions=true;\n        this.scene.getMeshByName(\"__root__\").getChildMeshes(false,(mesh)=>{\n            console.log(mesh)\n            console.log(mesh.name)\n            mesh.isPickable=false;\n            this.display.shadowGenerator.getShadowMap().renderList.push(mesh);\n            mesh.receiveShadows = true;\n            if(mesh.name==\"Glass\"){\n                mesh.isBlocker=false;\n            }else{\n                mesh.isBlocker=true;\n            }\n            if(mesh.material){\n                mesh.material.backFaceCulling=false;\n                console.log(\"mesh.material\")\n                console.log(mesh.material)\n               // mesh.material.baseTexture=this.scene.environmentTexture;\n               // mesh.material.environmentTexture= probe.cubeTextures;\n                mesh.material.reflectionTexture= probe.cubeTexture;\n             //   mesh.material.reflectionTexture.level=.3\n             //   mesh.material.reflectivityTexture= probe.cubeTexture;\n             //   mesh.material.linkRefractionWithTransparency = true\n                console.log(\"mesh.material.reflectionTexture\")\n                console.log( mesh.material.reflectionTexture)\n\n                if(mesh.name==\"Glass\"){\n                    mesh.material.reflectionTexture.level=1\n                }else{\n                    mesh.material.reflectionTexture.level=.3\n                }\n                \n                \n           //     mesh.material.reflectionTexture= renderTargetTexture;\n              //  mesh.material.environmentTexture= this.scene.environmentTexture;\n               // mesh.material.usePhysicalLightFalloff = false;\n               // mesh.material._usePhysicalLightFalloff = false;\n              //  mesh.material._environmentIntensity = 0.8;\n            }\n        })\n\n        this.scene.getMeshByName(\"__root__\").parent=this.display.cameraBox\n        this.scene.getMeshByName(\"__root__\").rotation.y=-Math.PI*1\n      //  this.scene.getMeshByName(\"__root__\").position.x=-0.1;\n        this.scene.getMeshByName(\"__root__\").position.y=-0;\n        this.display.cameraBox.scaling=new BABYLON.Vector3(10,10,10)\n      //  this.scene.getMeshByName(\"default\").material=this.display.terrainMaterial\n        this.scene.getMeshByName(\"default\").isPickable=true;\n        this.scene.getMeshByName(\"default\").isBlocker=true;\n        this.scene.getMeshByName(\"default\").scaling=new BABYLON.Vector3(40,40,40);\n        this.scene.getMeshByName(\"default\").material.diffuseTexture.uScale=4;\n        this.scene.getMeshByName(\"default\").material.diffuseTexture.vScale=4;\n        this.display.cameraBox.position.y=-10;\n\n      \n       \n        \n\n        var sm= new BABYLON.StandardMaterial(\"jingzi\", scene);\n        sm.emissiveTexture = renderTargetTexture;\n        sm.disableLighting=true;\n        sm.backFaceCulling=false;\n       // sm.reflectionTexture = renderTargetTexture;\n       // this.display.jingzi.material =sm\n\n        \n\n        this.scene.getMeshByName(\"jinzi\").material=sm\n        this.display.jingzi.material=sm\n        //this.scene.getMeshByName(\"jinzi\").scaling.x=-0.1\n\n     \n        console.log(\"this.display.jingzi.material\")\n      //  console.log(this.display.jingzi.material)\n       // this.display.camera.target=this.display.cameraBox.position;\n\n\n// Mirror\n/* var mirror = BABYLON.Mesh.CreateBox(\"Mirror\", 1.0, scene);\nmirror.scaling = new BABYLON.Vector3(10000.0, 0.01, 10000.0);\nmirror.material = new BABYLON.StandardMaterial(\"mirror\", scene);\nmirror.material[\"reflectionTexture\"] = new BABYLON.MirrorTexture(\"mirror\", {ratio: 0.5}, scene, true);\nmirror.material[\"reflectionTexture\"].mirrorPlane = new BABYLON.Plane(0, -1.0, 0, -200.0);\nmirror.material[\"reflectionTexture\"].renderList = [this.scene.getMeshByName(\"default\"),this.display.skySphere];\nmirror.material[\"reflectionTexture\"].level = 1.0;\nmirror.material[\"reflectionTexture\"].adaptiveBlurKernel = 32;\nmirror.position = new BABYLON.Vector3(0, -800, 0); */\n    }\n    protected addEvent(){\n        this.doEvents[\"BeforeRender\"]=SceneManager.ins.scene.onBeforeRenderObservable.add(()=>{\n            this.beforeRender()\n        })\n    }\n\n    private times\n    protected beforeRender(){\n\n        if(!FlyCon.ins.flyLife){\n            return false;\n        }\n\n        this.times= 60/SceneManager.ins.engine.getFps();\n        FireCon.ins.update(this.times)\n        FlyCon.ins.update(this.times)\n      //  NpcCon.ins.update(this.times)\n        HotDecoyFlareCon.ins.update(this.times)\n        MissileCon.ins.update(this.times)\n        if(this.display.lens3.isOccluded){\n           // console.log(\"被遮挡\")\n          //  this.display.lensFlareSystem3.isEnabled=false;\n            \n        }else{\n         //   this.display.lensFlareSystem3.isEnabled=true;\n        }\n    }\n}\n","/**\n * 子弹控制系统   by renjianfeng \n */\n\n\nexport class Language{\n\n    private static instance: Language;\n\n    public static get ins(): Language {\n        if (!this.instance) {\n            this.instance = new Language();\n        }\n        return this.instance;\n    }\n\n    public languageList:any={\n            //地面撞击警告\n            dmzj:{\n                chinese:\"注意地面撞击，距离${0} 米；\",\n                english:\"Warning, Bottom collision，${0} metres away\",\n            }, \n            //上方撞击警告\n            dbzj:{\n                chinese:\"注意上方撞击，距离${0} 米；\",\n                english:\"Warning, Top collision，${0} metres away\",\n            },\n            //前方撞击警告\n            qfzj:{\n                chinese:\"注意前方撞击，距离${0} 米；\",\n                english:\"Warning, Front collision，${0} metres away\",\n            },\n            //左方撞击警告\n            zfzj:{\n                chinese:\"注意左方撞击，距离${0} 米；\",\n                english:\"Warning, Left collision，${0} metres away\",\n            },\n             //右方撞击警告\n             yfzj:{\n                chinese:\"注意右方撞击，距离${0} 米；\",\n                english:\"Warning, Right collision，${0} metres away\",\n            },\n\n             //右方撞击警告\n             indexTips:{\n                chinese:\"你好，欢迎驾驶台风战机。\\n您可以通过鼠标左键进行射击，右键切换第一人称和第三人称视角，\\n通过长按空格键并拖动鼠标进行自由视角观察,\\nQ键为导弹，E键为干扰弹，R为放下起落架。\",\n                english:\"Hello, Welcome to fly the Typhoon fighter. \\n You can shoot by the left button of the mouse,\\n Change the view by right button, \\nand control the flight by dragging the mouse. \\n \\nYou can press the space bar and drag the mouse to view the free view.\\n You can release the jammer by pressing the 'E' key.\",\n            },\n\n        }\n    \n}\n\n\n","\nimport {Before} from \"./Before\";\n\nwindow.addEventListener(\"load\",()=>{\n\n    var ua = navigator.userAgent;\n\n    var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/),\n\n        isIphone =!ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/),\n\n        isAndroid = ua.match(/(Android)\\s+([\\d.]+)/),\n\n        isMobile = isIphone || isAndroid;\n\n//判断\n\n    if(isMobile){\ndocument.body.innerHTML= `\n    <style>\n        body{\n        text-align: center;\n        font-size: 1rem;\n        color: #349ccd;\n        }\n\n    h1{\n    margin-top: 10rem;\n    }\n    </style> \n    <h1>Hi!</h1>\n    Please access through PC, mobile phone temporarily not supported!\" <br>(请通过PC访问，手机暂时不支持！)`;\n    }else{\n        Before.ins.update();\n    }\n\n\n})\n","\nimport {ResourceCon} from \"./other/ResourceCon\";\nimport {SceneBeforeCall} from \"./other/SceneBeforeCall\";\nimport {AssetsManager} from \"./public/index\"\nimport {SceneManager} from \"./public/index\";\nimport {GlobalManager} from \"./public/index\";\nimport {DisplayPool} from \"./public/index\";\nimport {ModuleName} from \"./public/index\"\nimport {ExGameSceneCon} from \"./Scene/GameScene/ExGameSceneCon\";\nimport {ExGameSceneGuiCon} from \"./Gui/GameSceneGui/ExGameSceneGuiCon\";\nimport {ExStartGuiCon} from \"./Gui/StartGui/ExStartGuiCon\";\n\n\n\nexport class Before{\n\n\n    private static instance: Before;\n\n    public static get ins(): Before {\n        if (!this.instance) {\n            this.instance = new Before();\n        }\n        return this.instance;\n    }\n\n\n    public update(){\n        AssetsManager.ins.resourceData=ResourceCon.ins.resource;\n        AssetsManager.ins.loadFile([\"gameScene\"],SceneManager.ins.scene,()=>{\n            this.initModule()\n            console.log(DisplayPool.ins.displayPool)\n            GlobalManager.ins.openModule(ModuleName.GAME_START_GUI);\n            SceneBeforeCall.ins.musicLoop();\n        },(e,assetsManager)=>{\n            console.log(e.loadCount)\n            console.log(e)\n            console.log(assetsManager)\n            SceneManager.ins.engine.loadingUIText = \"loading:\"+parseInt((e.loadCount*100).toString()) +\"%<br><br>(\"+(e.totalTasksCount-e.waitingTasksCount)+\"/\"+e.totalTasksCount+\")\";\n        })\n    }\n\n    protected addEvent(): void {\n\n    }\n\n\n    /**\n     * 安装GUI/3D场景模块\n     * */\n\n    public initModule(){\n        //游戏3D场景\n        ExGameSceneCon.ins.init();\n        ExStartGuiCon.ins.init();\n        ExGameSceneGuiCon.ins.init();\n    }\n\n}\n","import {ResourceData} from \"../public/index\"\n\nexport class ResourceCon {\n\n    private _resource;\n\n    private static instance: ResourceCon;\n\n    public static get ins(): ResourceCon {\n        if (!this.instance) {\n            this.instance = new ResourceCon();\n        }\n        return this.instance;\n    }\n\n    private pathFirst=window[\"resPath\"]\n\n    constructor(){\n        let gameScene:ResourceData;\n\n        gameScene={\n            binarys:[\n                {name:\"zhanji\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"zhanji4.mp3\"},\n                {name:\"qiang\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"qiang7.mp3\"},\n                {name:\"daodan\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"daodan.mp3\"},\n                {name:\"dan\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"qiang2.mp3\"},\n                {name:\"win\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"mu_2.mp3\"},\n                {name:\"win2\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"mu_1.mp3\"},\n                {name:\"boom\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"boom.mp3\"},\n               // {name:\"sm14\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"sm14.glb\"},\n            ],\n            images:[\n            \n                {name:\"after\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"after.jpg\"},\n                {name:\"night\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"night.jpg\"},\n                {name:\"rain\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"rain.jpg\"},\n                {name:\"sun\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"sun.jpg\"},\n                {name:\"map1\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"map_1.jpg\"},\n                {name:\"map2\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"map_2.jpg\"},\n                {name:\"map3\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"map_3.jpg\"},\n                {name:\"logo\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"logo.png\"},\n                {name:\"jiantou\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"jiantou.png\"},\n                {name:\"jiantou2\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"jiantou4.png\"},\n                {name:\"jiantou3\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"jiantou3.png\"},\n                {name:\"lensdirt\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"lensdirt.jpg\"},\n              //  {name:\"lens\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"lens.jpg\"},\n                {name:\"lens2\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"lens4.jpg\"},\n                {name:\"ico_b\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"ico_b.png\"},\n                {name:\"ico_bg\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"ico_bg.png\"},\n                {name:\"boom3\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"boom3.png\"},\n            ],\n            models:[\n               \n              /*   {name:\"wheel\", filePath:this.pathFirst+\"src/Resource/gameScene/models/car2/\", fileName:\"wheel.babylon\"},\n                {name:\"map1\", filePath:this.pathFirst+\"src/Resource/gameScene/models/height_m2/\", fileName:\"height_m18.babylon\"},\n                {name:\"map2\", filePath:this.pathFirst+\"src/Resource/gameScene/models/height_m2/\", fileName:\"height_m15.babylon\"},*/\n                {name:\"map3\", filePath:this.pathFirst+\"src/Resource/gameScene/models/height_m2/\", fileName:\"height_m22.babylon\"}, \n                {name:\"sm14\", filePath:this.pathFirst+\"src/Resource/gameScene/models/sm14/\", fileName:\"sm108.glb\"},\n            ],\n            textures:[\n                {name:\"grass\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"grass.png\"},\n                {name:\"boom\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"boom.jpg\"},\n                {name:\"grass2\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"grass.jpg\"},\n                {name:\"skybox13\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"skybox6.png\"},\n                {name:\"ground\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"ground.jpg\"},\n                {name:\"maptr\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"maptr.jpg\"},\n                {name:\"maptr2\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"maptr5.jpg\"},\n                {name:\"stainedGlass\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"stainedGlass.png\"},\n                {name:\"waterbump\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"waterbump.png\"},\n                {name:\"yu\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"yu.png\"},\n                {name:\"lighting\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"lighting4.png\"},\n\n                {name:\"flare\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"flare.png\"},\n              //  {name:\"lensstar\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"lensstar.jpg\"},\n                {name:\"yun\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"yun.png\"},\n\n            ],\n            cubeTextures:[\n                {name:\"skybox\", filePath:this.pathFirst+\"src/Resource/gameScene/cubeTextures/skybox/\", fileName:\"skybox\",}\n            ]\n        };\n\n\n\n        this._resource={\n            gameScene:gameScene,\n        }\n    }\n\n    public get resource(): object {\n        return this._resource;\n    }\n}","import {SceneManager} from \"../public/index\"\nimport {AssetsManager} from \"../public/index\"\n\n\n/**\n * 全局执行函数\n *\n *\n* */\nexport class SceneBeforeCall {\n    private static instance: SceneBeforeCall;\n\n    public static get ins(): SceneBeforeCall {\n        if (!this.instance) {\n            this.instance = new SceneBeforeCall();\n        }\n        return this.instance;\n    }\n\n    public game_bg:any;\n\n    constructor(){}\n\n    public musicLoop(){\n      /*  this.game_bg = new BABYLON.Sound(\"Cello\",AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"game_bg\"][\"url\"], SceneManager.ins.scene,()=>{\n            this.game_bg.play()\n            this.game_bg.setVolume(0.5)\n        },{loop:true});*/\n    }\n}","import {Module} from \"../Module\";\nimport {SceneManager} from \"../../manager/SceneManager\";\nimport {GlobalManager} from \"../../manager/GlobalManager\";\nimport {ModuleName} from \"../../enum/ModuleName\";\n\nexport class GameScenes extends Module{\n\n    //场景名称\n    protected sceneName:string;\n\n    protected isInit:boolean;\n\n    /**\n     * 是否校验积分\n     */\n    protected checkScore: boolean;\n\n    /**\n     * 开始游戏数据\n     */\n  //  protected doStartData: DoStartData;\n\n    /**\n     * 扩展数据\n     * */\n    protected other: any;\n\n\n    protected score;\n\n    // protected display:any;\n\n    constructor(){\n        super()\n    }\n\n    //销毁\n    public dispose(){\n        var j;\n        for(j in this.display){\n            console.log(this.display[j])\n            if( this.display[j]){\n                this.display[j].dispose()\n            }\n        }\n    }\n\n\n\n    public show(data){\n        this.resetGame()\n        SceneManager.ins.change(this.display);\n        this.addEvent()\n    }\n\n    protected resetGame(){\n\n    }\n\n    protected gameOver(): void {\n        this.removeEvent();\n        //将最高纪录缓存\n    }\n}","export enum WeatherState {\n    //晴天\n    SUNNY_DAY = 0,\n    //雨天\n    RAIN_DAY = 1,\n    //下午\n    AFTERNOON_DAY = 2,\n    //晚上\n    NIGHT_DAY = 3,\n}\n","/**\n *Created by renjianfeng\n */\nexport class AssetsManager {\n    private _resourceData;\n    private _resourceObject:object;\n\n\n    private static instance: AssetsManager;\n\n    public static get ins(): AssetsManager {\n        if (!this.instance) {\n            this.instance = new AssetsManager();\n        }\n        return this.instance;\n    }\n\n    constructor(){\n        //this._resourceData=ResourceCon.ins.resource;\n        this._resourceObject={\n            binarys:{},\n            images:{},\n            models:{},\n            textures:{},\n            cubeTextures:{}\n        }\n\n        BABYLON.SceneLoader.OnPluginActivatedObservable.add(function (plugin) {\n            // currentPluginName = plugin.name;\n                 if (plugin.name === \"gltf\" && plugin instanceof BABYLON.GLTFFileLoader) {\n                     plugin.animationStartMode = BABYLON.GLTFLoaderAnimationStartMode.NONE;\n                     plugin.compileMaterials = true;\n                 }\n        });\n    }\n\n    public set resourceData(resource){\n        this._resourceData=resource;\n    }\n\n    public loadFile(sceneNames:Array<string>,scene,callback,progress){\n\n        let assetsManager = new BABYLON.AssetsManager(scene);\n\n        sceneNames.forEach(function(sceneName){\n            //加载模型\n            var _thisModel={}\n            this._resourceData[sceneName].models.forEach(function(model,plugin){\n                let meshTask = assetsManager.addMeshTask(\n                    \"skull task\",\n                    \"\",\n                    model.filePath,\n                    model.fileName\n                );\n              \n                meshTask.onSuccess = function (task) {\n\n                    console.log(\"meshTask\")\n                    console.log(task)\n                  /*  let _thisMesh = BABYLON.MeshBuilder.CreateBox(\"\", {}, scene);\n                    _thisMesh.isVisible=false;\n                    _thisMesh.position=new BABYLON.Vector3(0,0,0);\n                    task.loadedMeshes.forEach(function(mesh){\n                        mesh.isVisible=false;\n                       // mesh.position=new BABYLON.Vector3(0,0,0);\n                        mesh.parent=_thisMesh;\n                     /!*   mesh.getChildMeshes(false,function(child){\n                            child.parent=_thisMesh;\n                        })*!/\n                        //_thisMesh.addChild(mesh)\n                    }.bind(this))*/\n\n                  /*   task.loadedMeshes.forEach(function(mesh){\n                        mesh.isVisible=false;\n                        mesh.name=\"noneisVisible_\"+mesh;\n                    })\n */\n                    let _thisMesh=task;\n\n                   // this._resourceObject.models[model.name]=_thisMesh;\n                    _thisModel[model.name]=_thisMesh\n                    this._resourceObject.models[sceneName]=_thisModel;\n\n                }.bind(this)\n            }.bind(this))\n\n\n            //加载图片\n            var _thisImage={}\n            this._resourceData[sceneName].images.forEach(function(image){\n                let imageTask = assetsManager.addImageTask(\n                    \"image task\",\n                    image.filePath+image.fileName,\n                );\n                imageTask.onSuccess = function (task) {\n                    _thisImage[image.name]=task.image\n                    this._resourceObject.images[sceneName]=_thisImage;\n                }.bind(this)\n            }.bind(this))\n\n\n\n\n            //加载贴图\n            var _thisTexture={}\n            this._resourceData[sceneName].textures.forEach(function(texture){\n                let textureTask = assetsManager.addTextureTask(\n                    \"texture task\",\n                    texture.filePath+texture.fileName,\n                );\n                textureTask.onSuccess = function (task) {\n                    _thisTexture[texture.name]=task.texture\n                    this._resourceObject.textures[sceneName]=_thisTexture;\n                }.bind(this)\n            }.bind(this))\n\n\n            //加载二进制文件\n            var _thisBinary={}\n            this._resourceData[sceneName].binarys.forEach(function(binary){\n                let binaryTask = assetsManager.addBinaryFileTask(\n                    \"binary task\",\n                    binary.filePath+binary.fileName,\n                );\n                binaryTask.onSuccess = function (task) {\n                    console.log(6666677)\n\n                    _thisBinary[binary.name]=task.data\n                    _thisBinary[binary.name][\"url\"]=task.url\n                    _thisBinary[binary.name][\"rootUrl\"]=binary.filePath\n                    _thisBinary[binary.name][\"sceneFilename\"]=binary.fileName\n                    this._resourceObject.binarys[sceneName]=_thisBinary;\n\n                    console.log(_thisBinary[binary.name])\n                }.bind(this)\n            }.bind(this))\n\n\n            //加载天空盒子/环境贴图\n            var _thisCubeTexture={}\n            this._resourceData[sceneName].cubeTextures.forEach(function(cubeTexture){\n                let cubeTextureTask = assetsManager.addCubeTextureTask(\n                    \"cubeTexture task\",\n                    cubeTexture.filePath+cubeTexture.fileName,\n                );\n                cubeTextureTask.onSuccess = function (task) {\n                    _thisCubeTexture[cubeTexture.name]=task.texture\n                    this._resourceObject.cubeTextures[sceneName]=_thisCubeTexture;\n                }.bind(this)\n            }.bind(this))\n\n        }.bind(this))\n\n        assetsManager.load();\n\n\n        //加载成功一个子元素调用\n        assetsManager.onProgress=function(task) {\n            var _this={\n                totalTasksCount:assetsManager._totalTasksCount,\n                waitingTasksCount:assetsManager._waitingTasksCount,\n                loadCount:(assetsManager._totalTasksCount-assetsManager._waitingTasksCount)/assetsManager._totalTasksCount\n            }\n            progress(_this,assetsManager)\n\n        }.bind(this);\n\n        //全部加载成功调用\n        assetsManager.onFinish=function(task) {\n            callback()\n        }.bind(this);\n\n    }\n\n    public get resourceObject(){\n        return this._resourceObject;\n    }\n\n}","import {GuiCreate} from \"./GuiCreate\";\n\n/**\n * Created by renjianfeng\n *动画控制器\n */\nexport class AnimationCon {\n    private static instance: AnimationCon;\n    private setbeginAnimation;\n\n    public static  get  ins():AnimationCon{\n        if(!this.instance){\n            this.instance=new AnimationCon()\n        }\n        return this.instance;\n    }\n\n    constructor(){}\n\n    public animationBody(object,scene){\n        //动画模式\n        var _endattr;\n\n        //动画对象\n        var _mesh;\n\n        //动画属性\n        var _attr;\n\n        //动画速度\n        var _speed;\n\n        //动画帧\n        var _keys;\n\n        //动画结束回调函数\n        var _endCall;\n\n        //动画数据类型\n        var _typeData\n\n        //动画数据类型\n        var _loop;\n\n        if(object.endattr!=null){\n            _endattr=object.endattr;\n        }else{\n            _endattr=BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE;\n        }\n\n        if(object.mesh!=null){\n            _mesh=object.mesh;\n        }else {\n            _mesh=null;\n            console.error(\"动画对象不能为空！\")\n        }\n\n        if(object.attr!=null){\n            _attr=object.attr;\n        }else {\n            _attr=null;\n            console.error(\"动画对象属性不能为空！\")\n        }\n\n        if(object.speed!=null){\n            _speed=object.speed;\n        }else {\n            _speed=10;\n        }\n\n        if(object.keys!=null){\n            _keys=object.keys;\n        }else {\n            _keys=[];\n        }\n\n        if(object.endCall!=null){\n            _endCall=object.endCall\n        }else{\n            _endCall=function(){}\n        }\n\n\n        if(object.typeData!=null){\n            _typeData=object.typedata\n        }else{\n            _typeData=BABYLON.Animation.ANIMATIONTYPE_FLOAT\n        }\n\n\n        if(object.loop!=null){\n            _loop=object.loop\n        }else{\n            _loop=false;\n        }\n\n        var animationBox = new BABYLON.Animation(\"myAnimation\", _attr, _speed, _typeData, _endattr);\n        var keys = [];\n        keys=_keys\n        animationBox.setKeys(keys);\n        _mesh.animations.push(animationBox);\n        this.setbeginAnimation=scene.beginAnimation(_mesh, 0, _keys[_keys.length-1].frame, _loop);\n        this.setbeginAnimation.onAnimationEnd=function(){\n            _endCall()\n        }\n    }\n\n    public Pause(){\n        this.setbeginAnimation.pause()\n    }\n    public Reset(){\n        this.setbeginAnimation.reset()\n    }\n    public Speed(i){\n        this.setbeginAnimation.speedRatio=i\n    }\n\n}\n\n","/**\n * Created by rjf on 2017/10/10.\n * 粒子控制器\n */\n\nexport class particleCon {\n    private static instance: particleCon;\n    constructor(position,scene,particle){\n        this.fountain = BABYLON.Mesh.CreateBox(\"fountain\", 1.0, scene);\n        this.fountain.isPickable=false\n        this.fountain.visibility=0;\n        this.fountain.rotation.x=Math.PI*0.9;\n        this.particleSystem=particle;\n        //定义发射器\n        this.particleSystem.emitter = this.fountain; // the starting object, the emitter, a box in this case.\n        this.particleSystem.stop();\n        this.fountain.position=position;\n    }\n\n    private particleSystem;\n\n    private fountain;\n\n    public start(){\n        this.particleSystem.start();\n    }\n\n    public stop(){\n        this.particleSystem.stop();\n    }\n    public Position(position){\n        this.fountain.position=position;\n    }\n\n    public Parent(parent){\n        this.fountain.parent=parent;\n    }\n}\n\n","/**\n * GUI控制器\n * */\nimport {GuiManager} from \"../manager/GuiManager\";\n\nexport class GuiCreate{\n\n\n    private panelOut=new BABYLON.GUI.StackPanel();\n\n    private static  instance: GuiCreate;\n\n    public static  get  ins():GuiCreate{\n        if(!this.instance){\n            this.instance=new GuiCreate()\n        }\n        return this.instance;\n    }\n\n    constructor(){}\n\n\n    public createList(name,options,scaleUi){\n        var rectOut=new BABYLON.GUI.Rectangle();\n        rectOut.thickness=0;\n        rectOut.isPointerBlocker=true;\n        rectOut.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\n        rectOut.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\n        for (var key in options) {\n            if(rectOut[key]){\n                rectOut[key] = options[key];\n            }\n        }\n//            panelOut.height=1;\n        if(options&&options.isVertical){\n            this.panelOut.horizontalAlignment=2;\n            this.panelOut.verticalAlignment=0;\n            this.panelOut.isVertical  =true;\n            var mouse={\n                up:0,\n                down:0,\n            };\n            mouse.up=parseInt(this.panelOut.top.toString());\n            rectOut.onPointerDownObservable.add(function(e){\n                mouse.down= e.y;\n            });\n            rectOut.onPointerUpObservable.add((e)=>{\n                var topY=parseInt(this.panelOut.top.toString());\n                mouse.up=topY;\n                if(topY>0){\n                    this.panelOut.top=\"0px\";\n                    mouse.up= 0;\n                }\n                else if(parseInt(this.panelOut.top.toString())<parseInt(rectOut.height.toString())-parseInt(this.panelOut.height.toString())){\n                    var l=(parseInt(rectOut.height.toString())-parseInt(this.panelOut.height.toString()))*scaleUi;\n                    this.panelOut.top=l.toString()+\"px\";\n                    mouse.up= parseInt(this.panelOut.top);\n                }\n            });\n            rectOut.onPointerMoveObservable.add((e)=>{\n                var m=e.y-mouse.down;\n                var mul=(mouse.up+m)*scaleUi;\n                this.panelOut.top= mul.toString()+\"px\";\n            });\n        }else {\n            this.panelOut.horizontalAlignment=0;\n            this.panelOut.verticalAlignment=2;\n            this.panelOut.isVertical  =false;\n            var mouse={\n                up:0,\n                down:0\n            };\n            mouse.up=parseInt(this.panelOut.left.toString());\n            rectOut.onPointerDownObservable.add((e)=>{\n                mouse.down= e.x;\n            });\n            rectOut.onPointerUpObservable.add((e)=>{\n                var leftY=parseInt(this.panelOut.left.toString());\n                mouse.up=leftY;\n                if(leftY>0){\n                    this.panelOut.left=\"0px\";\n                    mouse.up= 0;\n                }\n                else if(parseInt(this.panelOut.left.toString())<parseInt(rectOut.width.toString())-parseInt(this.panelOut.width.toString())){\n                    var l=(parseInt(rectOut.width.toString())-parseInt(this.panelOut.width.toString()))*scaleUi;\n                    this.panelOut.left=l.toString()+\"px\";\n                    mouse.up= parseInt(this.panelOut.left);\n                }\n            });\n            rectOut.onPointerMoveObservable.add(function(e){\n                var m=e.x-mouse.down;\n                var mul=(mouse.up+m)*scaleUi;\n                this.panelOut.left= mul.toString()+\"px\";\n            });\n        }\n        rectOut.addControl(this.panelOut);\n        return rectOut\n    }\n\n\n    /**\n     * 横向滚动的奖品列表\n     * @example\n     *  this.optionsList({\n                    itemWidth:\"130px\",\n                    itemHeight:\"170px\",\n                    itemPaddingRight:\"30px\",\n                    logoWidth:\"100px\",\n                    logoHeight:\"100px\",\n                    logoTop:\"0px\",\n                    textWidth:\"100px\",\n                    textHeight:\"30px\",\n                    textTop:\"140px\",\n                    isVertical:false,\n                },data,this.guiObject)\n     *\n     * */\n    public optionsListCon(config,data,listTemplate){\n        var scaleUi=GuiManager.ins.fullscreenUI.idealWidth/document.getElementById(\"renderCanvas\").offsetWidth;\n        var prizeDatalist=this.createList(\"list\",{width:config.bodyWidth,height:config.bodyHeight,top:config.bodyTop,left:config.bodyLeft,isVertical:config.isVertical},scaleUi);\n        var _length=this.panelOut.children.length\n        if(_length>0){\n            for(var i=0;i<_length;i++){\n                this.panelOut.removeControl(this.panelOut.children[0])\n            }\n        }\n        data.optionList.forEach((_list)=>{\n            var list=listTemplate(config,_list)\n            this.panelOut.addControl(list)\n        })\n        return prizeDatalist\n    }\n\n}","import {SceneManager} from \"../../manager/SceneManager\";\nimport {GuiManager} from \"../../manager/GuiManager\";\nimport {Module} from \"../Module\";\n\nimport {AnimationGui} from \"../../others/AnimationGui\";\n\nexport class Panels extends Module{\n    //元素对象集合\n    protected scene;\n\n    //舞台容器\n    protected parent;\n\n    //页面容器\n    protected view;\n\n    //面板隐藏显示实例\n    protected panelsAn=new AnimationGui(SceneManager.ins.scene,GuiManager.ins.fullscreenUI)\n\n    constructor(){\n        super()\n    }\n\n    /**\n     * 显示\n     */\n    protected show(open?,opened?): void {\n        this.addEvent();\n        this.panelsAn.show(this.view,open,opened)\n    }\n\n    /**\n     * 隐藏\n     */\n    protected hide(close?,closed?): void {\n        this.removeEvent();\n        this.panelsAn.hide(this.view,close,closed)\n    }\n\n    //销毁\n}","import {SceneManager} from \"../../manager/SceneManager\";\nimport {GuiManager} from \"../../manager/GuiManager\";\nimport {Module} from \"../Module\";\n\nexport class Guis extends Module{\n    constructor(){\n        super();\n    }\n    //销毁\n}","import {Module} from \"../Module\";\nimport {AnimationGui} from \"../../others/AnimationGui\";\nimport {SceneManager} from \"../../manager/SceneManager\";\nimport {GuiManager} from \"../../manager/GuiManager\";\nimport {DisplayPool} from \"../../others/DisplayPool\";\nimport {ModuleName} from \"../../enum/ModuleName\";\nimport {GlobalManager} from \"../../manager/GlobalManager\";\n\n\nexport class StartGui extends Module {\n\n    //规则元素\n    protected section: any;\n\n    //元素对象集合\n    protected scene;\n\n    //舞台容器\n    protected parent;\n\n    //页面容器\n    protected view;\n\n    //事件\n    protected doEvents=[];\n\n    //游戏场景对象\n\n    protected gameSceneObject:any;\n\n\n    //面板隐藏显示实例\n    protected panelsAn=new AnimationGui(SceneManager.ins.scene,GuiManager.ins.fullscreenUI)\n\n    constructor(){\n        super()\n        this.initUI();\n    }\n\n    /**\n     * 显示\n     */\n    public show(data): void {\n        this.removeEvent();\n        this.updateData()\n        this.addEvent();\n        GuiManager.ins.changeGui(this.parent);\n    }\n\n\n    /**\n     * 隐藏\n     */\n    protected hide(): void {\n        this.removeEvent();\n        this.panelsAn.hide(this.view,()=>{\n            this.onClose()\n        },()=>{\n            this.onClosed()\n        })\n    }\n\n\n    /**\n     * 打开前\n     * */\n    protected onOpen(...args){\n\n    }\n\n\n    /**\n     * 打开后\n     * */\n    protected onOpened(...args){\n\n    }\n\n\n    public init(){\n        DisplayPool.ins.displayPool[ModuleName.GAME_START_GUI]=this;\n    }\n\n\n    /**\n     * 添加事件\n     * */\n    protected addEvent(){\n\n    }\n\n\n    protected removeEvent(){\n    }\n\n\n    protected onClick_ruleBtn(): void {\n\n\n    }\n\n    protected onClick_optionBtn(): void {\n\n\n\n    }\n\n    protected onClick_startBtn(): void {\n        GlobalManager.ins.openModule(ModuleName.GAME_PLAY_GUI);\n    }\n\n    /**\n     * 更新页面\n     * @param args\n     */\n    public updateData(...args): void {\n        if (!this.isInit) {\n            this.initUI();\n            this.isInit = true;\n        }\n    }\n\n    /**\n     * 关闭前\n     * */\n    protected onClose(){\n        this.removeHtml()\n        //NetManager.ins.getInfo(this, DataManager.ins.gameCfgData.game.gameId);\n       // this.view.removeControl(this.optionsList)\n    }\n\n    protected removeHtml(){\n     //   console.log(this.section)\n        if(this.section){\n            // alert()\n            document.body.removeChild(this.section);\n        }\n    }\n\n    /**\n     * 关闭后\n     * */\n    protected onClosed(){\n        this.removeEvent()\n      //  GlobalManager.ins.openModule(\"StartGuiCon\");\n      //  GuiManager.ins.removeGui(this.parent);\n    }\n}","import {Module} from \"../Module\";\nimport {AnimationGui} from \"../../others/AnimationGui\";\nimport {SceneManager} from \"../../manager/SceneManager\";\nimport {GuiManager} from \"../../manager/GuiManager\";\nimport {ModuleName} from \"../../enum/ModuleName\";\nimport {DisplayPool} from \"../../others/DisplayPool\";\n\n\nexport class GameSceneGui extends Module{\n\n    //规则元素\n    protected section: any;\n\n    //元素对象集合\n    protected scene;\n\n    //舞台容器\n    protected parent;\n\n    //页面容器\n    protected view;\n\n    //事件\n    protected doEvents=[];\n\n\n    //面板隐藏显示实例\n    protected panelsAn=new AnimationGui(SceneManager.ins.scene,GuiManager.ins.fullscreenUI)\n\n    constructor(){\n        super()\n        this.initUI();\n    }\n\n    /**\n     * 显示\n     */\n    public show(data): void {\n        this.updateData()\n        this.addEvent();\n        GuiManager.ins.changeGui(this.parent);\n    }\n\n\n\n    /**\n     * 隐藏\n     */\n    protected hide(): void {\n\n    }\n\n\n    /**\n     * 打开前\n     * */\n    protected onOpen(...args){\n\n    }\n\n\n    /**\n     * 打开后\n     * */\n    protected onOpened(...args){\n\n    }\n\n\n    public init(){\n        DisplayPool.ins.displayPool[ModuleName.GAME_PLAY_GUI]=this;\n    }\n\n\n    /**\n     * 添加事件\n     * */\n    protected addEvent(){\n\n    }\n\n\n    protected removeEvent(){\n\n    }\n\n\n\n    /**\n     * 更新页面\n     * @param args\n     */\n    public updateData(...args): void {\n        this.removeEvent()\n        if (!this.isInit) {\n            this.initUI();\n            this.isInit = true;\n        }\n    }\n\n    /**\n     * 关闭前\n     * */\n    protected onClose(){\n    }\n\n    /**\n     * 关闭后\n     * */\n    protected onClosed(){\n        this.removeEvent()\n       // NetManager.ins.getInfo(this, DataManager.ins.gameCfgData.game.gameId);\n    }\n}","/**\n * Created by renjianfeng\n * 公共方法管理\n */\n\nexport class Func {\n    private static instance: Func;\n\n    public static get ins(): Func {\n        if (!this.instance) {\n            this.instance = new Func();\n        }\n        return this.instance;\n    }\n\n    /**\n     * 替换字符串中元素\n     * @param str\n     * @param replaceList\n     */\n\n    public replace(str, replaceList){\n        var len = replaceList.length;\n        for (var i = 0; i < len; i++) {\n            str = str.replace(\"{\" + i + \"}\", replaceList[i]);\n        }\n        return str;\n    }\n\n    /**\n     * 向下取整\n     * @param n\n     * @returns {*}\n     */\n\n    public toInt(n){\n        return n >> 0;\n    }\n\n    /**\n     * 判断操作系统\n     * @returns {Array|{index: number, input: string}}\n     */\n    public isIOS () {\n        return navigator.userAgent.match(/iphone|ipod|ipad/gi);\n    }\n\n\n    /**\n     * 给数组随机排序\n     * @param arr\n     */\n    public randomArr (arr) {\n        var len = arr.length;\n        for(var i = 0; i < len; i++) {\n            var n = this.random(0, arr.length, true);\n            var temp = arr[n];\n            arr[n] = arr[i];\n            arr[i] = temp;\n        }\n        return arr;\n    };\n\n\n    /**\n     * 范围随机数\n     * @param n1 范围起始\n     * @param n2 范围结束\n     * @param int 结果是否返回整数\n     * @return {*}\n     */\n    public random (n1, n2, int) {\n        var n;\n        if((typeof n1) != 'undefined' && (typeof n2) != 'undefined') {\n            n = Math.min(n1, n2) + Math.random() * Math.max(n1, n2);\n        } else {\n            n = Math.random();\n        }\n        if(int) {\n            n = this.toInt(n);\n        }\n        return n;\n    }\n\n\n     /** * 求两点距离 */ \n     public getDistance(x1: number, y1: number, z1: number, x2: number, y2: number,z2: number) \n     {   var _x: number = Math.abs(x1 - x2); \n         var _y: number = Math.abs(y1 - y2); \n         var _z: number = Math.abs(z1 - z2); \n         return Math.sqrt(_x * _x + _y * _y+ _z * _z); \n     }\n\n\n     //转换为本地轴\n     public vecToLocal(vector, mesh){\n        var m = mesh.getWorldMatrix();\n        var v = BABYLON.Vector3.TransformCoordinates(vector, m);\n\t\treturn v;\t\t \n    }\n\n\n  //  private DataManager;\n\n}\n\n","import {AssetsManager} from \"../../public/index\"\nimport {SceneManager} from \"../../public/index\"\nimport {WeatherState} from \"../../public/index\";\nimport Texture = BABYLON.Texture;\nimport Color3 = BABYLON.Color3;\n\nexport class ExGameScene{\n\n    private static instance: ExGameScene;\n\n    public static get ins(): ExGameScene {\n        if (!this.instance) {\n            this.instance = new ExGameScene();\n        }\n        return this.instance;\n    }\n\n    public display;\n\n    protected scene;\n\n    constructor(){\n       // super()\n    }\n\n\n    public creatScene(){\n        this.scene=SceneManager.ins.scene\n        //设置背景色\n        this.scene.clearColor=new BABYLON.Color4(52/255,156/255,255/255)\n      //  SceneManager.ins.engine.setHardwareScalingLevel(1)\n\n        /**\n         * 室内相机校准模型\n         * */\n        var cameraBox = BABYLON.MeshBuilder.CreateBox(\"camera2Box\", {height:  0.5, width: 0.5, depth: 0.5}, this.scene);\n        cameraBox.isVisible=false;\n        cameraBox.isPickable=false;\n        cameraBox.rotation=new BABYLON.Vector3(0,0,0)\n\n\n        var npcBox = BABYLON.MeshBuilder.CreateBox(\"camera2Box\", {height:  0.5, width: 0.5, depth: 0.5}, this.scene);\n        npcBox.isVisible=false;\n        npcBox.isPickable=false;\n        npcBox.rotation=new BABYLON.Vector3(0,0,0)\n\n\n        //准星辅助模型\n        var pickMesh = BABYLON.MeshBuilder.CreateBox(\"pickMesh\", {height:  0.5, width: 0.5, depth: 0.5}, this.scene);\n        pickMesh.position=new BABYLON.Vector3(0,0,3000);\n        pickMesh.isPickable=false;\n        pickMesh.parent=cameraBox\n        pickMesh.isVisible=false;\n       // pickMesh.rotation=new BABYLON.Vector3(0,0,0)\n\n         /**\n             * 灯光延时跟随相机\n             */\n           \n\n         /**\n         * 室内相机校准模型\n         * */\n        var camera2Box = BABYLON.MeshBuilder.CreateBox(\"camera2Box\", {height:  0.5, width: 0.5, depth: 0.5}, this.scene);\n        camera2Box.position=new BABYLON.Vector3(0,0.5,-3);\n        camera2Box.isVisible=false;\n        camera2Box.rotation=new BABYLON.Vector3(0,0,0)\n\n        camera2Box.parent=cameraBox\n\n\n        var steering = BABYLON.MeshBuilder.CreateBox(\"steering\", {height:  2000, width: 2000, depth: 2000}, this.scene);\n        steering.visibility=0;\n        steering.scaling=new BABYLON.Vector3(0.001,0.001,0.001)\n        steering.rotation=new BABYLON.Vector3(0,0.3,Math.PI*0.5)\n\n\n             /**\n         * 室内相机\n         * */\n        var camera2 = new BABYLON.UniversalCamera(\"UniversalCamera\", new BABYLON.Vector3(0, 0.112, 0.31), this.scene);\n        camera2.speed=40;\n        camera2.inertia=0;\n        camera2.rotation.y=-Math.PI*2\n      //  camera2.rotation.z=-0.6\n        camera2.fov=1.6\n      /*   camera2.position.z=-3;\n        camera2.position.y=0.5; */\n        camera2.attachControl(SceneManager.ins.canvas);\n        camera2.detachControl(SceneManager.ins.canvas);\n      //  this.scene.activeCamera=camera2;\n        camera2.minZ=-5;\n        camera2.maxZ=2000000;\n        camera2.parent=cameraBox;\n       \n        var skyboxMaterial = new BABYLON.StandardMaterial(\"skyBox\", this.scene);\n        skyboxMaterial.backFaceCulling = false;\n        skyboxMaterial.diffuseTexture =  AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"skybox13\"].clone();\n        skyboxMaterial.emissiveTexture =  AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"skybox13\"].clone();\n        skyboxMaterial.specularColor = new BABYLON.Color3(0, 0, 0);\n           skyboxMaterial.emissiveColor  = new BABYLON.Color3(0, 0, 0);\n        skyboxMaterial.disableLighting = false;\n        \n\n        var skySphere = BABYLON.MeshBuilder.CreateSphere(\"skySphere\", {diameter: 100000}, this.scene);\n        skySphere.rotation.x=Math.PI;\n        skySphere.position.y=10000;\n        skySphere.material=skyboxMaterial\n        skySphere.applyFog=false;\n\n        var camera3 = new BABYLON.FollowCamera(\"FollowCam\", new BABYLON.Vector3(200, -300, 150), this.scene);\n        camera3.radius = -10;\n        console.log(\"camera\")\n        camera3.heightOffset = 5;\n        camera3.rotationOffset = 0;\n        camera3.cameraAcceleration = 0.8;\n        camera3.maxCameraSpeed = 300;\n        //camera3.isStereoscopicSideBySide=false;\n        camera3.noRotationConstraint=false;\n        camera3.fov=1.3\n        camera3.detachControl(SceneManager.ins.canvas);\n        camera3.update()\n        camera3.maxZ=2000000;\n        camera3.layerMask = 1;\n\n\n        this.scene.activeCamera=camera3;\n\n\n               /**\n         * 室内相机\n         * */\n        var camera4 = new BABYLON.UniversalCamera(\"UniversalCamera\", new BABYLON.Vector3(0, 0.112, 0.20), this.scene);\n        camera4.rotation.y=-Math.PI*1\n        camera4.rotation.z=-Math.PI*1\n        camera4.position.x=0\n        camera4.fov=1\n        camera4.detachControl(SceneManager.ins.canvas);\n        camera4.minZ=-5;\n        camera4.maxZ=2000000;\n        camera4.parent=cameraBox;\n      //  camera4.upVector = new BABYLON.Vector3(-1,-1, -3);\n\n        var camera5 = new BABYLON.ArcRotateCamera(\"Camera\", 0, 0, 10, new BABYLON.Vector3(0, 0, 0), this.scene);\n     //   camera5.rotation.y=-Math.PI*1\n    //    camera5.position.x=+0.05\n        camera5.upperRadiusLimit=3000;\n        camera5.lowerRadiusLimit=10;\n        camera5.fov=1\n        camera5.detachControl(SceneManager.ins.canvas);\n        camera5.minZ=-5;\n        camera5.maxZ=2000000;\n      \n\n        var jingzi =  BABYLON.MeshBuilder.CreatePlane(\"myPlane\", {width: 5, height: 5}, this.scene);\n       // jingzi.position==new BABYLON.Vector3(0,0,300000);\n       // jingzi.parent=cameraBox;\n\n        jingzi.position=new BABYLON.Vector3(0,0,3);\n        jingzi.isPickable=false;\n        jingzi.parent=cameraBox\n        jingzi.isVisible=false;\n       \n      //  camera4.layerMask = 0x20000000;\n\n      this.scene.activeCamera=camera3;\n      //  this.scene.activeCameras.push(camera3);\n      //  this.scene.activeCameras.push(camera4);\n     //   this.scene.activeCameras.push(camera5);\n       \n       \n       \n       // camera4.viewport = new BABYLON.Viewport(0, 0.8, 0.2, 0.2);\n       // camera5.viewport = new BABYLON.Viewport(0.8, 0.8, 0.2, 0.2);\n       // camera3.viewport = new BABYLON.Viewport(0, 0, 1.0, 1.0);\n        this.scene.cameraToUseForPointers = camera3;\n\n       // camera3.target = cameraBox;\n        camera3.lockedTarget = cameraBox;\n\n        var freeMateial=new BABYLON.StandardMaterial(\"free\",this.scene);\n        console.log(\"freeMateial\")\n        console.log(freeMateial)\n      //  freeMateial.disableLighting=true;\n        freeMateial[\"emissiveColor\"]=new BABYLON.Color3(1,1,1)\n        freeMateial[\"diffuseColor\"]=new BABYLON.Color3(0,0,0)\n        freeMateial[\"emissiveTexture\"]=AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"boom\"]\n\n        var boomMateial=new BABYLON.StandardMaterial(\"boom\",this.scene);\n        console.log(\"boomMateial\")\n        console.log(boomMateial)\n        boomMateial.disableLighting=true;\n        boomMateial[\"emissiveColor\"]=new BABYLON.Color3(1,1,1)\n        boomMateial[\"diffuseColor\"]=new BABYLON.Color3(0,0,0)\n        boomMateial[\"emissiveTexture\"]=AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"boom\"]\n\n\n       /*  var pipeline = new BABYLON.StandardRenderingPipeline(\n            \"standard\", // The name of the pipeline\n            this.scene, // The scene instance\n            1.0, // The rendering pipeline ratio\n            null, // The original post-process that the pipeline will be based on\n            [camera3] // The list of cameras to be attached to\n        );\n        //pipeline.LensFlareEnabled = true;\n        pipeline.lensTexture = AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"lensdirt\"];\n        pipeline.lensFlareHaloWidth = 1 */\n\n     //   pipeline.LensFlareEnabled = true;\n     //   pipeline.lensStarTexture = AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"lensstar\"];\n\n      //  lensdirt lensstar\n\n      //  pipeline.MotionBlurEnabled = true;\n      //  pipeline.BloomEnabled = true;\n\n     //   pipeline.motionStrength = 1.5;\n\n     //   pipeline.motionBlurSamples = 32.0;\n\n       /*  var pipeline = new BABYLON.DefaultRenderingPipeline(\n            \"default\", // The name of the pipeline\n            true, // Do you want HDR textures ?\n            this.scene, // The scene instance\n            [ camera3] // The list of cameras to be attached to\n             );\n        \n        pipeline.bloomEnabled = true;\n        \n        pipeline.bloomThreshold = 0.2;\n        pipeline.bloomWeight = 0.5;\n        pipeline.bloomKernel = 64;\n        pipeline.bloomScale = 0.5; */\n\n\n\n      /*  this.scene.fogMode = BABYLON.Scene.FOGMODE_EXP;\n        this.scene.fogDensity = 0.001;\n        this.scene.fogColor = new BABYLON.Color3(1,1,1);*/\n\n\n        /**\n         * 环境光\n         * */\n        var light = new BABYLON.HemisphericLight(\"HemiLight\", new BABYLON.Vector3(0, 10, 0), this.scene);\n        light.intensity=0.4\n        light.diffuse = new BABYLON.Color3(1, 1, 1);\n        light.groundColor = new BABYLON.Color3(1, 1, 1);\n       /*  var light2 = new BABYLON.HemisphericLight(\"HemiLight\", new BABYLON.Vector3(0, -10, 0), this.scene);\n        light2.intensity=0.4 */\n\n        /**\n         * 平行光\n         * */\n        var light3 = new BABYLON.DirectionalLight(\"DirectionalLight\", new BABYLON.Vector3(0.2, -0.3, 0.2), this.scene);\n        light3.intensity=3\n        //  light3.autoUpdateExtends=false;\n        light3.shadowFrustumSize=50\n        light3.shadowMinZ=-50\n        light3.shadowMaxZ=50\n\n\n        setInterval(()=>{\n            light3.position=new BABYLON.Vector3(\n                cameraBox.position.x,\n                cameraBox.position.y+1,\n                cameraBox.position.z-0\n            );\n        },50)\n\n\n        var shadowGenerator = new BABYLON.ShadowGenerator(2048, light3);\n        shadowGenerator.bias = 0.0004;\n        shadowGenerator.usePercentageCloserFiltering = true;\n        shadowGenerator.filteringQuality=0.1;\n        shadowGenerator.forceBackFacesOnly=true;\n\n\n        var terrainMaterial = new BABYLON[\"TerrainMaterial\"](\"terrainMaterial\", this.scene);\n\n    \n        terrainMaterial.mixTexture = AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"maptr2\"].clone()\n\n\n        var gl = new BABYLON.GlowLayer(\"glow\", this.scene);\n        gl.intensity = 1;\n   \n\n        terrainMaterial.diffuseTexture1 = AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"grass\"].clone()\n        terrainMaterial.diffuseTexture1.uScale=20\n        terrainMaterial.diffuseTexture1.vScale=20\n        terrainMaterial.diffuseTexture2 = AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"grass\"].clone()\n        terrainMaterial.diffuseTexture2.uScale=20\n        terrainMaterial.diffuseTexture2.vScale=20\n        terrainMaterial.diffuseTexture3 = AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"ground\"].clone()\n        terrainMaterial.diffuseTexture3.uScale=20\n        terrainMaterial.diffuseTexture3.vScale=20\n\n         //添加光晕\n\n         var lens3 = BABYLON.Mesh.CreateSphere(\"centerHidenPick\", 16, 1, this.scene);\n         lens3.occlusionType = BABYLON.AbstractMesh.OCCLUSION_TYPE_OPTIMISTIC;\n\n         lens3.occlusionQueryAlgorithmType = BABYLON.AbstractMesh.OCCLUSION_ALGORITHM_TYPE_CONSERVATIVE;\n         lens3.isOccluded = true;\n         //lens3.visibility=0\n         lens3.position=new BABYLON.Vector3(-30000, 4000, 0)\n\n         var lensFlareSystem3 = new BABYLON.LensFlareSystem(\"lensFlareSystem\", lens3, this.scene);\n         lensFlareSystem3[\"isBlocker\"]=true;\n        // var flare00 = new BABYLON.LensFlare(0.3, 1.3, new BABYLON.Color3(1,1,1), AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"ty\"].src, lensFlareSystem3);\n         var flare09 = new BABYLON.LensFlare(2.6, 0, new BABYLON.Color3(1,1,1), AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"lensdirt\"].src, lensFlareSystem3);\n         var flare10 = new BABYLON.LensFlare(1.6, 1, new BABYLON.Color3(0.5,0.5,0.5), AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"lens2\"].src, lensFlareSystem3);\n         var advancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI(\"UI\");\n         advancedTexture.layer.layerMask=1;\n\n         this.scene.fogMode = BABYLON.Scene.FOGMODE_EXP;\n         this.scene.fogDensity = 0.00005;\n         this.scene.fogColor = new BABYLON.Color3(0.8,0.8,0.8);\n    \n        this.display={\n            camera2:camera2,\n            camera3:camera3,\n            camera4:camera4,\n            camera5:camera5,\n            light:light,\n           // light2:light2,\n            light3:light3,\n            cameraBox:cameraBox,\n            camera2Box:camera2Box,\n            steering:steering,\n            terrainMaterial:terrainMaterial,\n            shadowGenerator:shadowGenerator,\n            freeMateial:freeMateial,\n            boomMateial:boomMateial,\n            lensFlareSystem3:lensFlareSystem3,\n            pickMesh:pickMesh,\n            advancedTexture:advancedTexture,\n            lens3:lens3,\n            jingzi:jingzi,\n            npcBox:npcBox,\n        }\n\n        console.log(this.display)\n\n      //  GameSceneCon.ins.resetGame(this.display);\n    }\n\n\n\n}\n\n\n","/**\n * 子弹控制系统   by renjianfeng \n */\n\nimport {AssetsManager} from \"../../public\"\nimport {SceneManager} from \"../../public\"\nimport {Func} from \"../../public\"\n\nexport class FireCon{\n\n    private static instance: FireCon;\n\n    public static get ins(): FireCon {\n        if (!this.instance) {\n            this.instance = new FireCon();\n        }\n        return this.instance;\n    }\n\n    //子弹\n    private bullets=[]\n\n    //击中子弹爆炸\n    private booms=[]\n\n    //准星\n    private starUi\n    //准星图片\n    private image2\n\n    private ray\n    private hit\n    private display\n    private scene\n\n\n    //帧率时间补偿\n\n    private times;\n    private fireSpeed=30;\n\n    private j;\n    private freeState;\n\n    private musics;\n\n   \n\n    private creatMusic(){\n        this.musics={\n            qiang:new BABYLON.Sound(\"qiang\",[AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"qiang\"][\"url\"]] , this.scene,()=>{\n               \n            },{loop:false}),\n           \n        }\n    }\n\n    //创建UI\n    private creatUI(){\n        this.starUi = new BABYLON.GUI.Rectangle();\n        this.starUi.width = \"30px\";\n        this.starUi.height = \"30px\";\n        this.starUi.alpha=0.8;\n        this.starUi.thickness = 0;\n        this.display.advancedTexture.addControl( this.starUi);\n        this.image2 = new BABYLON.GUI.Image(\"but\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"jiantou3\"].src);\n        this.starUi.addControl(this.image2)\n    }\n\n    private boomSprite;\n\n    //初始化\n    public init(display){\n        this.scene=SceneManager.ins.scene;\n        this.display=display;\n\n        this.boomSprite=new BABYLON.SpriteManager(\"treesManager\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"boom3\"].src, 160, {width: 200, height: 200},this.scene);\n\n\n        //创建准星\n        this.creatUI()\n        //创建事件\n        this.addEvent()\n        this.creatMusic()\n\n        //创建子弹列表\n        for(var i=0;i<=160;i++){\n            this.bullets[i]= BABYLON.MeshBuilder.CreateSphere(\"frees\", {diameterX:  0.5, diameterY: 0.5, diameterZ: 80}, this.scene);\n            this.bullets[i].lifeState=false;\n            this.bullets[i].isPickable=false;\n            this.bullets[i].material=this.display.freeMateial;\n            this.bullets[i].checkCollisions = false;;\n        }\n\n        //创建爆炸列表\n        for(var i=0;i<=160;i++){\n            this.booms[i] = new BABYLON.Sprite(\"player\", this.boomSprite);\n            this.booms[i].lifeState=false;\n            this.booms[i].isPickable=false;\n            this.booms[i].size = 0;\n            this.bullets[i].checkCollisions = false;;\n        }\n\n        //获得位置\n        var origin = this.display.cameraBox.position;\n    \n        //创建向前矢量\n\t    var forward = new BABYLON.Vector3(0,0,1);\t\t\n\t    forward = Func.ins.vecToLocal(forward, this.display.cameraBox);\n    \n        //创建方向\n\t    var direction = forward.subtract(origin);\n\t    direction = BABYLON.Vector3.Normalize(direction);\n    \n        //创建属性\n\t    this.ray = new BABYLON.Ray(origin, direction, 3000);\n    }\n\n\n    //事件\n    private addEvent(){\n\n        this.freeState=false;\n\n        document.addEventListener(\"mousedown\",(e)=>{\n            if(e.button==0){\n                this.freeState=true;\n            }\n        })\n        document.addEventListener(\"mouseup\",(e)=>{\n            if(e.button==0){\n              this.freeState=false;\n            }\n        })\n\n        setInterval(()=>{\n            if(this.freeState){\n                this.musics.qiang.play()\n               // this.musics.qiang.setVolume(1)\n                var ram=Math.random()/100;\n                if(this.j<=this.bullets.length-1){\n                    this.bullets[this.j].position=new BABYLON.Vector3(this.display.cameraBox.absolutePosition.x+ram,this.display.cameraBox.absolutePosition.y+ram,this.display.cameraBox.absolutePosition.z) ;\n                    this.bullets[this.j].rotation=new BABYLON.Vector3(this.display.cameraBox.rotation.x+ram,this.display.cameraBox.rotation.y+ram,this.display.cameraBox.rotation.z);\n                    this.bullets[this.j].lifeState=true;\n                    this.j++;\n                  //  this.timerNpc.start();\n                }else{\n                    this.j=0;\n                    this.bullets[this.j].position=new BABYLON.Vector3(this.display.cameraBox.absolutePosition.x,this.display.cameraBox.absolutePosition.y,this.display.cameraBox.absolutePosition.z) ;\n                    this.bullets[this.j].rotation=new BABYLON.Vector3(this.display.cameraBox.rotation.x,this.display.cameraBox.rotation.y,this.display.cameraBox.rotation.z);\n                    this.bullets[this.j].lifeState=true;\n                }\n            }else{\n               // this.musics.qiang.setVolume(0)\n            }\n        },100)\n    }\n\n\n    private boom(i,free){\n\n        this.booms[i].isVisible=true;\n        this.booms[i].position=new BABYLON.Vector3(free.position.x,free.position.y,free.position.z);\n        this.booms[i].size = 60;\n      \n        this.booms[i].playAnimation(0, 36, false, 60,()=>{\n            this.booms[i].size = 0;\n            this.booms[i].isVisible=true;\n        });\n    }\n\n    //更新方法\n    public update(times) {\n         this.times= times;\n         var origin = this.display.cameraBox.position;\n           var forward = new BABYLON.Vector3(0,0,1000);\t\t\n           forward = Func.ins.vecToLocal(forward, this.display.cameraBox);\n       \n           var direction = forward.subtract(origin);\n           direction = BABYLON.Vector3.Normalize(direction);\n \n           this.ray.origin = origin;\n           this.ray.direction =direction;\n \n           this.hit = this.scene.pickWithRay(this.ray);\n \n         var ram=Math.random;\n \n \n         if (this.hit.pickedMesh){\n            this.starUi.moveToVector3(this.hit.pickedPoint,this.scene)\n         }else{\n            this.starUi.linkWithMesh(this.display.pickMesh)\n         }\n \n         this.bullets.forEach((free,i)=>{\n             if(free.lifeState==true){\n                 var forword=new BABYLON.Vector3(free.forward.x*this.times*this.fireSpeed,free.forward.y*this.times*this.fireSpeed,free.forward.z*this.times*this.fireSpeed)\n                 free.moveWithCollisions(forword);\n                 free.isVisible=true;\n \n                 if (this.hit.pickedMesh){\n                     if(!free.boomPosition){\n                         free.boomPosition=new BABYLON.Vector3(this.hit.pickedPoint.x,this.hit.pickedPoint.y,this.hit.pickedPoint.z)\n                     }\n                }\n \n                  if(free.boomPosition){\n                     var jl2=Func.ins.getDistance(\n                         free.position.x,\n                         free.position.y, \n                         free.position.z, \n                         free.boomPosition.x,\n                         free.boomPosition.y, \n                         free.boomPosition.z, \n                         )\n     \n                      if(jl2<=50){\n                         free.lifeState=false;\n                         this.boom(i,free)\n                         free.boomPosition=null;\n                      }\n                  }\n                  \n                 var jl=Func.ins.getDistance(\n                     free.position.x,\n                     free.position.y, \n                     free.position.z, \n                     this.display.cameraBox.position.x, \n                     this.display.cameraBox.position.y, \n                     this.display.cameraBox.position.z\n                     )\n \n                if(jl>=3000){\n                     free.lifeState=false;\n                     free.boomPosition=null;\n                     this.boom(i,free)\n                }\n             }else{\n                 free.isVisible=false;\n             }\n         })\n     }\n}\n\n\n","\n/**\n * 飞行控制系统   by renjianfeng \n */\n\nimport {AssetsManager} from \"../../public\"\nimport {SceneManager} from \"../../public\"\nimport {Func} from \"../../public\"\nimport {BoomCon} from \"./boomCon\"\nimport { Vector3 } from \"babylonjs\";\nimport {Language} from \"./language\"\n\nexport class FlyCon{\n\n    private static instance: FlyCon;\n\n    public static get ins(): FlyCon {\n        if (!this.instance) {\n            this.instance = new FlyCon();\n        }\n        return this.instance;\n    }\n\n   \n    private display\n    private scene\n\n\n    //帧率时间补偿\n\n    private times;\n  \n\n    //UI系列\n    private rect2;\n    private rect3;\n    private image;\n\n    //通过空格键控制第一人称的自由视角\n    private freeView;\n\n    //视角\n    private viewState=true;\n\n    //飞行速度\n    private flySpeed=2;\n\n    private character\n\n    private musics;\n\n    private tipsText;\n    private tipsBg;\n\n    private ico_b\n    private ico_bg\n\n   \n\n    private creatMusic(){\n        this.musics={\n            zhanji:new BABYLON.Sound(\"zhanji\",[AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"zhanji\"][\"url\"]] , this.scene,()=>{\n                this.musics.zhanji.play()\n               /*  setInterval(()=>{\n                  setTimeout(()=>{\n                    this.musics.zhanji.stop()\n                  },50) \n                    this.musics.zhanji.play()\n                },600) */\n            },{loop:true}),\n\n            win:new BABYLON.Sound(\"zhanji\",[AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"win\"][\"url\"]] , this.scene,()=>{\n                this.musics.win.play()\n            },{loop:true}),\n\n            win2:new BABYLON.Sound(\"zhanji\",[AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"win2\"][\"url\"]] , this.scene,()=>{\n                this.musics.win2.play()\n            },{loop:true}),\n           \n        }\n\n        //this.musics.zhanji.attachToMesh(this.display.cameraBox);\n    }\n\n    //创建UI\n    private creatUI(){\n    \n    this.rect2 = new BABYLON.GUI.Rectangle();\n    this.rect2.scaleX=0.7;\n    this.rect2.scaleY=0.7;\n    this.rect2.alpha=0.8;\n    this.rect2.width = \"700px\";\n    this.rect2.height = \"400px\";\n   // this.rect1.cornerRadius = 5;\n    this.rect2.color = \"#009855\";\n    this.rect2.thickness = 0;\n\n  //  console.log(this.rect2)\n  //  console.log(\"this.rect2\")\n\n\n\n    this.rect3 = new BABYLON.GUI.Rectangle();\n\n    this.rect3.width = \"300px\";\n    this.rect3.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\n    this.rect3.height = \"10800px\";\n    this.rect3.top=\"0\";\n    this.rect3.left=\"10px\";\n    this.rect3.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\n    //this.rect1.cornerRadius = 5;\n    //this.rect3.background = \"#009855\";\n    this.rect3.thickness = 0;\n    this.rect2.addControl(this.rect3);\n\n\n   // AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"jiantou\"].clone()\n\n    this.image = new BABYLON.GUI.Image(\"but\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"jiantou\"].src);\n    this.image.width = \"30px\";\n  //  console.log( \"this.image\")\n  //  console.log( this.image)\n    this.image.height = \"15px\";\n    this.image.scaleX = -1;\n    this.image.top=\"192px\";\n    this.image.left=\"110px\";\n    this.image.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\n    this.image.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\n    this.rect2.addControl(this.image);  \n\n    var b5=[]\n    var b6=[]\n    var label=[]\n    var countB=360;\n    var chizi= new BABYLON.GUI.Image(\"but\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"jiantou2\"].src);\n    for(var i=0;i<=36;i++){\n      //  console.log(i)\n        countB-=30\n        if(countB<=0){\n            countB=360;\n        }\n        b5[i]= new BABYLON.GUI.Rectangle();\n        b5[i].verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\n        b5[i].horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\n        b5[i].top=50*i*3;\n        b5[i].left=\"-5px\"\n        b5[i].width = \"300px\";\n        b5[i].height = \"40px\";\n        //this.rect1.cornerRadius = 5;\n       // b5[i].background = \"#009855\";\n        b5[i].thickness = 0;\n        this.rect3.addControl( b5[i]);\n        label[i] = new BABYLON.GUI.TextBlock();\n        if(countB==0||countB==360){\n            label[i].text = \"\"+0+\"°\";\n            label[i].color=\"#ffffff\"\n        }else{\n            label[i].text = \"\"+countB+\"°\";\n            label[i].color=\"#129604\"\n        }\n        \n        \n        label[i].textHorizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\n        label[i].fontSize=\"18px\"\n\n\n       \n\n        b5[i].addControl(label[i]);\n        b5[i].addControl(chizi);\n\n    }\n\n    \n    this.tipsBg = new BABYLON.GUI.Rectangle();\n   \n    this.tipsBg.alpha=0.8;\n    this.tipsBg.width = \"620px\";\n    this.tipsBg.height = \"140px\";\n   // this.rect1.cornerRadius = 5;\n   this.tipsBg.color = \"#009855\";\n   this.tipsBg.background = \"#444444\";\n   this.tipsBg.alpha = 0.2;\n   this.tipsBg.top=\"20px\"\n   this.tipsBg.thickness =1;\n   this.tipsBg.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\n   this.tipsBg.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER; \n\n    this.tipsText = new BABYLON.GUI.TextBlock();\n    this.tipsText.width=\"600px\";\n    this.tipsText.height = \"140px\";\n    this.tipsText.color=\"#ffffff\"\n    this.tipsText.fontSize=\"14px\";\n    this.tipsText.text=\"提示\";\n    //this.tipsText.color=\"#ffffff\";\n    this.tipsText.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\n  //  this.tipsText.textVerticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\n    this.tipsText.top=\"20px\"\n    this.tipsText.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER; \n\n  \n\n    this.ico_bg = new BABYLON.GUI.Image(\"ico_bg\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"ico_bg\"].src);\n    this.ico_bg.width = \"200px\";\n //   console.log( \"this.ico_bg\")\n  //  console.log( this.ico_bg)\n    this.ico_bg.height = \"200px\";\n  //  this.ico_bg.scaleX = -1;\n   // this.ico_bg.top=\"-192px\";\n   // this.ico_b.left=\"110px\";\n    this.ico_bg.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER;\n    this.ico_bg.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\n\n\n    this.ico_b = new BABYLON.GUI.Image(\"ico_b\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"ico_b\"].src);\n    this.ico_b.width = \"90px\";\n   // console.log( \"this.ico_b\")\n  //  console.log( this.ico_b)\n    this.ico_b.height = \"90px\";\n   // this.ico_b.scaleX = -1;\n  //  this.ico_b.top=\"-192px\";\n   // this.ico_b.left=\"110px\";\n    this.ico_b.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER;\n    this.ico_b.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\n\n    \n\n\n    var b_bg=new BABYLON.GUI.Rectangle();\n    //b_bg.width=\"100px\";\n   // b_bg.height=\"100px\";\n    b_bg.top=\"30%\"\n    b_bg.left=\"30%\"\n    b_bg.alpha=0.9\n    b_bg.thickness = 0;\n    b_bg.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM;\n    b_bg.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\n    b_bg.addControl(this.ico_bg)\n    b_bg.addControl(this.ico_b)\n\n  \n    this.display.advancedTexture.addControl( this.rect2);\n    this.display.advancedTexture.addControl( this.tipsBg);\n    this.display.advancedTexture.addControl( this.tipsText);\n    this.display.advancedTexture.addControl( b_bg);\n   \n\n    }\n\n    private ray\n    private hit\n\n    //初始化\n    public init(display){\n        this.scene=SceneManager.ins.scene;\n        this.display=display\n\n        //创建准星\n        this.creatUI()\n        //创建事件\n        this.addEvent()\n        //创建音频\n        this.creatMusic()\n\n        BoomCon.ins.init(this.display)\n\n          //获得位置\n          var origin = this.display.cameraBox.position;\n    \n          //创建向前矢量\n          var forward = new BABYLON.Vector3(0,0,1);\t\t\n          forward = Func.ins.vecToLocal(forward, this.display.cameraBox);\n      \n          //创建方向\n          var direction = forward.subtract(origin);\n          direction = BABYLON.Vector3.Normalize(direction);\n      \n          //创建属性\n          this.ray = new BABYLON.Ray(origin, direction, 300);\n    }\n\n\n    //事件\n    private addEvent(){\n\n        this.freeView=false;\n\n        document.addEventListener(\"keydown\",(e)=>{\n            　if (e.keyCode == 86) {\n    　　      }\n              if (e.keyCode == 32) {\n                this.freeView=true;\n    　　      }\n        })\n\n        document.addEventListener(\"keyup\",(e)=>{\n              if (e.keyCode == 32) {\n                this.freeView=false;\n    　　      }\n        })\n        this.keyevent()\n    }\n\n    public flyLife=true;\n\n\n    //更新方法\n    public update(times){\n\n\n        this.rect2.linkWithMesh(this.display.pickMesh)\n\n        this.times= times;\n        this._s=this.moveX;\n        if(this.freeView==false){\n            this.display.cameraBox.rotation.z=-this.moveX*0.001;\n            this.display.camera2.rotation=new BABYLON.Vector3(0.3,-Math.PI*2,0)\n            if(this.moveY>=50||this.moveY<=-50){\n               \n                if(this.display.cameraBox.rotation.x>=Math.PI*0.5){\n                    this.display.cameraBox.rotation.x=Math.PI*0.5-0.000000001\n                }else if(this.display.cameraBox.rotation.x<=-Math.PI*0.5){\n                    this.display.cameraBox.rotation.x=-Math.PI*0.5+0.000000001\n                }else{\n                    this.display.cameraBox.rotation.x-=this.moveY/80000*this.times\n                }\n\n                this.musics.zhanji.setPlaybackRate(this.display.cameraBox.rotation.x/10+1)\n            }\n            if(this.display.cameraBox.rotation.x>Math.PI*2){\n                this.display.cameraBox.rotation.x=0\n            }\n  \n            if(this.display.cameraBox.rotation.x<=-Math.PI*2){\n                this.display.cameraBox.rotation.x=0\n            }\n             this.display.camera2.detachControl(SceneManager.ins.canvas);\n             this.display.camera5.detachControl(SceneManager.ins.canvas);\n\n             if(this.viewState==true){\n                this.scene.activeCamera=this.display.camera3;\n             }\n        }else{\n             this.display.camera2.attachControl(SceneManager.ins.canvas);\n             if(this.viewState==true){\n                 this.display.camera5.target=this.display.cameraBox.position;\n                 this.display.camera5.attachControl(SceneManager.ins.canvas);\n                 this.display.camera5.radius=20;\n                 this.scene.activeCamera=this.display.camera5;\n             }else{\n              //  this.scene.activeCamera=this.display.camera3;\n             }\n        }\n      \n       // this.scene.getMeshByName(\"尾翼\").rotation=new BABYLON.Vector3(0,1,0);\n        var gravity = 0;\n        this.character = this.display.cameraBox;\n       /*  this.character.ellipsoid = new BABYLON.Vector3(3,6, 3);\n        this.character.ellipsoidOffset = new BABYLON.Vector3(0, 3.2, 0); */\n        var forwards\n           this.canardUpdate()\n           this.empennageUpdate()\n           this.wingsUpdate()\n           this.airflowUpdate()\n\n           this.rect2.rotation=-this.display.cameraBox.rotation.z;\n\n       //    console.log(Math.PI*2)\n       //    console.log(this.display.cameraBox.rotation.z)\n\n        /*    if(this.display.cameraBox.rotation.z>Math.PI/2){\n               this.display.cameraBox.rotation.y+=(this.display.cameraBox.rotation.z-Math.PI)/50*this.times;\n               //this.display.cameraBox.rotation.y+=0.01*this.times;\n           }else if( this.display.cameraBox.rotation.z<-Math.PI/2){\n               this.display.cameraBox.rotation.y+=(this.display.cameraBox.rotation.z+Math.PI)/50*this.times;\n                //this.display.cameraBox.rotation.y+=0.01*this.times;\n           }else{\n               this.display.cameraBox.rotation.y-=this.display.cameraBox.rotation.z/50*this.times;\n           } */\n\n           if(this.moveX/80000>=0.05){\n               this.display.cameraBox.rotation.y+=0.05*this.times;\n           }else if(this.moveX/80000<=-0.05){\n               this.display.cameraBox.rotation.y+=-0.05*this.times;\n           }else{\n                this.display.cameraBox.rotation.y+=this.moveX/80000*this.times;\n           }\n\n          \n\n\n           /* if(this.rightState==true&&this.leftState==false){\n               this.display.cameraBox.rotation.y+=0.01*this.times;\n               var forword=new BABYLON.Vector3(this.character.right.x*2*this.times*this.flySpeed,this.character.right.y*2*this.times*this.flySpeed,this.character.right.z*2*this.times*this.flySpeed)\n     \n               this.character.moveWithCollisions(forword);\n           }else if(this.rightState==false&&this.leftState==true){\n               this.display.cameraBox.rotation.y-=0.01*this.times;\n              var forword=new BABYLON.Vector3(-this.character.right.x*2*this.times*this.flySpeed,-this.character.right.y*2*this.times*this.flySpeed,-this.character.right.z*2*this.times*this.flySpeed)\n     \n              this.character.moveWithCollisions(forword);\n           } */\n           \n\n          \n           this.rect3.top=(-1460-1800*this.display.cameraBox.rotation.x/(Math.PI*2))+\"px\";\n            if(this.display.cameraBox.rotation.z>0){\n               // console.log(\"2223355\")\n            }\n    \n            var forword=new BABYLON.Vector3(this.character.forward.x*2*this.times*this.flySpeed,this.character.forward.y*2*this.times*this.flySpeed,this.character.forward.z*2*this.times*this.flySpeed)\n     \n            this.character.moveWithCollisions(forword);\n\n            this.obstacleDetection()\n    }\n\n\n    //障碍检测\n\n    private obstacleCount=0;\n\n    private warningText=\"\"\n    private warnings=[0,0,0,0,0]\n\n    private obstacleDetection(){\n        \n        var origin = this.display.cameraBox.position;\n\n        if(this.obstacleCount>=5){\n            this.obstacleCount=0\n          }\n\n        //下方检测\n        if(this.obstacleCount==0){\n            var forward = new BABYLON.Vector3(0,-1000,0);\t\n        }\n\n         //上方检测\n         if(this.obstacleCount==1){\n            var forward = new BABYLON.Vector3(0,1000,0);\t\n        }\n\n          //前方检测\n          if(this.obstacleCount==2){\n            var forward = new BABYLON.Vector3(0,0,1000);\t\n        }\n\n          //右方检测\n          if(this.obstacleCount==3){\n            var forward = new BABYLON.Vector3(-1000,0,0);\t\n          }\n\n           //左方检测\n           if(this.obstacleCount==4){\n            var forward = new BABYLON.Vector3(1000,0,0);\t\n          }\n\n        forward = Func.ins.vecToLocal(forward, this.display.cameraBox);\n    \n        var direction = forward.subtract(origin);\n        direction = BABYLON.Vector3.Normalize(direction);\n\n        this.ray.origin = origin;\n        this.ray.direction =direction;\n\n        this.hit = this.scene.pickWithRay(this.ray);\n\n   //   var ram=Math.random;\n\n\n   \n           //下方检测\n        if(this.obstacleCount==0){\n           // var forward = new BABYLON.Vector3(0,-1000,0);\t\n           this.pickCall((_jl)=>{\n                this.warnings[0]=1\n               // console.log(\"下方危险\"+_jl)\n                //this.warningText=\"Warning, Bottom collision，\"+parseInt(_jl.toString())+\" metres away\";\n                this.warningText=Language.ins.languageList.dmzj[localStorage.language].replace(\"${0}\",parseInt(_jl.toString()));\n           },()=>{\n              // console.log(\"前方\")\n               this.warnings[0]=0\n           },this.obstacleCount)\n           \n        }\n\n         //上方检测\n         if(this.obstacleCount==1){\n             this.pickCall((_jl)=>{\n                this.warnings[1]=1\n                  //  console.log(\"上方危险\"+_jl)\n                   // this.warningText=\"Warning, Top collision，\"+parseInt(_jl.toString())+\" metres away\";\n                    this.warningText=Language.ins.languageList.dbzj[localStorage.language].replace(\"${0}\",parseInt(_jl.toString()));\n                  //  this.musics.win.setVolume(1)\n            },()=>{\n              //  console.log(\"上方\")\n                this.warnings[1]=0\n            },this.obstacleCount)\n        }\n\n          //前方检测\n        if(this.obstacleCount==2){\n            this.pickCall((_jl)=>{\n                this.warnings[2]=1\n                 //   console.log(\"前方危险\"+_jl)\n                 this.warningText=Language.ins.languageList.qfzj[localStorage.language].replace(\"${0}\",parseInt(_jl.toString()));\n                 // this.musics.win.setVolume(1)\n            },()=>{\n                this.warnings[2]=0\n               },this.obstacleCount)\n        }\n\n          //左方检测\n          if(this.obstacleCount==3){\n              this.pickCall((_jl)=>{\n                this.warnings[3]=1\n                 //   console.log(\"左方危险\"+_jl)\n                 this.warningText=Language.ins.languageList.zfzj[localStorage.language].replace(\"${0}\",parseInt(_jl.toString()));\n                 //  this.musics.win.setVolume(1)\n            },()=>{\n                this.warnings[3]=0\n               },this.obstacleCount)\n          }\n\n           //右方检测\n          if(this.obstacleCount==4){\n           \n            this.pickCall((_jl)=>{\n                this.warnings[4]=1\n                  //  console.log(\"右方危险\"+_jl)\n                  this.warningText=Language.ins.languageList.yfzj[localStorage.language].replace(\"${0}\",parseInt(_jl.toString()));\n                  // this.musics.win.setVolume(1)\n            },()=>{\n                this.warnings[4]=0\n               },this.obstacleCount)\n               //console.log(\"左方\"+_jl)\t\t\t\n          }\n\n          this.obstacleCount++\n       \n\n\n          var ss=this.warnings.some((val) => {\n             return val===1; \n          });\n       //   console.log(\"ss\")\n       //   console.log(ss)\n          if(ss){\n          \n            if(this.jl>50){\n                this.musics.win.setVolume(0)\n                this.musics.win2.setVolume(2)\n            }else{\n                this.musics.win.setVolume(2)\n                this.musics.win2.setVolume(0)\n            }\n\n            if(this.jl<=10){\n                this.flyLife=false;\n                BoomCon.ins.boom(this.display.cameraBox.position);\n                this.musics.win.setVolume(0)\n                this.musics.win2.setVolume(0)\n                this.scene.getMeshByName(\"__root__\").scaling=new BABYLON.Vector3(0,0,0)\n            }\n           \n          }else{\n            this.musics.win.setVolume(0)\n            this.musics.win2.setVolume(0)\n          }\n          //console.log(this.warnings)\n         //this.starUi.moveToVector3(this.hit.pickedPoint,this.scene)\n      \n         this.sayWarning()\n   \n    }\n\n    private  _s=0;\n    private  _s_y=0;\n    private  moveX=0;\n    private  moveY=0;\n    private  eleImage;\n    private  jl\n\n\n    private pickCall(call,call2,obstacleCount){\n        if (this.hit.pickedMesh){\n            var _jl=Func.ins.getDistance(\n                this.hit.pickedPoint.x,\n                this.hit.pickedPoint.y, \n                this.hit.pickedPoint.z, \n                this.display.cameraBox.position.x,\n                this.display.cameraBox.position.y, \n                this.display.cameraBox.position.z, \n                )\n\n\n            //    this.musics.win2.setPlaybackRate((100-_jl)/200+1)\n\n                if(_jl<=100){\n                    call(_jl)\n                  \n                   // this.musics.win2.setPlaybackRate((100-_jl)/400+1)\n                   // this.musics.win.setPlaybackRate(1)\n                    this.jl=_jl\n                    \n                }else{\n                    call2()\n                    this.warningText=\"\"\n                   // localStorage.msg=this.warningText\n                }\n        }else{\n            call2()\n            this.warningText=\"\"\n          //  localStorage.msg=this.warningText\n        //this.starUi.linkWithMesh(this.display.pickMesh)\n        }\n    }\n\n\n    private sayWarning(){\n\n       // setInterval(()=>{\n          /*   if(this.warningText==\"\"){\n                //this.musics.win.setVolume(0)\n            }else{ */\n                //this.musics.win.setVolume(1)\n               // window.speechSynthesis.resume()\n               if(window.speechSynthesis.speaking==false){\n                   localStorage.msg=this.warningText\n                   if(this.warningText!=\"\"){\n                    var msg = new SpeechSynthesisUtterance(this.warningText);\n                    if(localStorage.language!=\"chinese\"){\n                        msg.lang=\"en\";\n                    }\n                    window.speechSynthesis.speak(msg);\n                   }\n                   this.tipsText.text=localStorage.msg;\n               }else{\n                   this.tipsText.text=localStorage.msg;\n               }\n\n             //  console.log()\n\n               if(this.tipsText.text==\"\"){\n                  this.tipsBg.alpha=0\n               }else{\n                  this.tipsBg.alpha=0.4\n               }\n               \n            \n\n           \n\n          //  console.log(window.speechSynthesis)\n        //},200)\n    }\n\n\n    private leftState=false;\n    private rightState=false;\n\n\n    private keyevent():void{\n\n        document.addEventListener(\"click\",(e)=>{\n            // alert(e.button)\n             if(e.button==2){\n                 this.viewCtrl()\n                // console.log(4566588)\n             }\n        })\n\n\n     \n        var _qljstate=true;\n\n        this.scene.beginAnimation(this.scene.getMeshByName(\"前轮\"), 0, 0.7916666865348816, false);\n        this.scene.beginAnimation(this.scene.getMeshByName(\"后轮\"), 0, 0.7916666865348816, false);\n        this.scene.beginAnimation(this.scene.getMeshByName(\"后轮.001\"), 0, 0.7916666865348816, false);\n\n\n        document.addEventListener(\"keydown\",(e)=>{\n           \n\n            　if (e.keyCode == 82) {\n                _qljstate=!_qljstate;\n                if(_qljstate){\n                 \n                   this.scene.beginAnimation(this.scene.getMeshByName(\"前轮\"), 0, 0.7916666865348816, false);\n                   this.scene.beginAnimation(this.scene.getMeshByName(\"后轮\"), 0, 0.7916666865348816, false);\n                   this.scene.beginAnimation(this.scene.getMeshByName(\"后轮.001\"), 0, 0.7916666865348816, false);\n                   \n                }else{\n                   this.scene.beginAnimation(this.scene.getMeshByName(\"前轮\"),  0.7916666865348816,1.625, false);\n                   this.scene.beginAnimation(this.scene.getMeshByName(\"后轮\"),  0.7916666865348816,1.625, false);\n                   this.scene.beginAnimation(this.scene.getMeshByName(\"后轮.001\"),  0.7916666865348816,1.625, false);\n                }\n              }\n            　if (e.keyCode == 65) {\n                // this.display.cameraBox.rotation.y-=0.6\n                // console.log(55666)\n                this.leftState=true;\n                this.rightState=false;\n              }\n\n            　if (e.keyCode == 68) {\n                this.leftState=false;\n                this.rightState=true;\n               //  this.display.cameraBox.rotation.y+=0.1\n              }\n    　　     // }\n        })\n\n        document.addEventListener(\"keyup\",(e)=>{\n           \n            　if (e.keyCode == 65) {\n                // this.display.cameraBox.rotation.y-=0.6\n                // console.log(55666)\n                this.leftState=false;\n               \n              }\n\n            　if (e.keyCode == 68) {\n                this.rightState=false;\n               //  this.display.cameraBox.rotation.y+=0.1\n              }\n    　　     // }\n        })\n\n      \n      \n        this.eleImage = document.getElementById('renderCanvas');\n            if (this.eleImage) {\n                // 起始值\n              //  var moveX = 0, moveY = 0;\n                // 图片无限变换的方法\n                var rotate3D =  (event)=> {\n\n                    if(this.freeView==false){\n                       \n                        var _moveX =this.moveX + event.movementX;\n                        var _moveY =this.moveY + event.movementY;\n\n                        if(_moveX>=2000||_moveX<=-2000){\n                            this.moveX=this.moveX\n                            _moveX=this.moveX\n                        }else{\n                            this.moveX = _moveX;\n                        }\n\n                        this.moveX = _moveX;\n\n                        if(_moveY>=1500||_moveY<=-1500){\n                            this.moveY=this.moveY\n                            _moveY=this.moveY\n                        }else{\n                            this.moveY = _moveY;\n                        }\n                      //  this.moveY = this.moveY + event.movementY;\n    \n                        if(this.moveX*0.001>Math.PI*2){\n                            this.moveX=0\n                        }\n            \n                        if(this.moveX*0.001<=-Math.PI*2){\n                            this.moveX=0\n                        }\n\n                        this.ico_b.top=this.moveY/30\n                        this.ico_b.left=this.moveX/30\n                    }\n                 \n                };\n\n                // 触发鼠标锁定\n                this.eleImage.addEventListener('click',  (e)=> {\n                    this.eleImage.requestPointerLock();\n                });\n\n                // 再次点击页面，取消鼠标锁定处理\n              /*   document.addEventListener('click', ()=> {\n                    if (document.pointerLockElement == eleImage) {\n                        document.exitPointerLock();\n                    }\n                }); */\n\n\n\n                // 检测鼠标锁定状态变化\n                document.addEventListener('pointerlockchange', ()=> {\n\n                    if (document.pointerLockElement == this.eleImage) {\n                        document.addEventListener(\"mousemove\", rotate3D, false);\n\n                       \n                    } else {\n                        document.removeEventListener(\"mousemove\", rotate3D, false);\n                    \n                    }\n                }, false);\n            }\n\n           \n    }\n\n    private flayState=[];\n\n    private setMeshVal(mesh,state,val){\n\n\n        var _sd=[];\n        _sd[\"up-go\"+mesh.name]=this.scene.beginWeightedAnimation(mesh, 0, 0.7916666865348816*val,0, false);\n        _sd[\"up-back\"+mesh.name]=this.scene.beginWeightedAnimation(mesh, 0.7916666865348816, 1.625*val,0, false);\n        _sd[\"down-go\"+mesh.name]=this.scene.beginWeightedAnimation(mesh, 1.625, 2.4583332538604736*val,0, false);\n        _sd[\"down-back\"+mesh.name]=this.scene.beginWeightedAnimation(mesh, 2.4583332538604736, 3.2916667461395264*val,0, false);\n        _sd[\"back\"+mesh.name]=this.scene.beginWeightedAnimation(mesh, 3.0*val, 3.2916667461395264*val,0, false);\n\n        this.flayState[mesh.name]=state;\n\n       if(state==\"up-go\"){\n           //console.log(\"4455\")\n           _sd[\"up-go\"+mesh.name].weight = 1\n           _sd[\"up-back\"+mesh.name].weight = 0\n           _sd[\"down-go\"+mesh.name].weight = 0\n           _sd[\"down-go\"+mesh.name].weight = 0\n           _sd[\"back\"+mesh.name].weight = 0\n          /*  _sd.forEach((sd,i)=>{\n               console.log(\"sd\")\n               console.log(sd)\n               console.log(i)\n           }) */\n           \n       }\n\n       if(state==\"up-back\"){\n        _sd[\"up-go\"+mesh.name].weight = 0\n        _sd[\"up-back\"+mesh.name].weight = 1\n        _sd[\"down-go\"+mesh.name].weight = 0\n        _sd[\"down-go\"+mesh.name].weight = 0\n        _sd[\"back\"+mesh.name].weight = 0\n           // this.scene.beginAnimation(mesh, 0.7916666865348816, 1.625*val, false);\n       }\n\n       if(state==\"down-go\"){\n        _sd[\"up-go\"+mesh.name].weight = 0\n        _sd[\"up-back\"+mesh.name].weight = 0\n        _sd[\"down-go\"+mesh.name].weight = 1\n        _sd[\"down-back\"+mesh.name].weight = 0\n        _sd[\"back\"+mesh.name].weight = 0\n           // this.scene.beginAnimation(mesh, 1.625, 2.4583332538604736*val, false);\n       }\n\n       if(state==\"down-back\"){\n        _sd[\"up-go\"+mesh.name].weight = 0\n        _sd[\"up-back\"+mesh.name].weight = 0\n        _sd[\"down-go\"+mesh.name].weight = 0\n        _sd[\"down-back\"+mesh.name].weight = 1\n        _sd[\"back\"+mesh.name].weight = 0\n           // this.scene.beginAnimation(mesh, 2.4583332538604736, 3.2916667461395264*val, false);\n       }\n       if(state==\"back\"){\n        _sd[\"up-go\"+mesh.name].weight = 0\n        _sd[\"up-back\"+mesh.name].weight = 0\n        _sd[\"down-go\"+mesh.name].weight = 0\n        _sd[\"down-back\"+mesh.name].weight = 0\n        _sd[\"back\"+mesh.name].weight = 1\n      //  console.log(\"中\")\n           // this.scene.beginAnimation(mesh, 2.4583332538604736, 3.2916667461395264*val, false);\n       }\n    }\n\n    private  canardUpdate(){\n        if(this.display.cameraBox.rotation.x>0.1){\n          //  console.log(\"大\")\n            if(this.flayState[\"鸭翼左\"]!=\"up-go\"){\n                this.setMeshVal(this.scene.getMeshByName(\"鸭翼左\"),\"up-go\",1)\n            }\n\n            if(this.flayState[\"鸭翼右\"]!=\"up-go\"){\n                //this.airflowCon(true)\n                this.setMeshVal(this.scene.getMeshByName(\"鸭翼右\"),\"up-go\",1)\n            }\n        }\n\n        if(this.display.cameraBox.rotation.x<-0.1){\n           // console.log(\"大\")\n            if(this.flayState[\"鸭翼左\"]!=\"down-go\"){\n               \n                this.setMeshVal(this.scene.getMeshByName(\"鸭翼左\"),\"down-go\",1)\n            }\n            if(this.flayState[\"鸭翼右\"]!=\"down-go\"){\n                this.setMeshVal(this.scene.getMeshByName(\"鸭翼右\"),\"down-go\",1)\n            }\n           \n        }\n\n\n        if(this.display.cameraBox.rotation.x>=-0.1&&this.display.cameraBox.rotation.x<=0.1){\n\n       \n            if(this.flayState[\"鸭翼左\"]==\"down-go\"){\n                if(this.flayState[\"鸭翼左\"]!=\"down-back\"){\n                  \n\n                  //  console.log(\"中2\")\n                    this.setMeshVal(this.scene.getMeshByName(\"鸭翼左\"),\"down-back\",1)\n                }\n            }\n\n            if(this.flayState[\"鸭翼左\"]==\"up-go\"){\n                if(this.flayState[\"鸭翼左\"]!=\"up-back\"){\n                    \n\n                  //  console.log(\"中2\")\n                    this.setMeshVal(this.scene.getMeshByName(\"鸭翼左\"),\"up-back\",1)\n                }\n            }\n\n            if(this.flayState[\"鸭翼右\"]==\"down-go\"){\n                if(this.flayState[\"鸭翼右\"]!=\"down-back\"){\n                \n                   // console.log(\"中2\")\n                    this.setMeshVal(this.scene.getMeshByName(\"鸭翼右\"),\"down-back\",1)\n                }\n            }\n\n            if(this.flayState[\"鸭翼右\"]==\"up-go\"){\n                if(this.flayState[\"鸭翼右\"]!=\"up-back\"){\n             \n\n                  //  console.log(\"中2\")\n                    this.setMeshVal(this.scene.getMeshByName(\"鸭翼右\"),\"up-back\",1)\n                }\n            }\n\n           \n        }\n    }\n\n\n\n    private empennageUpdate(){\n        if(this.display.cameraBox.rotation.z>0.3){\n            //console.log(\"大\")\n            if(this.flayState[\"尾翼\"]!=\"up-go\"){\n                this.setMeshVal(this.scene.getMeshByName(\"尾翼\"),\"up-go\",1)\n            }\n        }\n\n        if(this.display.cameraBox.rotation.z<-0.3){\n           // console.log(\"大\")\n            if(this.flayState[\"尾翼\"]!=\"down-go\"){\n                this.setMeshVal(this.scene.getMeshByName(\"尾翼\"),\"down-go\",1)\n            }\n        }\n\n\n        if(this.display.cameraBox.rotation.z>=-0.3&&this.display.cameraBox.rotation.z<=0.3){\n       \n            if(this.flayState[\"尾翼\"]==\"down-go\"){\n                if(this.flayState[\"尾翼\"]!=\"down-back\"){\n                   // console.log(\"中2\")\n                    this.setMeshVal(this.scene.getMeshByName(\"尾翼\"),\"down-back\",1)\n                }\n            }\n\n            if(this.flayState[\"尾翼\"]==\"up-go\"){\n                if(this.flayState[\"尾翼\"]!=\"up-back\"){\n                    //console.log(\"中2\")\n                    this.setMeshVal(this.scene.getMeshByName(\"尾翼\"),\"up-back\",1)\n                }\n            }\n        }\n    }\n\n\n    private wingsUpdate(){\n             //  this.character.rotation.y=\n             if(this._s>this.moveX){\n             //   console.log(\"大\")\n                if(this.flayState[\"右翼\"]!=\"up-go\"){\n                    this.setMeshVal(this.scene.getMeshByName(\"右翼\"),\"up-go\",1)\n                }\n    \n                if(this.flayState[\"左翼\"]!=\"down-go\"){\n                    this.setMeshVal(this.scene.getMeshByName(\"左翼\"),\"down-go\",1)\n                }\n            }\n    \n            if(this._s<this.moveX){\n                if(this.flayState[\"右翼\"]!=\"down-go\"){\n                    this.setMeshVal(this.scene.getMeshByName(\"右翼\"),\"down-go\",1)\n                }\n              //  console.log(\"小\")\n                if(this.flayState[\"左翼\"]!=\"up-go\"){\n                    this.setMeshVal(this.scene.getMeshByName(\"左翼\"),\"up-go\",1)\n                }\n            }\n    \n            if(this._s==this.moveX){\n               \n                if(this.flayState[\"右翼\"]==\"down-go\"){\n                    if(this.flayState[\"右翼\"]!=\"down-back\"){\n                     //   console.log(\"中2\")\n                        this.setMeshVal(this.scene.getMeshByName(\"右翼\"),\"down-back\",1)\n                    }\n                }\n    \n                if(this.flayState[\"右翼\"]==\"up-go\"){\n                    if(this.flayState[\"右翼\"]!=\"up-back\"){\n                      //  console.log(\"中2\")\n                        this.setMeshVal(this.scene.getMeshByName(\"右翼\"),\"up-back\",1)\n                    }\n                }\n               \n               // console.log(\"小\")\n               if(this.flayState[\"左翼\"]==\"down-go\"){\n                    if(this.flayState[\"左翼\"]!=\"down-back\"){\n                      //  console.log(\"中2\")\n                        this.setMeshVal(this.scene.getMeshByName(\"左翼\"),\"down-back\",1)\n                    }\n               }\n    \n               if(this.flayState[\"左翼\"]==\"up-go\"){\n                    if(this.flayState[\"左翼\"]!=\"up-back\"){\n                     //   console.log(\"中2\")\n                        this.setMeshVal(this.scene.getMeshByName(\"左翼\"),\"up-back\",1)\n                    }\n                }\n                \n            }\n    }\n\n\n     \n\n\n      private airflowUpdate(){\n        if(this.display.cameraBox.rotation.x>0.1){\n            this.airflowCon(false)\n        }\n  \n        if(this.display.cameraBox.rotation.x<-0.1){\n            this.airflowCon(true)\n        }\n  \n        if(this.display.cameraBox.rotation.x>=-0.1&&this.display.cameraBox.rotation.x<=0.1){\n            this.airflowCon(false)\n        }\n      }\n\n\n      private airflowConTime;\n      private airflowConState;\n\n      private airflowCon(airflowConState){\n\n        if(this.airflowConState==airflowConState){\n            return;\n        }\n\n       // console.log(\"airflowCon\")\n        clearInterval(this.airflowConTime);\n        \n        if(airflowConState){\n            this.airflowConTime=setInterval(()=>{ \n                this.scene.getMeshByName(\"气流1\").isVisible=!this.scene.getMeshByName(\"气流1\").isVisible;\n                this.scene.getMeshByName(\"气流2\").isVisible=!this.scene.getMeshByName(\"气流2\").isVisible;\n            },30)\n        }else{\n            this.scene.getMeshByName(\"气流1\").isVisible=false;\n            this.scene.getMeshByName(\"气流2\").isVisible=false;\n        }\n\n        this.airflowConState=airflowConState\n      }\n\n\n   \n /**\n     * 页面UI控制\n     * */\n    private viewCtrl():void{\n        this.viewState=!this.viewState;\n        if(this.viewState==true){\n         //   this.display.camera2.detachControl(SceneManager.ins.canvas,false);\n            this.scene.activeCamera=this.display.camera3\n          // this.scene.activeCameras=[]\n         /*    this.scene.activeCameras.push(this.display.camera3);\n            this.scene.activeCameras.push(this.display.camera4);\n            this.scene.activeCameras.push(this.display.camera5); */\n            this.scene.getMeshByName(\"驾驶员头\").isVisible=true;\n\n            this.musics.zhanji.setVolume(1)\n           // this.musics.win.setVolume(0.3)\n           // this.display.camera3.alpha=-Math.PI*1;\n           // this.display.camera3.beta=1.260483446598473\n          //  this.display.camera.attachControl(SceneManager.ins.canvas,true);\n\n        }else{\n          //  this.display.camera.detachControl(SceneManager.ins.canvas,false);\n            this.scene.activeCamera=this.display.camera2\n           // this.scene.activeCameras=[]\n            this.musics.zhanji.setVolume(0.5)\n          //  this.musics.win.setVolume(0.3)\n            this.scene.getMeshByName(\"驾驶员头\").isVisible=false;\n\n            \n         /*    this.scene.activeCameras.push(this.display.camera2);\n            this.scene.activeCameras.push(this.display.camera4);\n            this.scene.activeCameras.push(this.display.camera5);\n            this.scene.getMeshByName(\"驾驶员头\").isVisible=false; */\n          //  this.display.camera2.rotation=new BABYLON.Vector3(0.1,Math.PI*0.5,0)\n          //  this.display.camera2.attachControl(SceneManager.ins.canvas,true);\n        }\n    }\n\n    /*   private barrierConTime;\n      private barrierConState;\n\n      private barrierCon(barrierConState){\n\n        if(this.barrierConState==barrierConState){\n            return;\n        }\n\n        console.log(\"airflowCon\")\n        clearInterval(this.barrierConTime);\n        \n        if(barrierConState){\n            this.barrierConTime=setInterval(()=>{ \n\n                this.scene.getMeshByName(\"气流3\").isVisible=!this.scene.getMeshByName(\"气流3\").isVisible;\n             //   this.scene.getMeshByName(\"气流2\").isVisible=!this.scene.getMeshByName(\"气流2\").isVisible;\n            },30)\n        }else{\n            this.scene.getMeshByName(\"气流3\").isVisible=false;\n            //this.scene.getMeshByName(\"气流2\").isVisible=false;\n        }\n\n        this.barrierConState=barrierConState\n      } */\n}\n\n\n","/**\n * 子弹控制系统   by renjianfeng \n */\n\nimport {AssetsManager} from \"../../public\"\nimport {SceneManager} from \"../../public\"\nimport {Func,particleCon} from \"../../public\"\n\nexport class BoomCon{\n\n    private static instance: BoomCon;\n\n    public static get ins(): BoomCon {\n        if (!this.instance) {\n            this.instance = new BoomCon();\n        }\n        return this.instance;\n    }\n\n    //子弹\n    private bullets=[]\n\n    //击中子弹爆炸\n    private booms=[]\n\n    //准星\n    private starUi\n    //准星图片\n    private image2\n\n    private ray\n    private hit\n    private display\n    private scene\n\n\n    //帧率时间补偿\n\n    private times;\n    private fireSpeed=6;\n\n    private j;\n    private freeState;\n\n    private musics;\n\n    private particleeExhaust;\n    private particleeExhausts=[];\n    private tailFlowers=[];\n\n   \n\n    private creatMusic(){\n        this.musics={\n            qiang:new BABYLON.Sound(\"daodan\",[AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"boom\"][\"url\"]] , this.scene,()=>{\n               \n            },{loop:false}),\n        }\n    }\n\n    //创建UI\n    private creatUI(){\n     \n    }\n\n    //初始化\n    public init(display){\n        this.scene=SceneManager.ins.scene;\n        this.display=display\n\n        //创建准星\n        this.creatUI()\n\n        this.creatMusic()\n\n          //尾气粒子\n       \n           this.particleeExhaust = BABYLON[\"ParticleHelper\"].CreateDefault(new BABYLON.Vector3(0,0,0), 100);\n    \n           // Set emission rate\n           this.particleeExhaust.emitRate = 500;\n   \n           // Start size\n           this.particleeExhaust.minSize = 6;\n           this.particleeExhaust.maxSize = 24;\n   \n           // Lifetime\n           this.particleeExhaust.minLifeTime = 1;\n           this.particleeExhaust.maxLifeTime = 3;\n   \n           // Emission power\n           this.particleeExhaust.minEmitPower = 30;\n           this.particleeExhaust.maxEmitPower = 110;\n   \n           // Limit velocity over time\n           this.particleeExhaust.addLimitVelocityGradient(0, 40);\n           this.particleeExhaust.addLimitVelocityGradient(0.120, 12.983);\n           this.particleeExhaust.addLimitVelocityGradient(0.445, 1.780);\n           this.particleeExhaust.addLimitVelocityGradient(0.691, 0.502);\n           this.particleeExhaust.addLimitVelocityGradient(0.930, 0.05);\n           this.particleeExhaust.addLimitVelocityGradient(1.0, 0);\n   \n           this.particleeExhaust.limitVelocityDamping = 0.9;\n   \n           // Start rotation\n           this.particleeExhaust.minInitialRotation = -Math.PI / 2;\n           this.particleeExhaust.maxInitialRotation = Math.PI / 2;\n   \n           // Texture\n           this.particleeExhaust.particleTexture = AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"yun\"];\n           this.particleeExhaust.blendMode = BABYLON.ParticleSystem[\"BLENDMODE_MULTIPLYADD\"]; \n   \n           // Color over life\n           this.particleeExhaust.addColorGradient(0.0, new BABYLON.Color4(1, 1, 1, 0));\n           this.particleeExhaust.addColorGradient(0.1, new BABYLON.Color4(1, 1, 1, 1));\n           this.particleeExhaust.addColorGradient(0.9, new BABYLON.Color4(1, 1, 1, 1));\n           this.particleeExhaust.addColorGradient(1.0, new BABYLON.Color4(1, 1, 1, 0));\n   \n           // // Defines the color ramp to apply\n           this.particleeExhaust.addRampGradient(0.0, new BABYLON.Color3(1, 1, 1));\n           this.particleeExhaust.addRampGradient(0.09, new BABYLON.Color3(209/255, 204/255, 15/255));\n           this.particleeExhaust.addRampGradient(0.18, new BABYLON.Color3(221/255, 120/255, 14/255));\n           this.particleeExhaust.addRampGradient(0.28, new BABYLON.Color3(200/255, 43/255, 18/255));\n           this.particleeExhaust.addRampGradient(0.47, new BABYLON.Color3(115/255, 22/255, 15/255));\n           this.particleeExhaust.addRampGradient(0.88, new BABYLON.Color3(14/255, 14/255, 14/255));\n           this.particleeExhaust.addRampGradient(1.0, new BABYLON.Color3(14/255, 14/255, 14/255));\n           this.particleeExhaust.useRampGradients = true;\n   \n           // Defines the color remapper over time\n           this.particleeExhaust.addColorRemapGradient(0, 0, 0.1);\n           this.particleeExhaust.addColorRemapGradient(0.2, 0.1, 0.8);\n           this.particleeExhaust.addColorRemapGradient(0.3, 0.2, 0.85);\n           this.particleeExhaust.addColorRemapGradient(0.35, 0.4, 0.85);\n           this.particleeExhaust.addColorRemapGradient(0.4, 0.5, 0.9);\n           this.particleeExhaust.addColorRemapGradient(0.5, 0.95, 1.0);\n           this.particleeExhaust.addColorRemapGradient(1.0, 0.95, 1.0);\n   \n           // Particle system start\n           this.particleeExhaust.start(10);\n           this.particleeExhaust.targetStopDuration = .4;\n   \n           // Animation update speed\n           this.particleeExhaust.updateSpeed = 1/60;\n   \n           // Rendering order\n           this.particleeExhaust.renderingGroupId = 1;\n\n\n         \n        //创建爆炸列表\n        for(var i=0;i<=10;i++){\n            this.particleeExhausts[i]=this.particleeExhaust[\"clone\"](\"s\",1)\n\n            this.tailFlowers[i]=new particleCon(new BABYLON.Vector3(0,0,0),SceneManager.ins.scene,this.particleeExhausts[i]);        \n            //粒子尾气的位置\n            this.tailFlowers[i].Position(new BABYLON.Vector3(0, 0, 0))\n           // this.tailFlowers[i].Parent(this.booms[i]);\n        }\n\n    }\n\n    private ij=0\n\n    public boom(position){\n            this.tailFlowers[this.ij].Position(position)\n            this.tailFlowers[this.ij].start()\n            this.musics.qiang.play()\n            console.log(\"爆炸前\")\n            var ij=this.ij;\n\n            setTimeout(()=>{\n                this.tailFlowers[ij].stop()\n            },2000)\n           \n\n            if(this.ij<10){\n                this.ij++\n            }else{\n                this.ij=0\n            }\n    }\n\n    //更新方法\n}\n\n\n","/**\n * 子弹控制系统   by renjianfeng \n */\n\nimport {AssetsManager,particleCon} from \"../../public\"\nimport {SceneManager} from \"../../public\"\nimport {Func} from \"../../public\"\n\nexport class HotDecoyFlareCon{\n\n    private static instance: HotDecoyFlareCon;\n\n    public static get ins(): HotDecoyFlareCon {\n        if (!this.instance) {\n            this.instance = new HotDecoyFlareCon();\n        }\n        return this.instance;\n    }\n\n    //子弹\n    private bullets=[]\n\n    //击中子弹爆炸\n    private booms=[]\n\n    //准星\n    private starUi\n    //准星图片\n    private image2\n\n    private ray\n    private hit\n    private display\n    private scene\n\n\n    //帧率时间补偿\n\n    private times;\n    private fireSpeed=3;\n\n    private j;\n    private freeState;\n\n    private musics;\n\n    private particleeExhaust;\n    private particleeExhausts=[];\n    private tailFlowers=[];\n\n   \n\n    private creatMusic(){\n        this.musics={\n            qiang:new BABYLON.Sound(\"daodan\",[AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"dan\"][\"url\"]] , this.scene,()=>{\n               \n            },{loop:false}),\n        }\n    }\n\n    //创建UI\n    private creatUI(){\n      \n    }\n\n    //初始化\n    public init(display){\n        this.scene=SceneManager.ins.scene;\n        this.display=display\n\n        //创建准星\n        this.creatUI()\n        //创建事件\n        this.addEvent()\n        this.creatMusic()\n\n     //   this.scene.getMeshByName(\"导弹\").isVisible=false;\n\n\n          //尾气粒子\n          this.particleeExhaust = new BABYLON.ParticleSystem(\"particles\", 100, this.scene);\n          //粒子的纹理\n          this.particleeExhaust.particleTexture =  AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"yun\"];\n          this.particleeExhaust.minEmitBox = new BABYLON.Vector3(0, 0, 0); // Starting all From\n          this.particleeExhaust.maxEmitBox = new BABYLON.Vector3(-0, -0, -0); // Starting all From\n          this.particleeExhaust.color1 = new BABYLON.Color4(100/255, 100/255,100/255, 0.5);\n          this.particleeExhaust.color2 = new BABYLON.Color4(100/255, 100/255,100/255,0.5);\n          this.particleeExhaust.colorDead = new BABYLON.Color4(0, 0, 0, 0);\n        //  particleeExhaust[\"addColorGradient\"](0, new BABYLON.Color4(1, 1, 1, 0));\n          this.particleeExhaust.minSize = 1;\n          this.particleeExhaust.maxSize = 3;\n          // console.log(particleSystem)\n          this.particleeExhaust.minLifeTime = 10;\n          this.particleeExhaust.maxLifeTime = 10;\n          this.particleeExhaust.emitRate = 10;\n          this.particleeExhaust.blendMode = BABYLON.ParticleSystem[\"BLENDMODE_MULTIPLYADD\"];\n          this.particleeExhaust.direction1 = new BABYLON.Vector3(-0.4, 0.3, -1);\n          this.particleeExhaust.direction2 = new BABYLON.Vector3(0.4, 0.3, -1);\n          // particleSystem2.direction2 = new BABYLON.Vector3(0, 100, 0);\n          // Speed\n          this.particleeExhaust.minEmitPower = 0.5;\n          this.particleeExhaust.maxEmitPower = 0.5;\n          this.particleeExhaust.updateSpeed = 0.5;\n\n\n         \n\n        //创建子弹列表\n        for(var i=0;i<=10;i++){\n            this.bullets[i]= BABYLON.MeshBuilder.CreateSphere(\"frees\", {diameterX:  1, diameterY: 1, diameterZ: 1}, this.scene);\n            this.bullets[i].lifeState=false;\n            this.bullets[i].isPickable=false;\n            this.bullets[i].material=this.display.freeMateial;\n            this.bullets[i].checkCollisions = false;\n\n            this.particleeExhausts[i]=this.particleeExhaust[\"clone\"](\"s\",1)\n\n            this.tailFlowers[i]=new particleCon(new BABYLON.Vector3(0,0,0),SceneManager.ins.scene,this.particleeExhausts[i]);        \n            //粒子尾气的位置\n            this.tailFlowers[i].Position(new BABYLON.Vector3(0, 0, -0.6))\n   \n            this.tailFlowers[i].Parent(this.bullets[i]);\n        }\n\n        //创建爆炸列表\n     \n    }\n\n\n    //事件\n    private addEvent(){\n\n        this.freeState=false;\n\n        document.addEventListener(\"mousedown\",(e)=>{\n            if(e.button==0){\n                this.freeState=true;\n            }\n        })\n        document.addEventListener(\"mouseup\",(e)=>{\n            if(e.button==0){\n              this.freeState=false;\n            }\n        })\n\n        var cleard;\n\n        document.addEventListener(\"keydown\",(e)=>{\n                document.addEventListener(\"keydown\",(e)=>{\n                    　if (e.keyCode == 69) {\n                        clearInterval(cleard)\n                        var i=0\n                        cleard=setInterval(()=>{\n                            this.musics.qiang.play()\n                            // this.musics.qiang.setVolume(1)\n                             var ram=Math.random()/100;\n         \n                            \n                             if(this.j<=this.bullets.length-1){\n                                 this.tailFlowers[this.j].start()\n                                 this.bullets[this.j].position=new BABYLON.Vector3(this.display.cameraBox.absolutePosition.x+ram,this.display.cameraBox.absolutePosition.y+ram-2,this.display.cameraBox.absolutePosition.z) ;\n                                 this.bullets[this.j].rotation=new BABYLON.Vector3(this.display.cameraBox.rotation.x+ram,this.display.cameraBox.rotation.y+ram,this.display.cameraBox.rotation.z);\n                                 this.bullets[this.j].lifeState=true;\n                                 this.j++;\n                               //  this.timerNpc.start();\n                             }else{\n                                 this.j=0;\n                                 this.tailFlowers[this.j].start()\n                                 this.bullets[this.j].position=new BABYLON.Vector3(this.display.cameraBox.absolutePosition.x,this.display.cameraBox.absolutePosition.y-2,this.display.cameraBox.absolutePosition.z) ;\n                                 this.bullets[this.j].rotation=new BABYLON.Vector3(this.display.cameraBox.rotation.x,this.display.cameraBox.rotation.y,this.display.cameraBox.rotation.z);\n                                 this.bullets[this.j].lifeState=true;\n                             }\n\n                             i++\n                             if(i>=10){\n                                clearInterval(cleard)\n                             }\n                        },150)\n            　　      }\n                })\n            \n             \n        })\n    }\n\n\n    private boom(i,free){\n        this.booms[i].position=new BABYLON.Vector3(free.position.x,free.position.y,free.position.z);\n            this.booms[i].scaling.x=10;\n            this.booms[i].scaling.y=10;\n            this.booms[i].scaling.z=10;\n            this.booms[i].boom.to({ x:1 ,y:1,z:1}, 1000);\n            this.booms[i].boom.start();\n            this.booms[i].boom.onComplete(()=>{\n            this.booms[i].scaling.x=0;\n            this.booms[i].scaling.y=0;\n            this.booms[i].scaling.z=0;\n           // this.tailFlowers[i].stop()\n        })\n    }\n\n    //更新方法\n    public update(times) {\n         this.times= times;\n      \n         var ram=Math.random;\n \n \n        \n \n         this.bullets.forEach((free,i)=>{\n             if(free.lifeState==true){\n                 var forword=new BABYLON.Vector3(free.forward.x*this.times*this.fireSpeed,free.forward.y*this.times*this.fireSpeed,free.forward.z*this.times*this.fireSpeed)\n                 free.moveWithCollisions(forword);\n                 free.isVisible=true;\n \n                  if(free.boomPosition){\n                     var jl2=Func.ins.getDistance(\n                         free.position.x,\n                         free.position.y, \n                         free.position.z, \n                         free.boomPosition.x,\n                         free.boomPosition.y, \n                         free.boomPosition.z, \n                         )\n     \n                      if(jl2<=50){\n                         free.lifeState=false;\n                       //  this.boom(i,free)\n                         this.tailFlowers[i].stop()\n                         free.boomPosition=null;\n                      }\n                  }\n                  \n                 var jl=Func.ins.getDistance(\n                     free.position.x,\n                     free.position.y, \n                     free.position.z, \n                     this.display.cameraBox.position.x, \n                     this.display.cameraBox.position.y, \n                     this.display.cameraBox.position.z\n                     )\n \n                if(jl>=3000){\n                     free.lifeState=false;\n                     free.boomPosition=null;\n                   //  this.boom(i,free)\n                     this.tailFlowers[i].stop()\n                }\n             }else{\n                 free.isVisible=false;\n             }\n         })\n     }\n}\n\n\n","/**\n * 子弹控制系统   by renjianfeng \n */\n\nimport {AssetsManager} from \"../../public\"\nimport {SceneManager} from \"../../public\"\nimport {Func,particleCon} from \"../../public\"\n\nexport class MissileCon{\n\n    private static instance: MissileCon;\n\n    public static get ins(): MissileCon {\n        if (!this.instance) {\n            this.instance = new MissileCon();\n        }\n        return this.instance;\n    }\n\n    //子弹\n    private bullets=[]\n\n    //击中子弹爆炸\n    private booms=[]\n\n    //准星\n    private starUi\n    //准星图片\n    private image2\n\n    private ray\n    private hit\n    private display\n    private scene\n\n\n    //帧率时间补偿\n\n    private times;\n    private fireSpeed=6;\n\n    private j;\n    private freeState;\n\n    private musics;\n\n    private particleeExhaust;\n    private particleeExhausts=[];\n    private tailFlowers=[];\n\n   \n\n    private creatMusic(){\n        this.musics={\n            qiang:new BABYLON.Sound(\"daodan\",[AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"daodan\"][\"url\"]] , this.scene,()=>{\n               \n            },{loop:false}),\n        }\n    }\n\n    //创建UI\n    private creatUI(){\n        this.starUi = new BABYLON.GUI.Rectangle();\n        this.starUi.width = \"30px\";\n        this.starUi.height = \"30px\";\n        this.starUi.alpha=0.8;\n        this.starUi.thickness = 0;\n        this.display.advancedTexture.addControl( this.starUi);\n        this.image2 = new BABYLON.GUI.Image(\"but\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"jiantou3\"].src);\n        this.starUi.addControl(this.image2)\n    }\n    private boomSprite;\n\n    //初始化\n    public init(display){\n        this.scene=SceneManager.ins.scene;\n        this.display=display\n\n        //创建准星\n        this.creatUI()\n        //创建事件\n        this.addEvent()\n        this.creatMusic()\n\n        this.scene.getMeshByName(\"导弹\").isVisible=false;\n\n\n          //尾气粒子\n          this.particleeExhaust = new BABYLON.ParticleSystem(\"particles\", 2000, this.scene);\n          //粒子的纹理\n          this.particleeExhaust.particleTexture =  AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"yun\"];\n          this.particleeExhaust.minEmitBox = new BABYLON.Vector3(0, 0, 0); // Starting all From\n          this.particleeExhaust.maxEmitBox = new BABYLON.Vector3(-0, -0, -0); // Starting all From\n          this.particleeExhaust.color1 = new BABYLON.Color4(100/255, 100/255,100/255, 0.5);\n          this.particleeExhaust.color2 = new BABYLON.Color4(100/255, 100/255,100/255,0.5);\n          this.particleeExhaust.colorDead = new BABYLON.Color4(0, 0, 0, 0);\n        //  particleeExhaust[\"addColorGradient\"](0, new BABYLON.Color4(1, 1, 1, 0));\n          this.particleeExhaust.minSize = 2;\n          this.particleeExhaust.maxSize = 5;\n          // console.log(particleSystem)\n          this.particleeExhaust.minLifeTime = 50;\n          this.particleeExhaust.maxLifeTime = 50;\n          this.particleeExhaust.emitRate = 10;\n          this.particleeExhaust.blendMode =  BABYLON.ParticleSystem[\"BLENDMODE_MULTIPLYADD\"];\n          this.particleeExhaust.direction1 = new BABYLON.Vector3(-0.4, 3, -10.5);\n          this.particleeExhaust.direction2 = new BABYLON.Vector3(0.4, 3, -10.5);\n          // particleSystem2.direction2 = new BABYLON.Vector3(0, 100, 0);\n          // Speed\n          this.particleeExhaust.minEmitPower = 0.5;\n          this.particleeExhaust.maxEmitPower = 0.5;\n          this.particleeExhaust.updateSpeed = 0.5;\n\n\n          this.boomSprite=new BABYLON.SpriteManager(\"treesManager\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"boom3\"].src, 10, {width: 200, height: 200},this.scene);\n\n        //创建子弹列表\n        for(var i=0;i<=10;i++){\n            this.bullets[i]= BABYLON.MeshBuilder.CreateSphere(\"frees\", {diameterX:  1, diameterY: 1, diameterZ: 30}, this.scene);\n            this.bullets[i].lifeState=false;\n            this.bullets[i].isPickable=false;\n            this.bullets[i].material=this.display.freeMateial;\n            this.bullets[i].checkCollisions = false;\n            var missile=this.scene.getMeshByName(\"导弹\").clone();\n            missile.parent=this.bullets[i];\n            missile.position=new BABYLON.Vector3(0,0,16)\n          //  missile.scaling=new BABYLON.Vector3(10,10,10)\n            missile.rotation=new BABYLON.Vector3(0,-Math.PI*1,0);\n            missile.isPickable=false;\n            missile.isVisible=true;\n            missile.checkCollisions=false;\n           \n            missile.scaling=new BABYLON.Vector3(2,2,2)\n\n            this.particleeExhausts[i]=this.particleeExhaust[\"clone\"](\"s\",1)\n\n            this.tailFlowers[i]=new particleCon(new BABYLON.Vector3(0,0,0),SceneManager.ins.scene,this.particleeExhausts[i]);        \n            //粒子尾气的位置\n            this.tailFlowers[i].Position(new BABYLON.Vector3(0, 0, -0.6))\n   \n            this.tailFlowers[i].Parent(this.bullets[i]);\n        }\n\n        //创建爆炸列表\n        for(var i=0;i<=10;i++){\n            this.booms[i] = new BABYLON.Sprite(\"player\", this.boomSprite);\n            this.booms[i].lifeState=false;\n            this.booms[i].isPickable=false;\n            this.booms[i].size = 0;\n            this.bullets[i].checkCollisions = false;;\n        }\n\n        //获得位置\n        var origin = this.display.cameraBox.position;\n    \n        //创建向前矢量\n\t    var forward = new BABYLON.Vector3(0,0,1);\t\t\n\t    forward = Func.ins.vecToLocal(forward, this.display.cameraBox);\n    \n        //创建方向\n\t    var direction = forward.subtract(origin);\n\t    direction = BABYLON.Vector3.Normalize(direction);\n    \n        //创建属性\n\t    this.ray = new BABYLON.Ray(origin, direction, 3000);\n    }\n\n\n    //事件\n    private addEvent(){\n\n        this.freeState=false;\n\n        document.addEventListener(\"mousedown\",(e)=>{\n            if(e.button==0){\n                this.freeState=true;\n            }\n        })\n        document.addEventListener(\"mouseup\",(e)=>{\n            if(e.button==0){\n              this.freeState=false;\n            }\n        })\n\n        document.addEventListener(\"keyup\",(e)=>{\n            　if (e.keyCode == 81) {\n               // if(this.freeState){\n                    this.musics.qiang.play()\n                   // this.musics.qiang.setVolume(1)\n                    var ram=0;\n\n                   \n                    if(this.j<=this.bullets.length-1){\n                        this.tailFlowers[this.j].start()\n                        this.bullets[this.j].position=new BABYLON.Vector3(this.display.cameraBox.absolutePosition.x+ram,this.display.cameraBox.absolutePosition.y+ram,this.display.cameraBox.absolutePosition.z) ;\n                        this.bullets[this.j].rotation=new BABYLON.Vector3(this.display.cameraBox.rotation.x+ram,this.display.cameraBox.rotation.y+ram,this.display.cameraBox.rotation.z);\n                        this.bullets[this.j].lifeState=true;\n                        this.j++;\n                      //  this.timerNpc.start();\n                    }else{\n                        this.j=0;\n                        this.tailFlowers[this.j].start()\n                        this.bullets[this.j].position=new BABYLON.Vector3(this.display.cameraBox.absolutePosition.x,this.display.cameraBox.absolutePosition.y,this.display.cameraBox.absolutePosition.z) ;\n                        this.bullets[this.j].rotation=new BABYLON.Vector3(this.display.cameraBox.rotation.x,this.display.cameraBox.rotation.y,this.display.cameraBox.rotation.z);\n                        this.bullets[this.j].lifeState=true;\n                    }\n                }else{\n                   // this.musics.qiang.setVolume(0)\n                }\n    　　     // }\n        })\n    }\n\n\n    private boom(i,free){\n        this.booms[i].isVisible=true;\n        this.booms[i].position=new BABYLON.Vector3(free.position.x,free.position.y,free.position.z);\n        this.booms[i].size = 160;\n      \n        this.booms[i].playAnimation(0, 36, false, 10,()=>{\n            this.booms[i].size = 0;\n            this.booms[i].isVisible=true;\n        });\n    }\n\n    //更新方法\n    public update(times) {\n         this.times= times;\n         var origin = this.display.cameraBox.position;\n           var forward = new BABYLON.Vector3(0,0,1000);\t\t\n           forward = Func.ins.vecToLocal(forward, this.display.cameraBox);\n       \n           var direction = forward.subtract(origin);\n           direction = BABYLON.Vector3.Normalize(direction);\n \n           this.ray.origin = origin;\n           this.ray.direction =direction;\n \n           this.hit = this.scene.pickWithRay(this.ray);\n \n         var ram=Math.random;\n \n \n         if (this.hit.pickedMesh){\n            this.starUi.moveToVector3(this.hit.pickedPoint,this.scene)\n         }else{\n            this.starUi.linkWithMesh(this.display.pickMesh)\n         }\n \n         this.bullets.forEach((free,i)=>{\n             if(free.lifeState==true){\n                 var forword=new BABYLON.Vector3(free.forward.x*this.times*this.fireSpeed,free.forward.y*this.times*this.fireSpeed,free.forward.z*this.times*this.fireSpeed)\n                 free.moveWithCollisions(forword);\n                 free.isVisible=true;\n \n                 if (this.hit.pickedMesh){\n                     if(!free.boomPosition){\n                         free.boomPosition=new BABYLON.Vector3(this.hit.pickedPoint.x,this.hit.pickedPoint.y,this.hit.pickedPoint.z)\n                     }\n                }\n \n                  if(free.boomPosition){\n                     var jl2=Func.ins.getDistance(\n                         free.position.x,\n                         free.position.y, \n                         free.position.z, \n                         free.boomPosition.x,\n                         free.boomPosition.y, \n                         free.boomPosition.z, \n                         )\n     \n                      if(jl2<=50){\n                         free.lifeState=false;\n                         this.boom(i,free)\n                         this.tailFlowers[i].stop()\n                         free.boomPosition=null;\n                      }\n                  }\n                  \n                 var jl=Func.ins.getDistance(\n                     free.position.x,\n                     free.position.y, \n                     free.position.z, \n                     this.display.cameraBox.position.x, \n                     this.display.cameraBox.position.y, \n                     this.display.cameraBox.position.z\n                     )\n \n                if(jl>=3000){\n                     free.lifeState=false;\n                     free.boomPosition=null;\n                     this.boom(i,free)\n                     this.tailFlowers[i].stop()\n                }\n             }else{\n                 free.isVisible=false;\n             }\n         })\n     }\n}\n\n\n","import {EventCon} from \"../../other/EventCon\";\nimport {ExGameSceneGui} from \"./ExGameSceneGui\";\nimport {GameSceneGui} from \"../../public/index\";\n\nexport class ExGameSceneGuiCon extends GameSceneGui{\n\n\n    private static instance: ExGameSceneGuiCon;\n\n    public static get ins(): ExGameSceneGuiCon {\n        if (!this.instance) {\n            this.instance = new ExGameSceneGuiCon();\n        }\n        return this.instance;\n    }\n\n    constructor(){\n        super()\n        this.scene=ExGameSceneGui.ins.guiObject.sceneChild\n        this.parent=ExGameSceneGui.ins.guiObject;\n    }\n\n\n    public addEvent(){\n        var _btnState=[]\n        _btnState[\"view\"]=true;\n        console.log(\"按键事件\")\n        console.log(this.scene.btnLeft)\n\n       // var viewNode=\n        document.body.appendChild(this.scene.viewNode)\n\n       /*  this.doEvents[\"viewButton\"]=document.getElementById(\"button_view\").addEventListener(\"click\",()=>{\n            _btnState[\"view\"]=!_btnState[\"view\"];\n            EventCon.ins.key.notifyObservers(_btnState);\n        }) */\n\n\n        this.doEvents[\"viewReset\"]=document.getElementById(\"button_reset\").addEventListener(\"click\",()=>{\n            location.reload();\n        })\n       // document.getElementById(\"viewNode\").innerHTML=this.scene.viewHtml\n    }\n\n\n\n    public removeEvent(){\n        if(document.getElementById(\"viewNode\")){\n            try {\n                document.body.removeChild(this.scene.viewNode)\n            }catch (e) {\n                console.log(e)\n            }\n        }\n        //EventCon.ins.gold.remove( this.doEvents[\"gold\"]);\n    }\n}","\n\nimport {AssetsManager} from \"../../public/index\";\n\nexport class ExGameSceneGui{\n\n    private sceneCon:any;\n    private parent:any;\n\n    private static instance: ExGameSceneGui;\n\n    public static get ins(): ExGameSceneGui {\n        if (!this.instance) {\n            this.instance = new ExGameSceneGui();\n        }\n        return this.instance;\n    }\n\n    constructor(){\n            this.creatUI()\n    }\n\n    public creatUI(){\n\n        this.parent=new BABYLON.GUI.Rectangle()\n\n        var viewHtml=`\n            <style>\n            .button-view{\n                position: fixed;\n                top: 20px;\n                left:20px;\n                background: #349ccd;\n                color: #ffffff;\n                border: 0px solid ;\n                font-size: 18px;\n                padding: 8px 20px;\n                border-radius: 5px;\n                cursor: pointer;\n                transform: scale(1);\n            }\n            .button-view:active{\n              transform: scale(0.8);\n            }\n            .button-reset{\n                position: fixed;\n                top: 20px;\n                right:20px;\n                background: #349ccd;\n                color: #ffffff;\n                border: 0px solid ;\n                font-size: 18px;\n                padding: 8px 20px;\n                border-radius: 5px;\n                cursor: pointer;\n                transform: scale(1);\n            }\n            .about-btn{\n                position: fixed;\n                bottom: 20px;\n                right:20px;\n                background: #349ccd;\n                color: #ffffff;\n                border: 0px solid ;\n                font-size: 18px;\n                padding: 8px 20px;\n                border-radius: 5px;\n                cursor: pointer;\n                transform: scale(1);\n            }\n            button:active{\n              transform: scale(0.8);\n            }\n            </style>\n            <button class=\"button-reset\" id=\"button_reset\">Back</button>\n            <div>\n            <button class=\"about-btn\" onclick=\"window.location.href='https://github.com/renjianfeng/flightSimulator'\">About The Author And Github</button>\n            </div>\n        `;\n\n        var viewNode = document.createElement(\"div\");\n        viewNode.id = \"viewNode\";\n        viewNode.innerHTML = viewHtml;\n\n        //交給控制器做交互\n        this.parent.sceneChild={\n            viewHtml:viewHtml,\n            viewNode:viewNode,\n        }\n\n       // this.sceneCon=new GameSceneGuiCon(this.parent);\n    }\n\n    public get guiObject(){\n        return this.parent;\n    }\n\n  /*  public set guiObjectDo(obj){\n        this.parent=obj;\n    }*/\n}","import {ExStartGui} from \"./ExStartGui\";\nimport {AnimationCon} from \"../../public/index\";\nimport {StartGui} from \"../../public/index\";\nimport {WeatherState} from \"../../public/index\";\nimport {SceneManager} from \"../../public/index\";\nimport {ExGameSceneCon} from \"../../Scene/GameScene/ExGameSceneCon\";\nimport {EventCon} from \"../../other/EventCon\";\nimport {ModuleName} from \"../../public/enum/ModuleName\";\nimport {GlobalManager} from \"../../public/manager/GlobalManager\";\nimport {AssetsManager} from \"../../public\";\nexport class ExStartGuiCon extends StartGui{\n\n    /**\n     * 游戏业务基础数据\n     */\n\n\n    private static instance: ExStartGuiCon;\n\n    public static get ins(): ExStartGuiCon {\n        if (!this.instance) {\n            this.instance = new ExStartGuiCon();\n        }\n        return this.instance;\n    }\n\n    constructor(){\n        super()\n        this.scene=ExStartGui.ins.guiObject.sceneChild;\n        this.parent=ExStartGui.ins.guiObject;\n        this.gameSceneObject=ExGameSceneCon.ins;\n    }\n\n    public addEvent(){\n\n        localStorage.weatherState=WeatherState.RAIN_DAY;\n\n        document.body.appendChild(this.scene.viewNode)\n\n\n     \n\n        this.doEvents[\"viewPlay\"]=document.getElementById(\"button_play\").addEventListener(\"click\",this.onClick_startBtn.bind(this))\n\n\n        /* this.doEvents[\"SUNNY_DAY\"]=document.getElementById(\"SUNNY_DAY\").addEventListener(\"click\",(e)=>{\n            localStorage.weatherState=WeatherState.SUNNY_DAY;\n            console.log(\"当前dom\")\n            document.querySelectorAll(\".weather-config li\")[\"forEach\"]((list)=>{\n                list.setAttribute(\"class\",\"\")\n            })\n            e[\"path\"][0].setAttribute(\"class\",\"we-active\")\n        })\n\n        this.doEvents[\"RAIN_DAY\"]=document.getElementById(\"RAIN_DAY\").addEventListener(\"click\",(e)=>{\n            localStorage.weatherState=WeatherState.RAIN_DAY;\n            document.querySelectorAll(\".weather-config li\")[\"forEach\"]((list)=>{\n                list.setAttribute(\"class\",\"\")\n            })\n            e[\"path\"][0].setAttribute(\"class\",\"we-active\")\n        })\n\n        this.doEvents[\"AFTERNOON_DAY\"]=document.getElementById(\"AFTERNOON_DAY\").addEventListener(\"click\",(e)=>{\n            localStorage.weatherState=WeatherState.AFTERNOON_DAY;\n            document.querySelectorAll(\".weather-config li\")[\"forEach\"]((list)=>{\n                list.setAttribute(\"class\",\"\")\n            })\n            e[\"path\"][0].setAttribute(\"class\",\"we-active\")\n        })\n\n        this.doEvents[\"NIGHT_DAY\"]=document.getElementById(\"NIGHT_DAY\").addEventListener(\"click\",(e)=>{\n            localStorage.weatherState=WeatherState.NIGHT_DAY;\n            document.querySelectorAll(\".weather-config li\")[\"forEach\"]((list)=>{\n                list.setAttribute(\"class\",\"\")\n            })\n            e[\"path\"][0].setAttribute(\"class\",\"we-active\")\n        })\n */\n       // document.getElementById(\"GAME_BG\").style.backgroundImage=\"url(\"+AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"map1\"].src+\")\"\n        //document.getElementById(\"LOGO\").style.backgroundImage=\"url(\"+AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"logo\"].src+\")\"\n\n        this.mapReset()\n\n       /*  this.doEvents[\"MAP_LIST\"]==document.getElementById(\"MAP_LIST\").addEventListener(\"change\",(e)=>{\n            this.mapReset()\n        }) */\n\n/* \n        document.getElementById(\"RAIN_DAY\").style.backgroundImage=\"url(\"+AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"rain\"].src+\")\"\n        document.getElementById(\"SUNNY_DAY\").style.backgroundImage=\"url(\"+AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"sun\"].src+\")\"\n        document.getElementById(\"AFTERNOON_DAY\").style.backgroundImage=\"url(\"+AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"after\"].src+\")\"\n        document.getElementById(\"NIGHT_DAY\").style.backgroundImage=\"url(\"+AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"night\"].src+\")\"\n */\n    }\n\n\n\n    protected mapReset(){\n        console.log(localStorage)\n    }\n\n\n    protected onClick_startBtn() {\n        super.onClick_startBtn()\n        GlobalManager.ins.openModule(ModuleName.GAME_PLAY_SCENE);\n        this.removeEvent()\n    }\n\n\n    public removeEvent(){\n        super.removeEvent()\n        if(document.getElementById(\"startNode\")){\n            try {\n                document.body.removeChild(this.scene.viewNode)\n            }catch (e) {\n                console.log(e)\n            }\n        }\n    }\n}","\nimport {AssetsManager} from \"../../public/index\";\nimport {WeatherState} from \"../../public/index\";\n\n\n\nexport class ExStartGui{\n\n    private sceneCon:any;\n    private parent:any;\n\n    private static instance: ExStartGui;\n\n    public static get ins(): ExStartGui {\n        if (!this.instance) {\n            this.instance = new ExStartGui();\n        }\n        return this.instance;\n    }\n\n    constructor(){\n        this.creatUI()\n    }\n\n    public creatUI(){\n        this.parent=new BABYLON.GUI.Rectangle()\n\n\n\n      /*  var tween = new TWEEN.Tween(startBtn);\n        tween.to({ scaleX: 0.8 ,scaleY: 0.8}, 500);\n        tween.start();\n        tween.repeat(Infinity)\n        tween.yoyo(true)*/\n\n        var viewHtml=`\n            <style>\n            .button-play{\n                position: fixed;\n                top: 50%;\n                left:50%;\n                background: #349ccd;\n                color: #ffffff;\n                border: 0px solid ;\n                font-size: 42px;\n                border-radius: 5px;\n                cursor: pointer;\n                transform: scale(1);\n                width: 200px;\n                height: 80px;\n                margin-left: -100px;\n                margin-top: 200px;\n            }\n            .button-play:active{\n              transform: scale(0.8);\n            }\n            .weather-config{\n                position: fixed;\n                top: 50%;\n                left:50%;\n                display: block;\n                background: #ffffff;\n                color: #82bab3;\n                border: 0px solid ;\n                font-size: 24px;\n                border-radius: 5px;\n                transform: scale(1);\n                width: 1000px;\n                height: 260px;\n                margin-left: -500px;\n                margin-top: -200px;\n                text-align: center;\n               \n            }\n            .weather-config ul li{\n                display: inline-block;\n                height: 200px;\n                width: 200px;\n                margin: 0px 5px;\n                border: 1px solid #cccccc;\n                cursor: pointer;\n                background-size: 100% 100%;\n                text-shadow: 0px 0px 5px #444;\n            }\n            \n            .weather-config ul li:hover{\n                border: 1px solid royalblue;\n            }\n            .we-active{\n                border: 3px solid #000 !important;\n                opacity: 0.8;\n            }\n            .yw-text{\n              font-size: 14px;\n            }\n            .box-tip{\n            margin-top: 60px;\n            }\n            \n            .map-list{\n                margin-top:-30px;\n                position: relative;\n                top: -30px;\n            }\n            .map-list select{\n                background: transparent;\n                padding: 7px;\n                color: #82bab3;\n                position: relative;\n                top: -2px;\n                font-size: 18px;\n                border-radius: 5px;\n                border: 1px solid #82bab3;\n            }\n            .box-tip{\n                background: rgba(0,0,0,0.2);\n                color: #ffffff;\n                padding: 10px;\n                font-size: 16px;\n                letter-spacing: 3px;\n                position: fixed;\n                bottom: 30px;\n                width:100%;\n                padding-left:20px;\n                text-align: center;\n            }\n\n            .about-btn{\n                position: fixed;\n                top: 20px;\n                left:20px;\n                background: #349ccd;\n                color: #ffffff;\n                border: 0px solid ;\n                font-size: 18px;\n                padding: 8px 20px;\n                border-radius: 5px;\n                cursor: pointer;\n                transform: scale(1);\n            }\n            .game-bg{\n                position: fixed;\n                top: 0;\n                left:0;\n                width:100%;\n                height:100%;\n               // background-color: #349ccd;\n                background-size:100% 100%;\n            }\n            .logo{\n                position: fixed;\n                top: 5%;\n                left:50%;\n                width:500px;\n                height:160px;\n                margin-left:-250px;\n               \n                background-size:100% 100%;\n            }\n\n            </style>\n        \n            <div class=\"game-bg\" id=\"GAME_BG\">\n            <div>\n            <button class=\"about-btn\" onclick=\"window.location.href='https://github.com/renjianfeng/flightSimulator'\">About The Author And Github</button>\n            </div>\n            \n            <button class=\"button-play\" id=\"button_play\">Play</button>\n           \n            </div>\n           \n        `;\n\n        var viewNode = document.createElement(\"div\");\n        viewNode.id = \"startNode\";\n        viewNode.innerHTML = viewHtml;\n\n        document.title=\"FlightSimulator(台风战机模拟驾驶)\"\n\n        //this.chassisBody.position.set(0, 151, 226);\n\n\n        //交給控制器做交互\n        this.parent.sceneChild={\n            viewHtml:viewHtml,\n            viewNode:viewNode,\n        }\n\n       // this.sceneCon=new StartGuiCon(this.parent);\n    }\n\n    public get guiObject(){\n        return this.parent;\n    }\n}"],"sourceRoot":""}