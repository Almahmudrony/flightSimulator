{"version":3,"sources":["webpack://Hi/webpack/bootstrap","webpack://Hi/./src/public/index.ts","webpack://Hi/./src/public/components/Module.ts","webpack://Hi/./src/public/manager/SceneManager.ts","webpack://Hi/./src/public/manager/GuiManager.ts","webpack://Hi/./src/public/enum/ModuleName.ts","webpack://Hi/./src/public/others/DisplayPool.ts","webpack://Hi/./src/public/others/AnimationGui.ts","webpack://Hi/./src/public/manager/GlobalManager.ts","webpack://Hi/./src/Scene/GameScene/ExGameSceneCon.ts","webpack://Hi/./src/Main.ts","webpack://Hi/./src/Before.ts","webpack://Hi/./src/other/ResourceCon.ts","webpack://Hi/./src/other/SceneBeforeCall.ts","webpack://Hi/./src/public/components/game/GameScenes.ts","webpack://Hi/./src/public/enum/WeatherState.ts","webpack://Hi/./src/public/manager/AssetsManager.ts","webpack://Hi/./src/public/others/AnimationCon.ts","webpack://Hi/./src/public/others/particleCon.ts","webpack://Hi/./src/public/others/GuiCreate.ts","webpack://Hi/./src/public/components/game/Panels.ts","webpack://Hi/./src/public/components/game/Guis.ts","webpack://Hi/./src/public/components/game/StartGui.ts","webpack://Hi/./src/public/components/game/GameSceneGui.ts","webpack://Hi/./src/public/others/Func.ts","webpack://Hi/./src/Scene/GameScene/ExGameScene.ts","webpack://Hi/./src/Scene/GameScene/fireCon.ts","webpack://Hi/./src/Scene/GameScene/flyCon.ts","webpack://Hi/./src/Scene/GameScene/boomCon.ts","webpack://Hi/./src/Scene/GameScene/hotDecoyFlareCon.ts","webpack://Hi/./src/Scene/GameScene/MissileCon.ts","webpack://Hi/./src/Gui/GameSceneGui/ExGameSceneGuiCon.ts","webpack://Hi/./src/Gui/GameSceneGui/ExGameSceneGui.ts","webpack://Hi/./src/Gui/StartGui/ExStartGuiCon.ts","webpack://Hi/./src/Gui/StartGui/ExStartGui.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","e","GameScenes_1","GameScenes","ModuleName_1","ModuleName","WeatherState_1","WeatherState","AssetsManager_1","AssetsManager","GuiManager_1","GuiManager","SceneManager_1","SceneManager","GlobalManager_1","GlobalManager","AnimationCon_1","AnimationCon","AnimationGui_1","AnimationGui","particleCon_1","particleCon","GuiCreate_1","GuiCreate","Panels_1","Panels","Module_1","Module","Guis_1","Guis","StartGui_1","StartGui","GameSceneGui_1","GameSceneGui","DisplayPool_1","DisplayPool","Func_1","Func","initUI","show","args","_i","arguments","length","this","addEvent","hide","removeEvent","updateData","isInit","addClick","display","callback","onPointerUpObservable","add","removeClick","event","remove","delayEnable","delay","mouseEnable","mouseChildren","timeoutId","clearTimeout","setTimeout","dispose","_canvas","document","querySelector","_engine","BABYLON","Engine","deterministicLockstep","lockstepMaxSteps","createScene","scene","Scene","_onPointerUp","_onPointerDown","_onPointerMove","a","Tools","GetPointerPrefix","removeEventListener","window","pointerId","addEventListener","FreeCamera","Vector3","_scene","runRenderLoop","render","TWEEN","update","resize","instance","change","guiPoll","_lastGui","_fullscreenUI","GUI","AdvancedDynamicTexture","CreateFullscreenUI","changeGui","gui","_length","rootContainer","children","removeControl","addControl","appendGui","removeGui","removeAll","openPanel","closePanel","LOADING_GUI","WAITING_PANEL","MSG_PANEL","RULE_PANEL","LOSE_PANEL","GAME_START_GUI","GAME_PLAY_SCENE","GAME_PLAY_GUI","displayPool","advancedTexture","open","opened","keys","push","frame","animationX","Animation","ANIMATIONTYPE_FLOAT","ANIMATIONLOOPMODE_CYCLE","setKeys","animationY","animations","beginAnimation","close","closed","_this","openModule","moduleName","_a","ins","apply","index_1","index_2","index_3","ExGameScene_1","index_4","fireCon_1","flyCon_1","hotDecoyFlareCon_1","MissileCon_1","ExGameSceneCon","_super","doEvents","importMeshes","__extends","init","resetGame","ExGameScene","creatScene","localStorage","msg","SpeechSynthesisUtterance","lang","speechSynthesis","speak","engine","displayLoadingUI","loadingUIText","hideLoadingUI","console","log","getMaterialByName","l_state","setInterval","emissiveColor","Color3","getMeshByName","getChildMeshes","mesh","isVisible","material","backFaceCulling","collisionsEnabled","FlyCon","FireCon","HotDecoyFlareCon","MissileCon","meshes","forEach","checkCollisions","probe","ReflectionProbe","renderList","refreshRate","RenderTargetTexture","REFRESHRATE_RENDER_ONCE","attachToMesh","cameraBox","environmentTexture","resourceObject","cubeTextures","gameScene","skybox","workerCollisions","isPickable","shadowGenerator","getShadowMap","receiveShadows","isBlocker","usePhysicalLightFalloff","_usePhysicalLightFalloff","_environmentIntensity","parent","rotation","y","Math","PI","position","scaling","diffuseTexture","uScale","vScale","renderTargetTexture","activeCamera","camera4","uOffset","vOffset","sm","StandardMaterial","emissiveTexture","disableLighting","jingzi","registerBeforeRender","BeforeRender","onBeforeRenderObservable","beforeRender","flyLife","times","getFps","lens3","isOccluded","Before_1","ua","navigator","userAgent","isIphone","match","isAndroid","body","innerHTML","Before","ResourceCon_1","SceneBeforeCall_1","index_5","ExGameSceneCon_1","ExGameSceneGuiCon_1","ExStartGuiCon_1","resourceData","ResourceCon","resource","loadFile","initModule","SceneBeforeCall","musicLoop","assetsManager","loadCount","parseInt","toString","totalTasksCount","waitingTasksCount","ExStartGuiCon","ExGameSceneGuiCon","pathFirst","resPath","binarys","filePath","fileName","images","models","textures","_resource","j","data","gameOver","SUNNY_DAY","RAIN_DAY","AFTERNOON_DAY","NIGHT_DAY","_resourceObject","SceneLoader","OnPluginActivatedObservable","plugin","GLTFFileLoader","animationStartMode","GLTFLoaderAnimationStartMode","NONE","compileMaterials","set","_resourceData","sceneNames","progress","sceneName","_thisModel","model","addMeshTask","onSuccess","task","_thisMesh","_thisImage","image","addImageTask","_thisTexture","texture","addTextureTask","_thisBinary","binary","addBinaryFileTask","url","rootUrl","sceneFilename","_thisCubeTexture","cubeTexture","addCubeTextureTask","load","onProgress","_totalTasksCount","_waitingTasksCount","onFinish","animationBody","_endattr","_mesh","_attr","_speed","_keys","_endCall","_typeData","_loop","endattr","error","attr","speed","endCall","typeData","typedata","loop","animationBox","setbeginAnimation","onAnimationEnd","Pause","pause","Reset","reset","Speed","speedRatio","particle","fountain","Mesh","CreateBox","visibility","x","particleSystem","emitter","stop","start","Position","Parent","panelOut","StackPanel","createList","options","scaleUi","mouse","rectOut","Rectangle","thickness","isPointerBlocker","verticalAlignment","Control","VERTICAL_ALIGNMENT_TOP","horizontalAlignment","HORIZONTAL_ALIGNMENT_LEFT","isVertical","up","down","top","onPointerDownObservable","topY","height","onPointerMoveObservable","mul","left","leftY","width","optionsListCon","config","listTemplate","fullscreenUI","idealWidth","getElementById","offsetWidth","prizeDatalist","bodyWidth","bodyHeight","bodyTop","bodyLeft","optionList","_list","list","panelsAn","view","onClose","onClosed","onOpen","onOpened","onClick_ruleBtn","onClick_optionBtn","onClick_startBtn","removeHtml","section","removeChild","replace","str","replaceList","len","toInt","isIOS","randomArr","arr","random","temp","n1","n2","int","min","max","getDistance","x1","y1","z1","x2","y2","z2","_x","abs","_y","_z","sqrt","vecToLocal","vector","getWorldMatrix","TransformCoordinates","clearColor","Color4","MeshBuilder","depth","pickMesh","camera2Box","steering","camera2","UniversalCamera","inertia","fov","attachControl","canvas","detachControl","minZ","maxZ","skyboxMaterial","skybox13","clone","specularColor","skySphere","CreateSphere","diameter","applyFog","camera3","FollowCamera","radius","heightOffset","rotationOffset","cameraAcceleration","maxCameraSpeed","noRotationConstraint","layerMask","z","camera5","ArcRotateCamera","upperRadiusLimit","lowerRadiusLimit","CreatePlane","cameraToUseForPointers","lockedTarget","freeMateial","diffuseColor","boom","boomMateial","light","HemisphericLight","intensity","diffuse","groundColor","light3","DirectionalLight","shadowFrustumSize","shadowMinZ","shadowMaxZ","ShadowGenerator","bias","usePercentageCloserFiltering","filteringQuality","forceBackFacesOnly","terrainMaterial","TerrainMaterial","mixTexture","maptr2","GlowLayer","diffuseTexture1","grass","diffuseTexture2","diffuseTexture3","ground","occlusionType","AbstractMesh","OCCLUSION_TYPE_OPTIMISTIC","occlusionQueryAlgorithmType","OCCLUSION_ALGORITHM_TYPE_CONSERVATIVE","lensFlareSystem3","LensFlareSystem","LensFlare","lensdirt","src","lens2","layer","fogMode","FOGMODE_EXP","fogDensity","fogColor","public_1","public_2","public_3","bullets","booms","fireSpeed","creatMusic","musics","qiang","Sound","creatUI","starUi","alpha","image2","Image","jiantou3","diameterX","diameterY","diameterZ","lifeState","Tween","origin","forward","direction","subtract","Normalize","ray","Ray","freeState","button","play","ram","absolutePosition","free","to","onComplete","hit","pickWithRay","pickedMesh","moveToVector3","pickedPoint","linkWithMesh","forword","moveWithCollisions","boomPosition","boomCon_1","viewState","flySpeed","obstacleCount","warningText","warnings","_s","_s_y","moveX","moveY","flayState","zhanji","win","win2","rect2","scaleX","scaleY","color","rect3","HORIZONTAL_ALIGNMENT_CENTER","jiantou","b5","label","countB","chizi","jiantou2","TextBlock","text","textHorizontalAlignment","fontSize","tipsBg","background","tipsText","ico_bg","VERTICAL_ALIGNMENT_CENTER","ico_b","b_bg","VERTICAL_ALIGNMENT_BOTTOM","BoomCon","freeView","keyCode","keyevent","setPlaybackRate","target","character","canardUpdate","empennageUpdate","wingsUpdate","airflowUpdate","obstacleDetection","pickCall","_jl","some","val","jl","setVolume","sayWarning","call2","speaking","viewCtrl","_qljstate","eleImage","rotate3D","_moveX","movementX","_moveY","movementY","requestPointerLock","pointerLockElement","setMeshVal","state","_sd","beginWeightedAnimation","weight","airflowCon","airflowConState","clearInterval","airflowConTime","particleeExhausts","tailFlowers","ij","particleeExhaust","ParticleHelper","CreateDefault","emitRate","minSize","maxSize","minLifeTime","maxLifeTime","minEmitPower","maxEmitPower","addLimitVelocityGradient","limitVelocityDamping","minInitialRotation","maxInitialRotation","particleTexture","yun","blendMode","ParticleSystem","BLENDMODE_MULTIPLYADD","addColorGradient","addRampGradient","useRampGradients","addColorRemapGradient","targetStopDuration","updateSpeed","renderingGroupId","dan","minEmitBox","maxEmitBox","color1","color2","colorDead","direction1","direction2","cleard","daodan","missile","ExGameSceneGui_1","ExGameSceneGui","guiObject","sceneChild","btnLeft","appendChild","viewNode","viewReset","location","reload","viewHtml","createElement","id","ExStartGui_1","ExStartGui","gameSceneObject","weatherState","viewPlay","mapReset","title"],"mappings":"mBACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,KACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,KAGAF,EAAAD,QA0DA,OArDAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GAA0CK,cAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,aAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,YAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,cAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA2B,SAC3B,WAAiC,OAAA3B,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAkB,EAAAC,GAAsD,OAAAlB,OAAAmB,UAAAC,eAAA3B,KAAAwB,EAAAC,IAGtDhC,EAAAmC,EAAA,GAIAnC,IAAAoC,EAAA,cAAAC,EAAAf,EAAAlB,GAAA,aAAAU,OAAAC,eAAAO,EAAA,cAAAD,OAAA,ICjFA,IAAAiB,EAAAtC,EAAA,IAyBIE,EAAAqC,WAzBID,EAAAC,WAGR,IAAAC,EAAAxC,EAAA,GA4BKE,EAAAuC,WA5BGD,EAAAC,WACR,IAAAC,EAAA1C,EAAA,IA2BgBE,EAAAyC,aA3BRD,EAAAC,aACR,IAAAC,EAAA5C,EAAA,IA4BIE,EAAA2C,cA5BID,EAAAC,cACR,IAAAC,EAAA9C,EAAA,GA2BkBE,EAAA6C,WA3BVD,EAAAC,WACR,IAAAC,EAAAhD,EAAA,GA0B6BE,EAAA+C,aA1BrBD,EAAAC,aACR,IAAAC,EAAAlD,EAAA,GAyB0CE,EAAAiD,cAzBlCD,EAAAC,cACR,IAAAC,EAAApD,EAAA,IAkBIE,EAAAmD,aAlBID,EAAAC,aACR,IAAAC,EAAAtD,EAAA,GAiBiBE,EAAAqD,aAjBTD,EAAAC,aACR,IAAAC,EAAAxD,EAAA,IAgB8BE,EAAAuD,YAhBtBD,EAAAC,YACR,IAAAC,EAAA1D,EAAA,IAe0CE,EAAAyD,UAflCD,EAAAC,UACR,IAAAC,EAAA5D,EAAA,IAYeE,EAAA2D,OAZPD,EAAAC,OACR,IAAAC,EAAA9D,EAAA,GAWsBE,EAAA6D,OAXdD,EAAAC,OACR,IAAAC,EAAAhE,EAAA,IAU6BE,EAAA+D,KAVrBD,EAAAC,KACR,IAAAC,EAAAlE,EAAA,IAS2DE,EAAAiE,SATnDD,EAAAC,SACR,IAAAC,EAAApE,EAAA,IAQ8CE,EAAAmE,aARtCD,EAAAC,aACR,IAAAC,EAAAtE,EAAA,GAOkCE,EAAAqE,YAP1BD,EAAAC,YACR,IAAAC,EAAAxE,EAAA,IAgBIE,EAAAuE,KAhBID,EAAAC,oFCbR,IAAAV,EAAA,WAgBI,SAAAA,KA+FJ,OAtFcA,EAAA9B,UAAAyC,OAAV,aAOUX,EAAA9B,UAAA0C,KAAV,eAAe,IAAAC,KAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,GAAAC,UAAAD,GACXG,KAAKC,YAMClB,EAAA9B,UAAAiD,KAAV,eAAe,IAAAN,KAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,GAAAC,UAAAD,GACXG,KAAKG,eAMCpB,EAAA9B,UAAAgD,SAAV,aAOUlB,EAAA9B,UAAAkD,YAAV,aAQOpB,EAAA9B,UAAAmD,WAAP,eAAkB,IAAAR,KAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,GAAAC,UAAAD,GACTG,KAAKK,SACNL,KAAKN,SACLM,KAAKK,YAUHtB,EAAA9B,UAAAqD,SAAV,SAAmBC,EAAcC,GAE7B,OADWD,EAAQE,sBAAsBC,IAAIF,IASvCzB,EAAA9B,UAAA0D,YAAV,SAAsBJ,EAAcK,GAChCL,EAAQE,sBAAsBI,OAAOD,IAS/B7B,EAAA9B,UAAA6D,YAAV,SAAsBP,EAAcQ,GAChCR,EAAQS,YAAcT,EAAQU,iBAE1BjB,KAAKkB,WACLC,aAAanB,KAAKkB,WAGtBlB,KAAKkB,UAAYE,WAAW,WACxBpB,KAAKkB,UAAY,EACjBX,EAAQS,YAAcT,EAAQU,kBAC/BF,GAAgB,MAIhBhC,EAAA9B,UAAAoE,QAAP,aAGJtC,EA/GA,GAAa7D,EAAA6D,wFCAb,IAAAd,EAAA,WAgBI,SAAAA,IAEA+B,KAAKsB,QAAUC,SAASC,cAAc,iBAEtCxB,KAAKyB,QAAU,IAAIC,QAAQC,OAAO3B,KAAKsB,YACnCM,yBACAC,iBAAkB,IAElB,IAAIC,EAAY,WAIR,IAAIC,EAAQ,IAAIL,QAAQM,MAAMhC,KAAKyB,SAI/B5E,EAAIkF,EAAME,aACRpG,EAAIkG,EAAMG,eACVhG,EAAI6F,EAAMI,eACVC,EAAIV,QAAQW,MAAMC,mBA8BxB,OA7BItC,KAAKsB,QAAQiB,oBAAoBH,EAAI,OAAQlG,GAC7C8D,KAAKsB,QAAQiB,oBAAoBH,EAAI,OAAQvG,GAC7C2G,OAAOD,oBAAoBH,EAAI,KAAMvF,GACrCkF,EAAME,aAAe,SAAS5E,YACfA,EAAEoF,WAAa5F,EAAEQ,IAGhC0E,EAAMG,eAAiB,SAAS7E,YACjBA,EAAEoF,WAAa5G,EAAEwB,IAGhC0E,EAAMI,eAAiB,SAAS9E,YACjBA,EAAEoF,WAAavG,EAAEmB,IAGhC2C,KAAKsB,QAAQoB,iBAAiBN,EAAI,OAAQL,EAAMI,mBAChDnC,KAAKsB,QAAQoB,iBAAiBN,EAAI,OAAQL,EAAMG,mBAChDM,OAAOE,iBAAiBN,EAAI,KAAML,EAAME,iBAI/B,IAAIP,QAAQiB,WAAW,aAAc,IAAIjB,QAAQkB,QAAQ,EAAG,EAAG,GAAIb,GAQzEA,GAEbnF,KAAKoD,MAEPA,KAAK6C,OAASf,IAEd9B,KAAKyB,QAAQqB,cAAc,WACvB9C,KAAK6C,OAAOE,SACZC,MAAMC,UACRrG,KAAKoD,OAEPwC,OAAOE,iBAAiB,SAAU,WAC9B1C,KAAKyB,QAAQyB,UACftG,KAAKoD,OA0Df,OA/HIlE,OAAAC,eAAkBkC,EAAA,OAAAhC,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAIlF,GAEjB+B,KAAKmD,0CAwEhBrH,OAAAC,eAAWkC,EAAAhB,UAAA,SAAAhB,IAAX,WACI,OAAO+D,KAAK6C,wCAGhB/G,OAAAC,eAAWkC,EAAAhB,UAAA,UAAAhB,IAAX,WACI,OAAO+D,KAAKsB,yCAGhBxF,OAAAC,eAAWkC,EAAAhB,UAAA,UAAAhB,IAAX,WACI,OAAO+D,KAAKyB,yCAGTxD,EAAAhB,UAAAmG,OAAP,SAAc7C,KAuClBtC,EAxIA,GAAa/C,EAAA+C,8FCJb,IAAAF,EAAA,WAkBI,SAAAA,IAXQiC,KAAAqD,WAYJrD,KAAKsD,SAAS,KACdtD,KAAKuD,cAAc7B,QAAQ8B,IAAIC,uBAAuBC,mBAAmB,OA8CjF,OAxDI5H,OAAAC,eAAkBgC,EAAA,OAAA9B,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAIpF,GAEjBiC,KAAKmD,0CAUTpF,EAAAd,UAAA0G,UAAP,SAAiBC,OAAI,IAAAhE,KAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,EAAA,GAAAC,UAAAD,GAEjB,IADA,IAAIgE,EAAQ7D,KAAKuD,cAAcO,cAAcC,SAAShE,OAC9C3E,EAAE,EAAEA,EAAEyI,EAAQzI,IAClB4E,KAAKuD,cAAcS,cAAchE,KAAKuD,cAAcO,cAAcC,SAAS,IAE/E/D,KAAKuD,cAAcU,WAAWL,GAC9B5D,KAAKsD,SAASM,GAIX7F,EAAAd,UAAAiH,UAAP,SAAiBN,OAAI,IAAAhE,KAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,EAAA,GAAAC,UAAAD,GACjBG,KAAKuD,cAAcU,WAAWL,GAC9B5D,KAAKsD,SAASM,GAIX7F,EAAAd,UAAAkH,UAAP,SAAiBP,OAAI,IAAAhE,KAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,EAAA,GAAAC,UAAAD,GACjBG,KAAKuD,cAAcS,cAAchE,KAAKsD,WAGnCvF,EAAAd,UAAAmH,UAAP,SAAiBR,OAAI,IAAAhE,KAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,EAAA,GAAAC,UAAAD,GAEjB,IADA,IAAIgE,EAAQ7D,KAAKuD,cAAcO,cAAcC,SAAShE,OAC9C3E,EAAE,EAAEA,EAAEyI,EAAQzI,IAClB4E,KAAKuD,cAAcS,cAAchE,KAAKuD,cAAcO,cAAcC,SAAS,KAI5EhG,EAAAd,UAAAoH,UAAP,SAAiBT,KAGV7F,EAAAd,UAAAqH,WAAP,SAAkBV,KAKlB9H,OAAAC,eAAWgC,EAAAd,UAAA,gBAAAhB,IAAX,WACI,OAAO+D,KAAKuD,+CAGhBzH,OAAAC,eAAWgC,EAAAd,UAAA,WAAAhB,IAAX,WACI,OAAO+D,KAAKsD,0CAEpBvF,EAlEA,GAAa7C,EAAA6C,4FCHb,SAAYN,GAERA,EAAA8G,YAAA,eAEA9G,EAAA+G,cAAA,eAEA/G,EAAAgH,UAAA,WAEAhH,EAAAiH,WAAA,YAEAjH,EAAAkH,WAAA,YAEAlH,EAAAmH,eAAA,iBAEAnH,EAAAoH,gBAAA,gBAEApH,EAAAqH,cAAA,cAhBJ,CAAY5J,EAAAuC,aAAAvC,EAAAuC,+FCAZ,IAAA8B,EAAA,oBAAAA,IAUWS,KAAA+E,eACX,OARIjJ,OAAAC,eAAkBwD,EAAA,OAAAtD,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAI5D,GAEjBS,KAAKmD,0CAIpB5D,EAXA,GAAarE,EAAAqE,6FCKb,IAAAhB,EAMI,SAAYwD,EAAMiD,GAKXhF,KAAAL,KAAO,SAAUiE,EAAIqB,EAAMC,GAC9B,IAAIC,KACJA,EAAKC,MACDC,MAAO,EACPhJ,MAAO,KAEX8I,EAAKC,MACDC,MAAO,GACPhJ,MAAO,IAEX,IAAIiJ,EAAa,IAAI5D,QAAQ6D,UAAU,GAAI,SAAU,GAAI7D,QAAQ6D,UAAUC,oBAAqB9D,QAAQ6D,UAAUE,yBAClHH,EAAWI,QAAQP,GACnB,IAAIQ,EAAa,IAAIjE,QAAQ6D,UAAU,GAAI,SAAU,GAAI7D,QAAQ6D,UAAUC,oBAAqB9D,QAAQ6D,UAAUE,yBAClHE,EAAWD,QAAQP,GACnBvB,EAAIgC,cACJhC,EAAIgC,WAAWR,KAAKE,EAAWK,GAC/B3F,KAAKgF,gBAAgBf,WAAWL,GAC7BqB,GACCA,IAEJjF,KAAK+B,MAAM8D,eAAejC,EAAK,EAAG,MAAU,EAAE,WACvCsB,GACCA,OAKLlF,KAAAE,KAAO,SAAS0D,EAAIkC,EAAOC,GAApB,IAAAC,EAAAhG,KACNmF,KACJA,EAAKC,MACDC,MAAO,EACPhJ,MAAO,IAEX8I,EAAKC,MACDC,MAAO,GACPhJ,MAAO,KAEX,IAAIiJ,EAAa,IAAI5D,QAAQ6D,UAAU,GAAI,SAAU,GAAI7D,QAAQ6D,UAAUC,oBAAqB9D,QAAQ6D,UAAUE,yBAClHH,EAAWI,QAAQP,GACnB,IAAIQ,EAAa,IAAIjE,QAAQ6D,UAAU,GAAI,SAAU,GAAI7D,QAAQ6D,UAAUC,oBAAqB9D,QAAQ6D,UAAUE,yBAClHE,EAAWD,QAAQP,GACnBvB,EAAIgC,cACJhC,EAAIgC,WAAWR,KAAKE,EAAWK,GAC5BG,GACCA,IAEJ9F,KAAK+B,MAAM8D,eAAejC,EAAK,EAAG,MAAU,EAAE,WAC1CoC,EAAKhB,gBAAgBhB,cAAcJ,GAEhCmC,GACCA,OAtDR/F,KAAK+B,MAAMA,EACX/B,KAAKgF,gBAAgBA,GARhB9J,EAAAqD,8FCAb,IAAAe,EAAAtE,EAAA,GACAmD,EAAA,oBAAAA,KAmBA,OAdIrC,OAAAC,eAAkBoC,EAAA,OAAAlC,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAIhF,GAEjB6B,KAAKmD,0CAOThF,EAAAlB,UAAAgJ,WAAP,SAAkBC,OAAmB,IAAA5J,EAAAsD,KAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,EAAA,GAAAC,UAAAD,IACjCsG,EAAA7G,EAAAC,YAAY6G,IAAIrB,YAAYmB,IAAYvG,KAAI0G,MAAAF,EAAIvG,IAExDzB,EAnBA,GAAajD,EAAAiD,saCLb,IAAAmI,EAAAtL,EAAA,GACAuL,EAAAvL,EAAA,GACAwL,EAAAxL,EAAA,GAEAyL,EAAAzL,EAAA,IACA0L,EAAA1L,EAAA,GAKA2L,EAAA3L,EAAA,IACA4L,EAAA5L,EAAA,IACA6L,EAAA7L,EAAA,IACA8L,EAAA9L,EAAA,IAGA+L,EAAA,SAAAC,GAiBI,SAAAD,IAAA,IAAAf,EACIgB,EAAAzL,KAAAyE,OAAOA,YAHDgG,EAAAiB,YAMAjB,EAAAkB,kBAqMd,OA1NoCC,EAAAJ,EAAAC,GAGhClL,OAAAC,eAAkBgL,EAAA,OAAA9K,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAI4D,GAEjB/G,KAAKmD,0CAiBT4D,EAAA9J,UAAAmK,KAAP,WACIb,EAAAhH,YAAY6G,IAAIrB,YAAYyB,EAAA/I,WAAWoH,iBAAiB7E,MAQlD+G,EAAA9J,UAAAoK,UAAV,eAAArB,EAAAhG,KACIyG,EAAAa,YAAYlB,IAAImB,aAChB,IAAIxF,EAAMuE,EAAArI,aAAamI,IAAIrE,MAC3B/B,KAAK+B,MAAMuE,EAAArI,aAAamI,IAAIrE,MAC5B/B,KAAKO,QAAQkG,EAAAa,YAAYlB,IAAI7F,QAM9Ba,WAAW,WACVoG,aAAaC,IAAI,mTAEjB,IAAIA,EAAM,IAAIC,yBAAyBF,aAAaC,KACpDA,EAAIE,KAAK,KAENnF,OAAOoF,gBAAgBC,MAAMJ,IAC/B,KAGDnB,EAAArI,aAAamI,IAAI0B,OAAOC,mBACxBzB,EAAArI,aAAamI,IAAI0B,OAAOE,cAAgB,kBACxC1B,EAAArI,aAAamI,IAAI0B,OAAOG,gBAGxBC,QAAQC,IAAI,cACZD,QAAQC,IAAInI,KAAK+B,MAAMqG,kBAAkB,eAGzC,IAAIC,KACLC,YAAY,WACTD,GAASA,EAEPrC,EAAKjE,MAAMqG,kBAAkB,cAAcG,cAD1CF,EACwD,IAAI3G,QAAQ8G,OAAO,GAAI,GAAI,IAG3B,IAAI9G,QAAQ8G,OAAO,GAAI,GAAI,KAGvF,IAEFF,YAAY,WAENtC,EAAKjE,MAAM0G,cAAc,KAAKC,kBAAqB,SAACC,GACjDA,EAAKC,eAETxH,WAAW,WACP4E,EAAKjE,MAAM0G,cAAc,KAAKC,kBAAqB,SAACC,GAChDA,EAAKC,gBAEX,KACL,KAGD5I,KAAK+B,MAAM0G,cAAc,OAAOI,SAASC,mBACzC9I,KAAK+B,MAAM0G,cAAc,OAAOI,SAASC,mBACzC9I,KAAK+B,MAAMgH,qBAGXnC,EAAAoC,OAAO5C,IAAIgB,KAAKpH,KAAKO,SAErBoG,EAAAsC,QAAQ7C,IAAIgB,KAAKpH,KAAKO,SACtBsG,EAAAqC,iBAAiB9C,IAAIgB,KAAKpH,KAAKO,SAC/BuG,EAAAqC,WAAW/C,IAAIgB,KAAKpH,KAAKO,SAIzBP,KAAK+B,MAAMqH,OAAOC,QAAQ,SAACV,GACvBA,EAAKW,qBAGT,IAAIC,EAAQ,IAAI7H,QAAQ8H,gBAAgB,OAAQ,GAAIxJ,KAAK+B,OACzDwH,EAAME,WAAWrE,KAAMpF,KAAK+B,MAAM0G,cAAc,YAChDc,EAAME,WAAWrE,KAAKpF,KAAK+B,MAAM0G,cAAc,cAC/Cc,EAAMG,YAAchI,QAAQiI,oBAAoBC,wBAChDL,EAAMM,aAAa7J,KAAKO,QAAQuJ,WAEhC9J,KAAK+B,MAAMgI,mBAAmBzD,EAAAzI,cAAcuI,IAAI4D,eAA6BC,aAAaC,UAAUC,OACpGnK,KAAK+B,MAAMqI,oBACXpK,KAAK+B,MAAM0G,cAAc,YAAYC,kBAAqB,SAACC,GACvDT,QAAQC,IAAIQ,GACZT,QAAQC,IAAIQ,EAAKhN,MACjBgN,EAAK0B,cACLrE,EAAKzF,QAAQ+J,gBAAgBC,eAAed,WAAWrE,KAAKuD,GAC5DA,EAAK6B,kBACS,SAAX7B,EAAKhN,KACJgN,EAAK8B,aAEL9B,EAAK8B,aAEN9B,EAAKE,WACJF,EAAKE,SAASC,mBACdZ,QAAQC,IAAI,iBACZD,QAAQC,IAAIQ,EAAKE,UACjBF,EAAKE,SAAS6B,2BACd/B,EAAKE,SAAS8B,4BACdhC,EAAKE,SAAS+B,sBAAwB,MAI9C5K,KAAK+B,MAAM0G,cAAc,YAAYoC,OAAO7K,KAAKO,QAAQuJ,UACzD9J,KAAK+B,MAAM0G,cAAc,YAAYqC,SAASC,EAAW,GAARC,KAAKC,GAEtDjL,KAAK+B,MAAM0G,cAAc,YAAYyC,SAASH,GAAG,EACjD/K,KAAKO,QAAQuJ,UAAUqB,QAAQ,IAAIzJ,QAAQkB,QAAQ,GAAG,GAAG,IAEzD5C,KAAK+B,MAAM0G,cAAc,WAAW4B,cACpCrK,KAAK+B,MAAM0G,cAAc,WAAWgC,aACpCzK,KAAK+B,MAAM0G,cAAc,WAAW0C,QAAQ,IAAIzJ,QAAQkB,QAAQ,GAAG,GAAG,IACtE5C,KAAK+B,MAAM0G,cAAc,WAAWI,SAASuC,eAAeC,OAAO,EACnErL,KAAK+B,MAAM0G,cAAc,WAAWI,SAASuC,eAAeE,OAAO,EACnEtL,KAAKO,QAAQuJ,UAAUoB,SAASH,GAAG,GAEnC,IAAIQ,EAAsB,IAAI7J,QAAQiI,oBAAoB,MAAO,IAAK5H,GACtEwJ,EAAoBC,aAAexL,KAAKO,QAAQkL,QAChDF,EAAoBD,OAAO,GAC3BC,EAAoBF,OAAO,EAC3BE,EAAoBG,QAAQ,EAC5BH,EAAoBI,SAAS,IAE7B3L,KAAK+B,MAAMqH,OAAOC,QAAQ,SAACV,GACvB4C,EAAoB9B,WAAWrE,KAAKuD,KAKxC,IAAIiD,EAAI,IAAIlK,QAAQmK,iBAAiB,SAAU9J,GAC/C6J,EAAGE,gBAAkBP,EACrBK,EAAGG,mBACHH,EAAG9C,mBAMH9I,KAAK+B,MAAM0G,cAAc,SAASI,SAAS+C,EAC3C5L,KAAKO,QAAQyL,OAAOnD,SAAS+C,EAG7B7J,EAAMkK,qBAAqB,WACvBV,EAAoBxI,WAGxBmF,QAAQC,IAAI,iCAgBNpB,EAAA9J,UAAAgD,SAAV,eAAA+F,EAAAhG,KACIA,KAAKiH,SAAuBiF,aAAE5F,EAAArI,aAAamI,IAAIrE,MAAMoK,yBAAyBzL,IAAI,WAC9EsF,EAAKoG,kBAKHrF,EAAA9J,UAAAmP,aAAV,WAEI,IAAIxF,EAAAoC,OAAO5C,IAAIiG,QACX,SAGJrM,KAAKsM,MAAO,GAAGhG,EAAArI,aAAamI,IAAI0B,OAAOyE,SACvC5F,EAAAsC,QAAQ7C,IAAInD,OAAOjD,KAAKsM,OACxB1F,EAAAoC,OAAO5C,IAAInD,OAAOjD,KAAKsM,OACvBzF,EAAAqC,iBAAiB9C,IAAInD,OAAOjD,KAAKsM,OACjCxF,EAAAqC,WAAW/C,IAAInD,OAAOjD,KAAKsM,OACxBtM,KAAKO,QAAQiM,MAAMC,YAQ9B1F,EA1NA,CAAoCL,EAAAnJ,YAAvBrC,EAAA6L,gGChBb,IAAA2F,EAAA1R,EAAA,IAEAwH,OAAOE,iBAAiB,OAAO,WAE3B,IAAIiK,EAAKC,UAAUC,UAIfC,GAFOH,EAAGI,MAAM,yBAEGJ,EAAGI,MAAM,0BAE5BC,EAAYL,EAAGI,MAAM,wBAEVD,GAAYE,EAK/BzL,SAAS0L,KAAKC,UAAW,oSAejBR,EAAAS,OAAO/G,IAAInD,0FChCnB,IAAAmK,EAAApS,EAAA,IACAqS,EAAArS,EAAA,IACAsL,EAAAtL,EAAA,GACAuL,EAAAvL,EAAA,GACAwL,EAAAxL,EAAA,GACA0L,EAAA1L,EAAA,GACAsS,EAAAtS,EAAA,GACAuS,EAAAvS,EAAA,GACAwS,EAAAxS,EAAA,IACAyS,EAAAzS,EAAA,IAIAmS,EAAA,oBAAAA,KA4CA,OAvCIrR,OAAAC,eAAkBoR,EAAA,OAAAlR,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAIgK,GAEjBnN,KAAKmD,0CAITgK,EAAAlQ,UAAAgG,OAAP,eAAA+C,EAAAhG,KACIsG,EAAAzI,cAAcuI,IAAIsH,aAAaN,EAAAO,YAAYvH,IAAIwH,SAC/CtH,EAAAzI,cAAcuI,IAAIyH,UAAU,aAAatH,EAAAtI,aAAamI,IAAIrE,MAAM,WAC5DiE,EAAK8H,aACL5F,QAAQC,IAAIzB,EAAAnH,YAAY6G,IAAIrB,aAC5ByB,EAAArI,cAAciI,IAAIH,WAAWqH,EAAA7P,WAAWmH,gBACxCyI,EAAAU,gBAAgB3H,IAAI4H,aACtB,SAAC3Q,EAAE4Q,GACD/F,QAAQC,IAAI9K,EAAE6Q,WACdhG,QAAQC,IAAI9K,GACZ6K,QAAQC,IAAI8F,GACZ1H,EAAAtI,aAAamI,IAAI0B,OAAOE,cAAgB,WAAWmG,UAAsB,IAAZ9Q,EAAE6Q,WAAeE,YAAa,cAAc/Q,EAAEgR,gBAAgBhR,EAAEiR,mBAAmB,IAAIjR,EAAEgR,gBAAgB,OAIpKlB,EAAAlQ,UAAAgD,SAAV,aASOkN,EAAAlQ,UAAA6Q,WAAP,WAEIP,EAAAxG,eAAeX,IAAIgB,OACnBqG,EAAAc,cAAcnI,IAAIgB,OAClBoG,EAAAgB,kBAAkBpI,IAAIgB,QAG9B+F,EA5CA,GAAajS,EAAAiS,wFCZb,IAAAQ,EAAA,WAeI,SAAAA,IACI,IAAIzD,EAHAlK,KAAAyO,UAAUjM,OAAgBkM,QAK9BxE,GACIyE,UACKhT,KAAK,SAAUiT,SAAS5O,KAAKyO,UAAU,kCAAmCI,SAAS,gBACnFlT,KAAK,QAASiT,SAAS5O,KAAKyO,UAAU,kCAAmCI,SAAS,eAClFlT,KAAK,SAAUiT,SAAS5O,KAAKyO,UAAU,kCAAmCI,SAAS,eACnFlT,KAAK,MAAOiT,SAAS5O,KAAKyO,UAAU,kCAAmCI,SAAS,eAChFlT,KAAK,MAAOiT,SAAS5O,KAAKyO,UAAU,kCAAmCI,SAAS,aAChFlT,KAAK,OAAQiT,SAAS5O,KAAKyO,UAAU,kCAAmCI,SAAS,aACjFlT,KAAK,OAAQiT,SAAS5O,KAAKyO,UAAU,kCAAmCI,SAAS,aAGtFC,SAEKnT,KAAK,QAASiT,SAAS5O,KAAKyO,UAAU,oCAAqCI,SAAS,cACpFlT,KAAK,QAASiT,SAAS5O,KAAKyO,UAAU,oCAAqCI,SAAS,cACpFlT,KAAK,OAAQiT,SAAS5O,KAAKyO,UAAU,oCAAqCI,SAAS,aACnFlT,KAAK,MAAOiT,SAAS5O,KAAKyO,UAAU,oCAAqCI,SAAS,YAClFlT,KAAK,OAAQiT,SAAS5O,KAAKyO,UAAU,oCAAqCI,SAAS,cACnFlT,KAAK,OAAQiT,SAAS5O,KAAKyO,UAAU,oCAAqCI,SAAS,cACnFlT,KAAK,OAAQiT,SAAS5O,KAAKyO,UAAU,oCAAqCI,SAAS,cACnFlT,KAAK,OAAQiT,SAAS5O,KAAKyO,UAAU,oCAAqCI,SAAS,aACnFlT,KAAK,UAAWiT,SAAS5O,KAAKyO,UAAU,oCAAqCI,SAAS,gBACtFlT,KAAK,WAAYiT,SAAS5O,KAAKyO,UAAU,oCAAqCI,SAAS,iBACvFlT,KAAK,WAAYiT,SAAS5O,KAAKyO,UAAU,oCAAqCI,SAAS,iBACvFlT,KAAK,WAAYiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,iBAEtFlT,KAAK,QAASiT,SAAS5O,KAAKyO,UAAU,oCAAqCI,SAAS,cACpFlT,KAAK,QAASiT,SAAS5O,KAAKyO,UAAU,oCAAqCI,SAAS,cACpFlT,KAAK,SAAUiT,SAAS5O,KAAKyO,UAAU,oCAAqCI,SAAS,eAE1FE,SAKKpT,KAAK,OAAQiT,SAAS5O,KAAKyO,UAAU,2CAA4CI,SAAS,uBAC1FlT,KAAK,OAAQiT,SAAS5O,KAAKyO,UAAU,sCAAuCI,SAAS,cAE1FG,WACKrT,KAAK,QAASiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,cACnFlT,KAAK,OAAQiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,aAClFlT,KAAK,SAAUiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,cACpFlT,KAAK,WAAYiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,gBACtFlT,KAAK,SAAUiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,eACpFlT,KAAK,QAASiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,cACnFlT,KAAK,SAAUiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,eACpFlT,KAAK,eAAgBiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,qBAC1FlT,KAAK,YAAaiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,kBACvFlT,KAAK,KAAMiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,WAChFlT,KAAK,WAAYiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,kBAEtFlT,KAAK,QAASiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,cACnFlT,KAAK,WAAYiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,iBACtFlT,KAAK,MAAOiT,SAAS5O,KAAKyO,UAAU,mCAAoCI,SAAS,YAGtF5E,eACKtO,KAAK,SAAUiT,SAAS5O,KAAKyO,UAAU,8CAA+CI,SAAS,YAMxG7O,KAAKiP,WACD/E,UAAUA,GAOtB,OAnFIpO,OAAAC,eAAkB4R,EAAA,OAAA1R,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAIwK,GAEjB3N,KAAKmD,0CA4EhBrH,OAAAC,eAAW4R,EAAA1Q,UAAA,YAAAhB,IAAX,WACI,OAAO+D,KAAKiP,2CAEpBtB,EAzFA,GAAazS,EAAAyS,6FCOb,IAAAI,EAAA,WAYI,SAAAA,KAQJ,OAjBIjS,OAAAC,eAAkBgS,EAAA,OAAA9R,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAI4K,GAEjB/N,KAAKmD,0CAOT4K,EAAA9Q,UAAA+Q,UAAP,aAMJD,EApBA,GAAa7S,EAAA6S,waCTb,IAAAjP,EAAA9D,EAAA,GACAgD,EAAAhD,EAAA,GAIAuC,EAAA,SAAAyJ,GA2BI,SAAAzJ,WACIyJ,EAAAzL,KAAAyE,OAAOA,KA8Bf,OA1DgCmH,EAAA5J,EAAAyJ,GAgCrBzJ,EAAAN,UAAAoE,QAAP,WACI,IAAI6N,EACJ,IAAIA,KAAKlP,KAAKO,QACV2H,QAAQC,IAAInI,KAAKO,QAAQ2O,IACrBlP,KAAKO,QAAQ2O,IACblP,KAAKO,QAAQ2O,GAAG7N,WAOrB9D,EAAAN,UAAA0C,KAAP,SAAYwP,GACRnP,KAAKqH,YACLrJ,EAAAC,aAAamI,IAAIhD,OAAOpD,KAAKO,SAC7BP,KAAKC,YAGC1C,EAAAN,UAAAoK,UAAV,aAIU9J,EAAAN,UAAAmS,SAAV,WACIpP,KAAKG,eAGb5C,EA1DA,CAAgCuB,EAAAC,QAAnB7D,EAAAqC,4FCLb,SAAYI,GAERA,IAAA0R,UAAA,eAEA1R,IAAA2R,SAAA,cAEA3R,IAAA4R,cAAA,mBAEA5R,IAAA6R,UAAA,eARJ,CAAYtU,EAAAyC,eAAAzC,EAAAyC,iGCGZ,IAAAE,EAAA,WAcI,SAAAA,IAEImC,KAAKyP,iBACDd,WACAG,UACAC,UACAC,YACA/E,iBAGJvI,QAAQgO,YAAYC,4BAA4BjP,IAAI,SAAUkP,GAEjC,SAAhBA,EAAOjU,MAAmBiU,aAAkBlO,QAAQmO,iBACpDD,EAAOE,mBAAqBpO,QAAQqO,6BAA6BC,KACjEJ,EAAOK,uBAmJ5B,OAxKInU,OAAAC,eAAkB8B,EAAA,OAAA5B,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAItF,GAEjBmC,KAAKmD,0CAsBhBrH,OAAAC,eAAW8B,EAAAZ,UAAA,gBAAAiT,IAAX,SAAwBtC,GACpB5N,KAAKmQ,cAAcvC,mCAGhB/P,EAAAZ,UAAA4Q,SAAP,SAAgBuC,EAAyBrO,EAAMvB,EAAS6P,GAEpD,IAAIpC,EAAgB,IAAIvM,QAAQ7D,cAAckE,GAE9CqO,EAAW/G,QAAQ,SAASiH,GAExB,IAAIC,KACJvQ,KAAKmQ,cAAcG,GAAWvB,OAAO1F,QAAQ,SAASmH,EAAMZ,GACzC3B,EAAcwC,YACzB,aACA,GACAD,EAAM5B,SACN4B,EAAM3B,UAGD6B,UAAY,SAAUC,GAE3BzI,QAAQC,IAAI,YACZD,QAAQC,IAAIwI,GAmBZ,IAAIC,EAAUD,EAGdJ,EAAWC,EAAM7U,MAAMiV,EACvB5Q,KAAKyP,gBAAgBV,OAAOuB,GAAWC,GAEzC3T,KAAKoD,OACTpD,KAAKoD,OAIP,IAAI6Q,KACJ7Q,KAAKmQ,cAAcG,GAAWxB,OAAOzF,QAAQ,SAASyH,GAClC7C,EAAc8C,aAC1B,aACAD,EAAMlC,SAASkC,EAAMjC,UAEf6B,UAAY,SAAUC,GAC5BE,EAAWC,EAAMnV,MAAMgV,EAAKG,MAC5B9Q,KAAKyP,gBAAgBX,OAAOwB,GAAWO,GACzCjU,KAAKoD,OACTpD,KAAKoD,OAMP,IAAIgR,KACJhR,KAAKmQ,cAAcG,GAAWtB,SAAS3F,QAAQ,SAAS4H,GAClChD,EAAciD,eAC5B,eACAD,EAAQrC,SAASqC,EAAQpC,UAEjB6B,UAAY,SAAUC,GAC9BK,EAAaC,EAAQtV,MAAMgV,EAAKM,QAChCjR,KAAKyP,gBAAgBT,SAASsB,GAAWU,GAC3CpU,KAAKoD,OACTpD,KAAKoD,OAIP,IAAImR,KACJnR,KAAKmQ,cAAcG,GAAW3B,QAAQtF,QAAQ,SAAS+H,GAClCnD,EAAcoD,kBAC3B,cACAD,EAAOxC,SAASwC,EAAOvC,UAEhB6B,UAAY,SAAUC,GAC7BzI,QAAQC,IAAI,SAEZgJ,EAAYC,EAAOzV,MAAMgV,EAAKxB,KAC9BgC,EAAYC,EAAOzV,MAAW2V,IAAEX,EAAKW,IACrCH,EAAYC,EAAOzV,MAAe4V,QAAEH,EAAOxC,SAC3CuC,EAAYC,EAAOzV,MAAqB6V,cAAEJ,EAAOvC,SACjD7O,KAAKyP,gBAAgBd,QAAQ2B,GAAWa,EAExCjJ,QAAQC,IAAIgJ,EAAYC,EAAOzV,QACjCiB,KAAKoD,OACTpD,KAAKoD,OAIP,IAAIyR,KACJzR,KAAKmQ,cAAcG,GAAWrG,aAAaZ,QAAQ,SAASqI,GAClCzD,EAAc0D,mBAChC,mBACAD,EAAY9C,SAAS8C,EAAY7C,UAErB6B,UAAY,SAAUC,GAClCc,EAAiBC,EAAY/V,MAAMgV,EAAKM,QACxCjR,KAAKyP,gBAAgBxF,aAAaqG,GAAWmB,GAC/C7U,KAAKoD,OACTpD,KAAKoD,QAETpD,KAAKoD,OAEPiO,EAAc2D,OAId3D,EAAc4D,WAAW,SAASlB,GAC9B,IAAI3K,GACAqI,gBAAgBJ,EAAc6D,iBAC9BxD,kBAAkBL,EAAc8D,mBAChC7D,WAAWD,EAAc6D,iBAAiB7D,EAAc8D,oBAAoB9D,EAAc6D,kBAE9FzB,EAASrK,EAAMiI,IAEjBrR,KAAKoD,MAGPiO,EAAc+D,SAAS,SAASrB,GAC5BnQ,KACF5D,KAAKoD,OAIXlE,OAAAC,eAAW8B,EAAAZ,UAAA,kBAAAhB,IAAX,WACI,OAAO+D,KAAKyP,iDAGpB5R,EA/KA,GAAa3C,EAAA2C,+FCGb,IAAAQ,EAAA,WAWI,SAAAA,KAoGJ,OA3GIvC,OAAAC,eAAoBsC,EAAA,OAAApC,IAApB,WAII,OAHI+D,KAAKmD,WACLnD,KAAKmD,SAAS,IAAI9E,GAEf2B,KAAKmD,0CAKT9E,EAAApB,UAAAgV,cAAP,SAAqBlV,EAAOgF,GAExB,IAAImQ,EAGAC,EAGAC,EAGAC,EAGAC,EAGAC,EAGAC,EAGAC,EAGAP,EADe,MAAhBnV,EAAO2V,QACG3V,EAAO2V,QAEPhR,QAAQ6D,UAAUE,wBAGf,MAAb1I,EAAO4L,KACNwJ,EAAMpV,EAAO4L,MAEbwJ,EAAM,KACNjK,QAAQyK,MAAM,cAGF,MAAb5V,EAAO6V,KACNR,EAAMrV,EAAO6V,MAEbR,EAAM,KACNlK,QAAQyK,MAAM,gBAIdN,EADa,MAAdtV,EAAO8V,MACC9V,EAAO8V,MAEP,GAIPP,EADY,MAAbvV,EAAOoI,KACApI,EAAOoI,QAMboN,EADe,MAAhBxV,EAAO+V,QACG/V,EAAO+V,QAEP,aAKTN,EADgB,MAAjBzV,EAAOgW,SACIhW,EAAOiW,SAEPtR,QAAQ6D,UAAUC,oBAK5BiN,EADY,MAAb1V,EAAOkW,MACAlW,EAAOkW,KAKjB,IACI9N,EADA+N,EAAe,IAAIxR,QAAQ6D,UAAU,cAAe6M,EAAOC,EAAQG,EAAWN,GAElF/M,EAAKmN,EACLY,EAAaxN,QAAQP,GACrBgN,EAAMvM,WAAWR,KAAK8N,GACtBlT,KAAKmT,kBAAkBpR,EAAM8D,eAAesM,EAAO,EAAGG,EAAMA,EAAMvS,OAAO,GAAGsF,MAAOoN,GACnFzS,KAAKmT,kBAAkBC,eAAe,WAClCb,MAIDlU,EAAApB,UAAAoW,MAAP,WACIrT,KAAKmT,kBAAkBG,SAEpBjV,EAAApB,UAAAsW,MAAP,WACIvT,KAAKmT,kBAAkBK,SAEpBnV,EAAApB,UAAAwW,MAAP,SAAarY,GACT4E,KAAKmT,kBAAkBO,WAAWtY,GAG1CiD,EA/GA,GAAanD,EAAAmD,8FCDb,IAAAI,EAAA,WAEI,SAAAA,EAAYyM,EAASnJ,EAAM4R,GACvB3T,KAAK4T,SAAWlS,QAAQmS,KAAKC,UAAU,WAAY,EAAK/R,GACxD/B,KAAK4T,SAASvJ,cACdrK,KAAK4T,SAASG,WAAW,EACzB/T,KAAK4T,SAAS9I,SAASkJ,EAAU,GAARhJ,KAAKC,GAC9BjL,KAAKiU,eAAeN,EAEpB3T,KAAKiU,eAAeC,QAAUlU,KAAK4T,SACnC5T,KAAKiU,eAAeE,OACpBnU,KAAK4T,SAAS1I,SAASA,EAqB/B,OAdWzM,EAAAxB,UAAAmX,MAAP,WACIpU,KAAKiU,eAAeG,SAGjB3V,EAAAxB,UAAAkX,KAAP,WACInU,KAAKiU,eAAeE,QAEjB1V,EAAAxB,UAAAoX,SAAP,SAAgBnJ,GACZlL,KAAK4T,SAAS1I,SAASA,GAGpBzM,EAAAxB,UAAAqX,OAAP,SAAczJ,GACV7K,KAAK4T,SAAS/I,OAAOA,GAE7BpM,EAhCA,GAAavD,EAAAuD,6FCFb,IAAAX,EAAA9C,EAAA,GAEA2D,EAAA,WAcI,SAAAA,IAXQqB,KAAAuU,SAAS,IAAI7S,QAAQ8B,IAAIgR,WA6HrC,OAzHI1Y,OAAAC,eAAoB4C,EAAA,OAAA1C,IAApB,WAII,OAHI+D,KAAKmD,WACLnD,KAAKmD,SAAS,IAAIxE,GAEfqB,KAAKmD,0CAMTxE,EAAA1B,UAAAwX,WAAP,SAAkB9Y,EAAK+Y,EAAQC,GAA/B,IA8CYC,EA9CZ5O,EAAAhG,KACQ6U,EAAQ,IAAInT,QAAQ8B,IAAIsR,UAK5B,IAAK,IAAInY,KAJTkY,EAAQE,UAAU,EAClBF,EAAQG,oBACRH,EAAQI,kBAAkBvT,QAAQ8B,IAAI0R,QAAQC,uBAC9CN,EAAQO,oBAAoB1T,QAAQ8B,IAAI0R,QAAQG,0BAChCX,EACTG,EAAQlY,KACPkY,EAAQlY,GAAO+X,EAAQ/X,IAkE/B,OA9DG+X,GAASA,EAAQY,YAChBtV,KAAKuU,SAASa,oBAAoB,EAClCpV,KAAKuU,SAASU,kBAAkB,EAChCjV,KAAKuU,SAASe,eACVV,GACAW,GAAG,EACHC,KAAK,IAEHD,GAAGpH,SAASnO,KAAKuU,SAASkB,IAAIrH,YACpCyG,EAAQa,wBAAwBhV,IAAI,SAASrD,GACzCuX,EAAMY,KAAMnY,EAAE0N,IAElB8J,EAAQpU,sBAAsBC,IAAI,SAACrD,GAC/B,IAAIsY,EAAKxH,SAASnI,EAAKuO,SAASkB,IAAIrH,YAEpC,GADAwG,EAAMW,GAAGI,EACNA,EAAK,EACJ3P,EAAKuO,SAASkB,IAAI,MAClBb,EAAMW,GAAI,OAET,GAAGpH,SAASnI,EAAKuO,SAASkB,IAAIrH,YAAYD,SAAS0G,EAAQe,OAAOxH,YAAYD,SAASnI,EAAKuO,SAASqB,OAAOxH,YAAY,CACzH,IAAI/S,GAAG8S,SAAS0G,EAAQe,OAAOxH,YAAYD,SAASnI,EAAKuO,SAASqB,OAAOxH,aAAauG,EACtF3O,EAAKuO,SAASkB,IAAIpa,EAAE+S,WAAW,KAC/BwG,EAAMW,GAAIpH,SAASnI,EAAKuO,SAASkB,QAGzCZ,EAAQgB,wBAAwBnV,IAAI,SAACrD,GACjC,IAAI7B,EAAE6B,EAAE0N,EAAE6J,EAAMY,KACZM,GAAKlB,EAAMW,GAAG/Z,GAAGmZ,EACrB3O,EAAKuO,SAASkB,IAAKK,EAAI1H,WAAW,SAGtCpO,KAAKuU,SAASa,oBAAoB,EAClCpV,KAAKuU,SAASU,kBAAkB,EAChCjV,KAAKuU,SAASe,eACVV,GACAW,GAAG,EACHC,KAAK,IAEHD,GAAGpH,SAASnO,KAAKuU,SAASwB,KAAK3H,YACrCyG,EAAQa,wBAAwBhV,IAAI,SAACrD,GACjCuX,EAAMY,KAAMnY,EAAE2W,IAElBa,EAAQpU,sBAAsBC,IAAI,SAACrD,GAC/B,IAAI2Y,EAAM7H,SAASnI,EAAKuO,SAASwB,KAAK3H,YAEtC,GADAwG,EAAMW,GAAGS,EACNA,EAAM,EACLhQ,EAAKuO,SAASwB,KAAK,MACnBnB,EAAMW,GAAI,OAET,GAAGpH,SAASnI,EAAKuO,SAASwB,KAAK3H,YAAYD,SAAS0G,EAAQoB,MAAM7H,YAAYD,SAASnI,EAAKuO,SAAS0B,MAAM7H,YAAY,CACxH,IAAI/S,GAAG8S,SAAS0G,EAAQoB,MAAM7H,YAAYD,SAASnI,EAAKuO,SAAS0B,MAAM7H,aAAauG,EACpF3O,EAAKuO,SAASwB,KAAK1a,EAAE+S,WAAW,KAChCwG,EAAMW,GAAIpH,SAASnI,EAAKuO,SAASwB,SAGzClB,EAAQgB,wBAAwBnV,IAAI,SAASrD,GACzC,IAAI7B,EAAE6B,EAAE2W,EAAEY,EAAMY,KACZM,GAAKlB,EAAMW,GAAG/Z,GAAGmZ,EACrB3U,KAAKuU,SAASwB,KAAMD,EAAI1H,WAAW,QAG3CyG,EAAQ5Q,WAAWjE,KAAKuU,UACjBM,GAqBJlW,EAAA1B,UAAAiZ,eAAP,SAAsBC,EAAOhH,EAAKiH,GAAlC,IAAApQ,EAAAhG,KACQ2U,EAAQ7W,EAAAC,WAAWqI,IAAIiQ,aAAaC,WAAW/U,SAASgV,eAAe,gBAAgBC,YACvFC,EAAczW,KAAKyU,WAAW,QAAQwB,MAAME,EAAOO,UAAUd,OAAOO,EAAOQ,WAAWlB,IAAIU,EAAOS,QAAQb,KAAKI,EAAOU,SAASvB,WAAWa,EAAOb,YAAYX,GAC5J9Q,EAAQ7D,KAAKuU,SAASxQ,SAAShE,OACnC,GAAG8D,EAAQ,EACP,IAAI,IAAIzI,EAAE,EAAEA,EAAEyI,EAAQzI,IAClB4E,KAAKuU,SAASvQ,cAAchE,KAAKuU,SAASxQ,SAAS,IAO3D,OAJAoL,EAAK2H,WAAWzN,QAAQ,SAAC0N,GACrB,IAAIC,EAAKZ,EAAaD,EAAOY,GAC7B/Q,EAAKuO,SAAStQ,WAAW+S,KAEtBP,GAGf9X,EAhIA,GAAazD,EAAAyD,kaCLb,IAAAX,EAAAhD,EAAA,GACA8C,EAAA9C,EAAA,GACA8D,EAAA9D,EAAA,GAEAsD,EAAAtD,EAAA,GAEA6D,EAAA,SAAAmI,GAaI,SAAAnI,IAAA,IAAAmH,EACIgB,EAAAzL,KAAAyE,OAAOA,YAHDgG,EAAAiR,SAAS,IAAI3Y,EAAAC,aAAaP,EAAAC,aAAamI,IAAIrE,MAAMjE,EAAAC,WAAWqI,IAAIiQ,gBAuB9E,OAlC4BlP,EAAAtI,EAAAmI,GAoBdnI,EAAA5B,UAAA0C,KAAV,SAAesF,EAAMC,GACjBlF,KAAKC,WACLD,KAAKiX,SAAStX,KAAKK,KAAKkX,KAAKjS,EAAKC,IAM5BrG,EAAA5B,UAAAiD,KAAV,SAAe4F,EAAOC,GAClB/F,KAAKG,cACLH,KAAKiX,SAAS/W,KAAKF,KAAKkX,KAAKpR,EAAMC,IAI3ClH,EAlCA,CAA4BC,EAAAC,QAAf7D,EAAA2D,+ZCJb,IAEAI,EAAA,SAAA+H,GACI,SAAA/H,WACI+H,EAAAzL,KAAAyE,OAAOA,KAGf,OAL0BmH,EAAAlI,EAAA+H,GAK1B/H,EALA,CAFAjE,EAAA,GAE0B+D,QAAb7D,EAAA+D,6ZCJb,IAAAH,EAAA9D,EAAA,GACAsD,EAAAtD,EAAA,GACAgD,EAAAhD,EAAA,GACA8C,EAAA9C,EAAA,GACAsE,EAAAtE,EAAA,GACAwC,EAAAxC,EAAA,GACAkD,EAAAlD,EAAA,GAGAmE,EAAA,SAAA6H,GAyBI,SAAA7H,IAAA,IAAA6G,EACIgB,EAAAzL,KAAAyE,OAAOA,YAXDgG,EAAAiB,YAQAjB,EAAAiR,SAAS,IAAI3Y,EAAAC,aAAaP,EAAAC,aAAamI,IAAIrE,MAAMjE,EAAAC,WAAWqI,IAAIiQ,cAItErQ,EAAKtG,WA+Gb,OA1I8ByH,EAAAhI,EAAA6H,GAiCnB7H,EAAAlC,UAAA0C,KAAP,SAAYwP,GACRnP,KAAKG,cACLH,KAAKI,aACLJ,KAAKC,WACLnC,EAAAC,WAAWqI,IAAIzC,UAAU3D,KAAK6K,SAOxB1L,EAAAlC,UAAAiD,KAAV,eAAA8F,EAAAhG,KACIA,KAAKG,cACLH,KAAKiX,SAAS/W,KAAKF,KAAKkX,KAAK,WACzBlR,EAAKmR,WACP,WACEnR,EAAKoR,cAQHjY,EAAAlC,UAAAoa,OAAV,eAAiB,IAAAzX,KAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,GAAAC,UAAAD,IAQPV,EAAAlC,UAAAqa,SAAV,eAAmB,IAAA1X,KAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,GAAAC,UAAAD,IAKZV,EAAAlC,UAAAmK,KAAP,WACI9H,EAAAC,YAAY6G,IAAIrB,YAAYvH,EAAAC,WAAWmH,gBAAgB5E,MAOjDb,EAAAlC,UAAAgD,SAAV,aAKUd,EAAAlC,UAAAkD,YAAV,aAIUhB,EAAAlC,UAAAsa,gBAAV,aAKUpY,EAAAlC,UAAAua,kBAAV,aAMUrY,EAAAlC,UAAAwa,iBAAV,WACIvZ,EAAAC,cAAciI,IAAIH,WAAWzI,EAAAC,WAAWqH,gBAOrC3F,EAAAlC,UAAAmD,WAAP,eAAkB,IAAAR,KAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,GAAAC,UAAAD,GACTG,KAAKK,SACNL,KAAKN,SACLM,KAAKK,YAOHlB,EAAAlC,UAAAka,QAAV,WACInX,KAAK0X,cAKCvY,EAAAlC,UAAAya,WAAV,WAEO1X,KAAK2X,SAEJpW,SAAS0L,KAAK2K,YAAY5X,KAAK2X,UAO7BxY,EAAAlC,UAAAma,SAAV,WACIpX,KAAKG,eAIbhB,EA1IA,CAA8BL,EAAAC,QAAjB7D,EAAAiE,iaCTb,IAAAL,EAAA9D,EAAA,GACAsD,EAAAtD,EAAA,GACAgD,EAAAhD,EAAA,GACA8C,EAAA9C,EAAA,GACAwC,EAAAxC,EAAA,GACAsE,EAAAtE,EAAA,GAGAqE,EAAA,SAAA2H,GAqBI,SAAA3H,IAAA,IAAA2G,EACIgB,EAAAzL,KAAAyE,OAAOA,YAPDgG,EAAAiB,YAIAjB,EAAAiR,SAAS,IAAI3Y,EAAAC,aAAaP,EAAAC,aAAamI,IAAIrE,MAAMjE,EAAAC,WAAWqI,IAAIiQ,cAItErQ,EAAKtG,WAkFb,OAzGkCyH,EAAA9H,EAAA2H,GA6BvB3H,EAAApC,UAAA0C,KAAP,SAAYwP,GACRnP,KAAKI,aACLJ,KAAKC,WACLnC,EAAAC,WAAWqI,IAAIzC,UAAU3D,KAAK6K,SAQxBxL,EAAApC,UAAAiD,KAAV,aAQUb,EAAApC,UAAAoa,OAAV,eAAiB,IAAAzX,KAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,GAAAC,UAAAD,IAQPR,EAAApC,UAAAqa,SAAV,eAAmB,IAAA1X,KAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,GAAAC,UAAAD,IAKZR,EAAApC,UAAAmK,KAAP,WACI9H,EAAAC,YAAY6G,IAAIrB,YAAYvH,EAAAC,WAAWqH,eAAe9E,MAOhDX,EAAApC,UAAAgD,SAAV,aAKUZ,EAAApC,UAAAkD,YAAV,aAUOd,EAAApC,UAAAmD,WAAP,eAAkB,IAAAR,KAAAC,EAAA,EAAAA,EAAAC,UAAAC,OAAAF,IAAAD,EAAAC,GAAAC,UAAAD,GACdG,KAAKG,cACAH,KAAKK,SACNL,KAAKN,SACLM,KAAKK,YAOHhB,EAAApC,UAAAka,QAAV,aAMU9X,EAAApC,UAAAma,SAAV,WACIpX,KAAKG,eAGbd,EAzGA,CAAkCP,EAAAC,QAArB7D,EAAAmE,8FCHb,IAAAI,EAAA,oBAAAA,KAmGA,OAhGI3D,OAAAC,eAAkB0D,EAAA,OAAAxD,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAI1D,GAEjBO,KAAKmD,0CAST1D,EAAAxC,UAAA4a,QAAP,SAAeC,EAAKC,GAEhB,IADA,IAAIC,EAAMD,EAAYhY,OACb3E,EAAI,EAAGA,EAAI4c,EAAK5c,IACrB0c,EAAMA,EAAID,QAAQ,IAAMzc,EAAI,IAAK2c,EAAY3c,IAEjD,OAAO0c,GASJrY,EAAAxC,UAAAgb,MAAP,SAAapb,GACT,OAAOA,GAAK,GAOT4C,EAAAxC,UAAAib,MAAP,WACI,OAAOtL,UAAUC,UAAUE,MAAM,uBAQ9BtN,EAAAxC,UAAAkb,UAAP,SAAkBC,GAEd,IADA,IAAIJ,EAAMI,EAAIrY,OACN3E,EAAI,EAAGA,EAAI4c,EAAK5c,IAAK,CACzB,IAAIyB,EAAImD,KAAKqY,OAAO,EAAGD,EAAIrY,WACvBuY,EAAOF,EAAIvb,GACfub,EAAIvb,GAAKub,EAAIhd,GACbgd,EAAIhd,GAAKkd,EAEb,OAAOF,GAWJ3Y,EAAAxC,UAAAob,OAAP,SAAeE,EAAIC,EAAIC,GACnB,IAAI5b,EASJ,OAPIA,WADO0b,YAA8BC,EACjCxN,KAAK0N,IAAIH,EAAIC,GAAMxN,KAAKqN,SAAWrN,KAAK2N,IAAIJ,EAAIC,GAEhDxN,KAAKqN,SAEVI,IACC5b,EAAImD,KAAKiY,MAAMpb,IAEZA,GAKH4C,EAAAxC,UAAA2b,YAAP,SAAmBC,EAAYC,EAAYC,EAAYC,EAAYC,EAAWC,GAC1E,IAAIC,EAAanO,KAAKoO,IAAIP,EAAKG,GAC3BK,EAAarO,KAAKoO,IAAIN,EAAKG,GAC3BK,EAAatO,KAAKoO,IAAIL,EAAKG,GAC/B,OAAOlO,KAAKuO,KAAKJ,EAAKA,EAAKE,EAAKA,EAAIC,EAAKA,IAKtC7Z,EAAAxC,UAAAuc,WAAP,SAAkBC,EAAQ9Q,GACvB,IAAInN,EAAImN,EAAK+Q,iBAEnB,OADchY,QAAQkB,QAAQ+W,qBAAqBF,EAAQje,IAO7DiE,EAnGA,GAAavE,EAAAuE,sFCLb,IAAA6G,EAAAtL,EAAA,GACAuL,EAAAvL,EAAA,GAKAsM,EAAA,WAeI,SAAAA,KAiUJ,OA5UIxL,OAAAC,eAAkBuL,EAAA,OAAArL,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAImE,GAEjBtH,KAAKmD,0CAYTmE,EAAArK,UAAAsK,WAAP,WACIvH,KAAK+B,MAAMwE,EAAAtI,aAAamI,IAAIrE,MAE5B/B,KAAK+B,MAAM6X,WAAW,IAAIlY,QAAQmY,OAAO,GAAG,IAAI,IAAI,IAAI,GAMxD,IAAI/P,EAAYpI,QAAQoY,YAAYhG,UAAU,cAAe8B,OAAS,GAAKK,MAAO,GAAK8D,MAAO,IAAM/Z,KAAK+B,OACzG+H,EAAUlB,aACVkB,EAAUgB,SAAS,IAAIpJ,QAAQkB,QAAQ,EAAE,EAAE,GAI3C,IAAIoX,EAAWtY,QAAQoY,YAAYhG,UAAU,YAAa8B,OAAS,GAAKK,MAAO,GAAK8D,MAAO,IAAM/Z,KAAK+B,OACtGiY,EAAS9O,SAAS,IAAIxJ,QAAQkB,QAAQ,EAAE,EAAE,KAC1CoX,EAAS3P,cACT2P,EAASnP,OAAOf,EAChBkQ,EAASpR,aAWT,IAAIqR,EAAavY,QAAQoY,YAAYhG,UAAU,cAAe8B,OAAS,GAAKK,MAAO,GAAK8D,MAAO,IAAM/Z,KAAK+B,OAC1GkY,EAAW/O,SAAS,IAAIxJ,QAAQkB,QAAQ,EAAE,IAAK,GAC/CqX,EAAWrR,aACXqR,EAAWnP,SAAS,IAAIpJ,QAAQkB,QAAQ,EAAE,EAAE,GAE5CqX,EAAWpP,OAAOf,EAGlB,IAAIoQ,EAAWxY,QAAQoY,YAAYhG,UAAU,YAAa8B,OAAS,IAAMK,MAAO,IAAM8D,MAAO,KAAO/Z,KAAK+B,OACzGmY,EAASnG,WAAW,EACpBmG,EAAS/O,QAAQ,IAAIzJ,QAAQkB,QAAQ,KAAM,KAAM,MACjDsX,EAASpP,SAAS,IAAIpJ,QAAQkB,QAAQ,EAAE,GAAY,GAARoI,KAAKC,IAMjD,IAAIkP,EAAU,IAAIzY,QAAQ0Y,gBAAgB,kBAAmB,IAAI1Y,QAAQkB,QAAQ,EAAG,KAAO,KAAO5C,KAAK+B,OACvGoY,EAAQtH,MAAM,GACdsH,EAAQE,QAAQ,EAChBF,EAAQrP,SAASC,EAAW,GAARC,KAAKC,GAEzBkP,EAAQG,IAAI,IAGZH,EAAQI,cAAchU,EAAAtI,aAAamI,IAAIoU,QACvCL,EAAQM,cAAclU,EAAAtI,aAAamI,IAAIoU,QAEvCL,EAAQO,MAAM,EACdP,EAAQQ,KAAK,IACbR,EAAQtP,OAAOf,EAEf,IAAI8Q,EAAiB,IAAIlZ,QAAQmK,iBAAiB,SAAU7L,KAAK+B,OACjE6Y,EAAe9R,mBACf8R,EAAexP,eAAkB9E,EAAAzI,cAAcuI,IAAI4D,eAAyBgF,SAAa9E,UAAY2Q,SAAEC,QACvGF,EAAe9O,gBAAmBxF,EAAAzI,cAAcuI,IAAI4D,eAAyBgF,SAAa9E,UAAY2Q,SAAEC,QACxGF,EAAeG,cAAgB,IAAIrZ,QAAQ8G,OAAO,EAAG,EAAG,GACrDoS,EAAerS,cAAiB,IAAI7G,QAAQ8G,OAAO,EAAG,EAAG,GAC5DoS,EAAe7O,mBAGf,IAAIiP,EAAYtZ,QAAQoY,YAAYmB,aAAa,aAAcC,SAAU,KAASlb,KAAK+B,OACvFiZ,EAAUlQ,SAASkJ,EAAEhJ,KAAKC,GAC1B+P,EAAU9P,SAASH,EAAE,IACrBiQ,EAAUnS,SAAS+R,EACnBI,EAAUG,YAEV,IAAIC,EAAU,IAAI1Z,QAAQ2Z,aAAa,YAAa,IAAI3Z,QAAQkB,QAAQ,KAAM,IAAK,KAAM5C,KAAK+B,OAC9FqZ,EAAQE,QAAU,GAClBpT,QAAQC,IAAI,UACZiT,EAAQG,aAAe,EACvBH,EAAQI,eAAiB,EACzBJ,EAAQK,mBAAqB,GAC7BL,EAAQM,eAAiB,IAEzBN,EAAQO,wBACRP,EAAQd,IAAI,IACZc,EAAQX,cAAclU,EAAAtI,aAAamI,IAAIoU,QACvCY,EAAQnY,SACRmY,EAAQT,KAAK,IACbS,EAAQQ,UAAY,EAGpB5b,KAAK+B,MAAMyJ,aAAa4P,EAMxB,IAAI3P,EAAU,IAAI/J,QAAQ0Y,gBAAgB,kBAAmB,IAAI1Y,QAAQkB,QAAQ,EAAG,KAAO,IAAO5C,KAAK+B,OACvG0J,EAAQX,SAASC,EAAW,GAARC,KAAKC,GACzBQ,EAAQX,SAAS+Q,EAAW,GAAR7Q,KAAKC,GACzBQ,EAAQP,SAAS8I,EAAE,EACnBvI,EAAQ6O,IAAI,EACZ7O,EAAQgP,cAAclU,EAAAtI,aAAamI,IAAIoU,QACvC/O,EAAQiP,MAAM,EACdjP,EAAQkP,KAAK,IACblP,EAAQZ,OAAOf,EAGf,IAAIgS,EAAU,IAAIpa,QAAQqa,gBAAgB,SAAU,EAAG,EAAG,GAAI,IAAIra,QAAQkB,QAAQ,EAAG,EAAG,GAAI5C,KAAK+B,OAGjG+Z,EAAQE,iBAAiB,IACzBF,EAAQG,iBAAiB,GACzBH,EAAQxB,IAAI,EACZwB,EAAQrB,cAAclU,EAAAtI,aAAamI,IAAIoU,QACvCsB,EAAQpB,MAAM,EACdoB,EAAQnB,KAAK,IAGb,IAAI3O,EAAUtK,QAAQoY,YAAYoC,YAAY,WAAYjG,MAAO,EAAGL,OAAQ,GAAI5V,KAAK+B,OAIrFiK,EAAOd,SAAS,IAAIxJ,QAAQkB,QAAQ,EAAE,EAAE,GACxCoJ,EAAO3B,cACP2B,EAAOnB,OAAOf,EACdkC,EAAOpD,aAIT5I,KAAK+B,MAAMyJ,aAAa4P,EAUtBpb,KAAK+B,MAAMoa,uBAAyBf,EAGpCA,EAAQgB,aAAetS,EAEvB,IAAIuS,EAAY,IAAI3a,QAAQmK,iBAAiB,OAAO7L,KAAK+B,OACzDmG,QAAQC,IAAI,eACZD,QAAQC,IAAIkU,GAEZA,EAA2B9T,cAAE,IAAI7G,QAAQ8G,OAAO,EAAE,EAAE,GACpD6T,EAA0BC,aAAE,IAAI5a,QAAQ8G,OAAO,EAAE,EAAE,GACnD6T,EAA6BvQ,gBAAExF,EAAAzI,cAAcuI,IAAI4D,eAAyBgF,SAAa9E,UAAQqS,KAE/F,IAAIC,EAAY,IAAI9a,QAAQmK,iBAAiB,OAAO7L,KAAK+B,OACzDmG,QAAQC,IAAI,eACZD,QAAQC,IAAIqU,GACZA,EAAYzQ,mBACZyQ,EAA2BjU,cAAE,IAAI7G,QAAQ8G,OAAO,EAAE,EAAE,GACpDgU,EAA0BF,aAAE,IAAI5a,QAAQ8G,OAAO,EAAE,EAAE,GACnDgU,EAA6B1Q,gBAAExF,EAAAzI,cAAcuI,IAAI4D,eAAyBgF,SAAa9E,UAAQqS,KAkD/F,IAAIE,EAAQ,IAAI/a,QAAQgb,iBAAiB,YAAa,IAAIhb,QAAQkB,QAAQ,EAAG,GAAI,GAAI5C,KAAK+B,OAC1F0a,EAAME,UAAU,GAChBF,EAAMG,QAAU,IAAIlb,QAAQ8G,OAAO,EAAG,EAAG,GACzCiU,EAAMI,YAAc,IAAInb,QAAQ8G,OAAO,EAAG,EAAG,GAO7C,IAAIsU,EAAS,IAAIpb,QAAQqb,iBAAiB,mBAAoB,IAAIrb,QAAQkB,QAAQ,IAAM,GAAK,IAAM5C,KAAK+B,OACxG+a,EAAOH,UAAU,EAEjBG,EAAOE,kBAAkB,GACzBF,EAAOG,YAAY,GACnBH,EAAOI,WAAW,GAGlB5U,YAAY,WACRwU,EAAO5R,SAAS,IAAIxJ,QAAQkB,QACxBkH,EAAUoB,SAAS8I,EACnBlK,EAAUoB,SAASH,EAAE,EACrBjB,EAAUoB,SAAS2Q,EAAE,IAE3B,IAGF,IAAIvR,EAAkB,IAAI5I,QAAQyb,gBAAgB,KAAML,GACxDxS,EAAgB8S,KAAO,KACvB9S,EAAgB+S,gCAChB/S,EAAgBgT,iBAAiB,GACjChT,EAAgBiT,sBAGhB,IAAIC,EAAkB,IAAI9b,QAAyB+b,gBAAE,kBAAmBzd,KAAK+B,OAG7Eyb,EAAgBE,WAAapX,EAAAzI,cAAcuI,IAAI4D,eAAyBgF,SAAa9E,UAAUyT,OAAE7C,QAGxF,IAAIpZ,QAAQkc,UAAU,OAAQ5d,KAAK+B,OACzC4a,UAAY,EAGfa,EAAgBK,gBAAkBvX,EAAAzI,cAAcuI,IAAI4D,eAAyBgF,SAAa9E,UAAS4T,MAAEhD,QACrG0C,EAAgBK,gBAAgBxS,OAAO,GACvCmS,EAAgBK,gBAAgBvS,OAAO,GACvCkS,EAAgBO,gBAAkBzX,EAAAzI,cAAcuI,IAAI4D,eAAyBgF,SAAa9E,UAAS4T,MAAEhD,QACrG0C,EAAgBO,gBAAgB1S,OAAO,GACvCmS,EAAgBO,gBAAgBzS,OAAO,GACvCkS,EAAgBQ,gBAAkB1X,EAAAzI,cAAcuI,IAAI4D,eAAyBgF,SAAa9E,UAAU+T,OAAEnD,QACtG0C,EAAgBQ,gBAAgB3S,OAAO,GACvCmS,EAAgBQ,gBAAgB1S,OAAO,GAItC,IAAIkB,EAAQ9K,QAAQmS,KAAKoH,aAAa,kBAAmB,GAAI,EAAGjb,KAAK+B,OACrEyK,EAAM0R,cAAgBxc,QAAQyc,aAAaC,0BAE3C5R,EAAM6R,4BAA8B3c,QAAQyc,aAAaG,sCACzD9R,EAAMC,cAEND,EAAMtB,SAAS,IAAIxJ,QAAQkB,SAAS,IAAO,IAAM,GAEjD,IAAI2b,EAAmB,IAAI7c,QAAQ8c,gBAAgB,kBAAmBhS,EAAOxM,KAAK+B,OAClFwc,EAA4B9T,WAAA,EAEd,IAAI/I,QAAQ+c,UAAU,IAAK,EAAG,IAAI/c,QAAQ8G,OAAO,EAAE,EAAE,GAAIlC,EAAAzI,cAAcuI,IAAI4D,eAAuB8E,OAAa5E,UAAYwU,SAAEC,IAAKJ,GAClI,IAAI7c,QAAQ+c,UAAU,IAAK,EAAG,IAAI/c,QAAQ8G,OAAO,GAAI,GAAI,IAAMlC,EAAAzI,cAAcuI,IAAI4D,eAAuB8E,OAAa5E,UAAS0U,MAAED,IAAKJ,GADnJ,IAEIvZ,EAAkBtD,QAAQ8B,IAAIC,uBAAuBC,mBAAmB,MAC5EsB,EAAgB6Z,MAAMjD,UAAU,EAEhC5b,KAAK+B,MAAM+c,QAAUpd,QAAQM,MAAM+c,YACnC/e,KAAK+B,MAAMid,WAAa,KACxBhf,KAAK+B,MAAMkd,SAAW,IAAIvd,QAAQ8G,OAAO,GAAI,GAAI,IAElDxI,KAAKO,SACD4Z,QAAQA,EACRiB,QAAQA,EACR3P,QAAQA,EACRqQ,QAAQA,EACRW,MAAMA,EAENK,OAAOA,EACPhT,UAAUA,EACVmQ,WAAWA,EACXC,SAASA,EACTsD,gBAAgBA,EAChBlT,gBAAgBA,EAChB+R,YAAYA,EACZG,YAAYA,EACZ+B,iBAAiBA,EACjBvE,SAASA,EACThV,gBAAgBA,EAChBwH,MAAMA,EACNR,OAAOA,GAGX9D,QAAQC,IAAInI,KAAKO,UAOzB+G,EAhVA,GAAapM,EAAAoM,6FCFb,IAAA4X,EAAAlkB,EAAA,GACAmkB,EAAAnkB,EAAA,GACAokB,EAAApkB,EAAA,GAEAiO,EAAA,oBAAAA,IAYYjJ,KAAAqf,WAGArf,KAAAsf,SAgBAtf,KAAAuf,UAAU,GA0MtB,OArOIzjB,OAAAC,eAAkBkN,EAAA,OAAAhN,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAI8F,GAEjBjJ,KAAKmD,0CAgCR8F,EAAAhM,UAAAuiB,WAAR,WACIxf,KAAKyf,QACDC,MAAM,IAAIhe,QAAQie,MAAM,SAAST,EAAArhB,cAAcuI,IAAI4D,eAAwB2E,QAAazE,UAASwV,MAAOpO,KAAKtR,KAAK+B,MAAM,cAErHkR,YAMHhK,EAAAhM,UAAA2iB,QAAR,WACI5f,KAAK6f,OAAS,IAAIne,QAAQ8B,IAAIsR,UAC9B9U,KAAK6f,OAAO5J,MAAQ,OACpBjW,KAAK6f,OAAOjK,OAAS,OACrB5V,KAAK6f,OAAOC,MAAM,GAClB9f,KAAK6f,OAAO9K,UAAY,EACxB/U,KAAKO,QAAQyE,gBAAgBf,WAAYjE,KAAK6f,QAC9C7f,KAAK+f,OAAS,IAAIre,QAAQ8B,IAAIwc,MAAM,MAAOd,EAAArhB,cAAcuI,IAAI4D,eAAuB8E,OAAa5E,UAAY+V,SAAEtB,KAC/G3e,KAAK6f,OAAO5b,WAAWjE,KAAK+f,SAIzB9W,EAAAhM,UAAAmK,KAAP,SAAY7G,GACRP,KAAK+B,MAAMod,EAAAlhB,aAAamI,IAAIrE,MAC5B/B,KAAKO,QAAQA,EAGbP,KAAK4f,UAEL5f,KAAKC,WACLD,KAAKwf,aAGL,IAAI,IAAIpkB,EAAE,EAAEA,GAAG,IAAIA,IACf4E,KAAKqf,QAAQjkB,GAAIsG,QAAQoY,YAAYmB,aAAa,SAAUiF,UAAY,GAAKC,UAAW,GAAKC,UAAW,IAAKpgB,KAAK+B,OAClH/B,KAAKqf,QAAQjkB,GAAGilB,aAChBrgB,KAAKqf,QAAQjkB,GAAGiP,cAChBrK,KAAKqf,QAAQjkB,GAAGyN,SAAS7I,KAAKO,QAAQ8b,YACtCrc,KAAKqf,QAAQjkB,GAAGkO,mBAIpB,IAAQlO,EAAE,EAAEA,GAAG,IAAIA,IACf4E,KAAKsf,MAAMlkB,GAAIsG,QAAQoY,YAAYmB,aAAa,QAASC,SAAU,IAAKlb,KAAK+B,OAC7E/B,KAAKsf,MAAMlkB,GAAGmhB,KAAK,IAAIvZ,MAAMsd,MAAMtgB,KAAKsf,MAAMlkB,GAAG+P,SACjDnL,KAAKsf,MAAMlkB,GAAGilB,aACdrgB,KAAKsf,MAAMlkB,GAAGiP,cACdrK,KAAKsf,MAAMlkB,GAAGyN,SAAS7I,KAAKO,QAAQic,YACpCxc,KAAKqf,QAAQjkB,GAAGkO,mBAIpB,IAAIiX,EAASvgB,KAAKO,QAAQuJ,UAAUoB,SAGnCsV,EAAU,IAAI9e,QAAQkB,QAAQ,EAAE,EAAE,GAIlC6d,GAHJD,EAAUpB,EAAA3f,KAAK2G,IAAIoT,WAAWgH,EAASxgB,KAAKO,QAAQuJ,YAG5B4W,SAASH,GACjCE,EAAY/e,QAAQkB,QAAQ+d,UAAUF,GAGtCzgB,KAAK4gB,IAAM,IAAIlf,QAAQmf,IAAIN,EAAQE,EAAW,MAKvCxX,EAAAhM,UAAAgD,SAAR,eAAA+F,EAAAhG,KAEIA,KAAK8gB,aAELvf,SAASmB,iBAAiB,YAAY,SAACrF,GACtB,GAAVA,EAAE0jB,SACD/a,EAAK8a,gBAGbvf,SAASmB,iBAAiB,UAAU,SAACrF,GACpB,GAAVA,EAAE0jB,SACH/a,EAAK8a,gBAIXxY,YAAY,WACR,GAAGtC,EAAK8a,UAAU,CACd9a,EAAKyZ,OAAOC,MAAMsB,OAElB,IAAIC,EAAIjW,KAAKqN,SAAS,IACnBrS,EAAKkJ,GAAGlJ,EAAKqZ,QAAQtf,OAAO,GAC3BiG,EAAKqZ,QAAQrZ,EAAKkJ,GAAGhE,SAAS,IAAIxJ,QAAQkB,QAAQoD,EAAKzF,QAAQuJ,UAAUoX,iBAAiBlN,EAAEiN,EAAIjb,EAAKzF,QAAQuJ,UAAUoX,iBAAiBnW,EAAEkW,EAAIjb,EAAKzF,QAAQuJ,UAAUoX,iBAAiBrF,GACtL7V,EAAKqZ,QAAQrZ,EAAKkJ,GAAGpE,SAAS,IAAIpJ,QAAQkB,QAAQoD,EAAKzF,QAAQuJ,UAAUgB,SAASkJ,EAAEiN,EAAIjb,EAAKzF,QAAQuJ,UAAUgB,SAASC,EAAEkW,EAAIjb,EAAKzF,QAAQuJ,UAAUgB,SAAS+Q,GAC9J7V,EAAKqZ,QAAQrZ,EAAKkJ,GAAGmR,aACrBra,EAAKkJ,MAGLlJ,EAAKkJ,EAAE,EACPlJ,EAAKqZ,QAAQrZ,EAAKkJ,GAAGhE,SAAS,IAAIxJ,QAAQkB,QAAQoD,EAAKzF,QAAQuJ,UAAUoX,iBAAiBlN,EAAEhO,EAAKzF,QAAQuJ,UAAUoX,iBAAiBnW,EAAE/E,EAAKzF,QAAQuJ,UAAUoX,iBAAiBrF,GAC9K7V,EAAKqZ,QAAQrZ,EAAKkJ,GAAGpE,SAAS,IAAIpJ,QAAQkB,QAAQoD,EAAKzF,QAAQuJ,UAAUgB,SAASkJ,EAAEhO,EAAKzF,QAAQuJ,UAAUgB,SAASC,EAAE/E,EAAKzF,QAAQuJ,UAAUgB,SAAS+Q,GACtJ7V,EAAKqZ,QAAQrZ,EAAKkJ,GAAGmR,gBAK/B,MAIEpX,EAAAhM,UAAAsf,KAAR,SAAanhB,EAAE+lB,GAAf,IAAAnb,EAAAhG,KACIA,KAAKsf,MAAMlkB,GAAG8P,SAAS,IAAIxJ,QAAQkB,QAAQue,EAAKjW,SAAS8I,EAAEmN,EAAKjW,SAASH,EAAEoW,EAAKjW,SAAS2Q,GACrF7b,KAAKsf,MAAMlkB,GAAG+P,QAAQ6I,EAAE,EACxBhU,KAAKsf,MAAMlkB,GAAG+P,QAAQJ,EAAE,EACxB/K,KAAKsf,MAAMlkB,GAAG+P,QAAQ0Q,EAAE,EACxB7b,KAAKsf,MAAMlkB,GAAGmhB,KAAK6E,IAAKpN,EAAE,EAAGjJ,EAAE,EAAE8Q,EAAE,GAAI,KACvC7b,KAAKsf,MAAMlkB,GAAGmhB,KAAKnI,QACnBpU,KAAKsf,MAAMlkB,GAAGmhB,KAAK8E,WAAW,WAC9Brb,EAAKsZ,MAAMlkB,GAAG+P,QAAQ6I,EAAE,EACxBhO,EAAKsZ,MAAMlkB,GAAG+P,QAAQJ,EAAE,EACxB/E,EAAKsZ,MAAMlkB,GAAG+P,QAAQ0Q,EAAE,KAKzB5S,EAAAhM,UAAAgG,OAAP,SAAcqJ,GAAd,IAAAtG,EAAAhG,KACKA,KAAKsM,MAAOA,EACZ,IAAIiU,EAASvgB,KAAKO,QAAQuJ,UAAUoB,SAC9BsV,EAAU,IAAI9e,QAAQkB,QAAQ,EAAE,EAAE,KAGlC6d,GAFJD,EAAUpB,EAAA3f,KAAK2G,IAAIoT,WAAWgH,EAASxgB,KAAKO,QAAQuJ,YAE5B4W,SAASH,GACjCE,EAAY/e,QAAQkB,QAAQ+d,UAAUF,GAEtCzgB,KAAK4gB,IAAIL,OAASA,EAClBvgB,KAAK4gB,IAAIH,UAAWA,EAEpBzgB,KAAKshB,IAAMthB,KAAK+B,MAAMwf,YAAYvhB,KAAK4gB,KAEjC5V,KAAKqN,OAGTrY,KAAKshB,IAAIE,WACVxhB,KAAK6f,OAAO4B,cAAczhB,KAAKshB,IAAII,YAAY1hB,KAAK+B,OAEpD/B,KAAK6f,OAAO8B,aAAa3hB,KAAKO,QAAQyZ,UAGzCha,KAAKqf,QAAQhW,QAAQ,SAAC8X,EAAK/lB,GACvB,GAAmB,GAAhB+lB,EAAKd,UAAgB,CACpB,IAAIuB,EAAQ,IAAIlgB,QAAQkB,QAAQue,EAAKX,QAAQxM,EAAEhO,EAAKsG,MAAMtG,EAAKuZ,UAAU4B,EAAKX,QAAQzV,EAAE/E,EAAKsG,MAAMtG,EAAKuZ,UAAU4B,EAAKX,QAAQ3E,EAAE7V,EAAKsG,MAAMtG,EAAKuZ,WACjJ4B,EAAKU,mBAAmBD,GACxBT,EAAKvY,aAED5C,EAAKsb,IAAIE,aACLL,EAAKW,eACLX,EAAKW,aAAa,IAAIpgB,QAAQkB,QAAQoD,EAAKsb,IAAII,YAAY1N,EAAEhO,EAAKsb,IAAII,YAAY3W,EAAE/E,EAAKsb,IAAII,YAAY7F,KAI7GsF,EAAKW,cACG1C,EAAA3f,KAAK2G,IAAIwS,YACbuI,EAAKjW,SAAS8I,EACdmN,EAAKjW,SAASH,EACdoW,EAAKjW,SAAS2Q,EACdsF,EAAKW,aAAa9N,EAClBmN,EAAKW,aAAa/W,EAClBoW,EAAKW,aAAajG,IAGb,KACLsF,EAAKd,aACLra,EAAKuW,KAAKnhB,EAAE+lB,GACZA,EAAKW,aAAa,MAInB1C,EAAA3f,KAAK2G,IAAIwS,YACZuI,EAAKjW,SAAS8I,EACdmN,EAAKjW,SAASH,EACdoW,EAAKjW,SAAS2Q,EACd7V,EAAKzF,QAAQuJ,UAAUoB,SAAS8I,EAChChO,EAAKzF,QAAQuJ,UAAUoB,SAASH,EAChC/E,EAAKzF,QAAQuJ,UAAUoB,SAAS2Q,IAG9B,MACFsF,EAAKd,aACLc,EAAKW,aAAa,KAClB9b,EAAKuW,KAAKnhB,EAAE+lB,SAGhBA,EAAKvY,gBAItBK,EAzOA,GAAa/N,EAAA+N,yFCHb,IAAAiW,EAAAlkB,EAAA,GACAmkB,EAAAnkB,EAAA,GACAokB,EAAApkB,EAAA,GACA+mB,EAAA/mB,EAAA,IAGAgO,EAAA,oBAAAA,IA8BYhJ,KAAAgiB,aAGAhiB,KAAAiiB,SAAS,EAsRVjiB,KAAAqM,WAwFCrM,KAAAkiB,cAAc,EAEdliB,KAAAmiB,YAAY,GACZniB,KAAAoiB,UAAU,EAAE,EAAE,EAAE,EAAE,GAwJjBpiB,KAAAqiB,GAAG,EACHriB,KAAAsiB,KAAK,EACLtiB,KAAAuiB,MAAM,EACNviB,KAAAwiB,MAAM,EA4LPxiB,KAAAyiB,aAiVZ,OAtjCI3mB,OAAAC,eAAkBiN,EAAA,OAAA/M,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAI6F,GAEjBhJ,KAAKmD,0CAuCR6F,EAAA/L,UAAAuiB,WAAR,eAAAxZ,EAAAhG,KACIA,KAAKyf,QACDiD,OAAO,IAAIhhB,QAAQie,MAAM,UAAUT,EAAArhB,cAAcuI,IAAI4D,eAAwB2E,QAAazE,UAAUwY,OAAOpR,KAAKtR,KAAK+B,MAAM,WACvHiE,EAAKyZ,OAAOiD,OAAO1B,SAOpB/N,UAEH0P,IAAI,IAAIjhB,QAAQie,MAAM,UAAUT,EAAArhB,cAAcuI,IAAI4D,eAAwB2E,QAAazE,UAAOyY,IAAOrR,KAAKtR,KAAK+B,MAAM,WACjHiE,EAAKyZ,OAAOkD,IAAI3B,SACjB/N,UAEH2P,KAAK,IAAIlhB,QAAQie,MAAM,UAAUT,EAAArhB,cAAcuI,IAAI4D,eAAwB2E,QAAazE,UAAQ0Y,KAAOtR,KAAKtR,KAAK+B,MAAM,WACnHiE,EAAKyZ,OAAOmD,KAAK5B,SAClB/N,YAQHjK,EAAA/L,UAAA2iB,QAAR,WAEA5f,KAAK6iB,MAAQ,IAAInhB,QAAQ8B,IAAIsR,UAC7B9U,KAAK6iB,MAAMC,OAAO,GAClB9iB,KAAK6iB,MAAME,OAAO,GAClB/iB,KAAK6iB,MAAM/C,MAAM,GACjB9f,KAAK6iB,MAAM5M,MAAQ,QACnBjW,KAAK6iB,MAAMjN,OAAS,QAEpB5V,KAAK6iB,MAAMG,MAAQ,UACnBhjB,KAAK6iB,MAAM9N,UAAY,EAOvB/U,KAAKijB,MAAQ,IAAIvhB,QAAQ8B,IAAIsR,UAE7B9U,KAAKijB,MAAMhN,MAAQ,QACnBjW,KAAKijB,MAAMhO,kBAAkBvT,QAAQ8B,IAAI0R,QAAQC,uBACjDnV,KAAKijB,MAAMrN,OAAS,UACpB5V,KAAKijB,MAAMxN,IAAI,IACfzV,KAAKijB,MAAMlN,KAAK,OAChB/V,KAAKijB,MAAM7N,oBAAsB1T,QAAQ8B,IAAI0R,QAAQgO,4BAGrDljB,KAAKijB,MAAMlO,UAAY,EACvB/U,KAAK6iB,MAAM5e,WAAWjE,KAAKijB,OAK3BjjB,KAAK8Q,MAAQ,IAAIpP,QAAQ8B,IAAIwc,MAAM,MAAOd,EAAArhB,cAAcuI,IAAI4D,eAAuB8E,OAAa5E,UAAWiZ,QAAExE,KAC7G3e,KAAK8Q,MAAMmF,MAAQ,OAGnBjW,KAAK8Q,MAAM8E,OAAS,OACpB5V,KAAK8Q,MAAMgS,QAAU,EACrB9iB,KAAK8Q,MAAM2E,IAAI,QACfzV,KAAK8Q,MAAMiF,KAAK,QAChB/V,KAAK8Q,MAAMmE,kBAAkBvT,QAAQ8B,IAAI0R,QAAQC,uBACjDnV,KAAK8Q,MAAMsE,oBAAsB1T,QAAQ8B,IAAI0R,QAAQG,0BACrDrV,KAAK6iB,MAAM5e,WAAWjE,KAAK8Q,OAO3B,IALA,IAAIsS,KAEAC,KACAC,EAAO,IACPC,EAAO,IAAI7hB,QAAQ8B,IAAIwc,MAAM,MAAOd,EAAArhB,cAAcuI,IAAI4D,eAAuB8E,OAAa5E,UAAYsZ,SAAE7E,KACpGvjB,EAAE,EAAEA,GAAG,GAAGA,KAEdkoB,GAAQ,KACG,IACPA,EAAO,KAEXF,EAAGhoB,GAAI,IAAIsG,QAAQ8B,IAAIsR,UACvBsO,EAAGhoB,GAAG6Z,kBAAkBvT,QAAQ8B,IAAI0R,QAAQC,uBAC5CiO,EAAGhoB,GAAGga,oBAAsB1T,QAAQ8B,IAAI0R,QAAQgO,4BAChDE,EAAGhoB,GAAGqa,IAAI,GAAGra,EAAE,EACfgoB,EAAGhoB,GAAG2a,KAAK,OACXqN,EAAGhoB,GAAG6a,MAAQ,QACdmN,EAAGhoB,GAAGwa,OAAS,OAGfwN,EAAGhoB,GAAG2Z,UAAY,EAClB/U,KAAKijB,MAAMhf,WAAYmf,EAAGhoB,IAC1BioB,EAAMjoB,GAAK,IAAIsG,QAAQ8B,IAAIigB,UAChB,GAARH,GAAmB,KAARA,GACVD,EAAMjoB,GAAGsoB,KAAO,KAChBL,EAAMjoB,GAAG4nB,MAAM,YAEfK,EAAMjoB,GAAGsoB,KAAUJ,EAAO,IAC1BD,EAAMjoB,GAAG4nB,MAAM,WAInBK,EAAMjoB,GAAGuoB,wBAA0BjiB,QAAQ8B,IAAI0R,QAAQgO,4BACvDG,EAAMjoB,GAAGwoB,SAAS,OAKlBR,EAAGhoB,GAAG6I,WAAWof,EAAMjoB,IACvBgoB,EAAGhoB,GAAG6I,WAAWsf,GAKrBvjB,KAAK6jB,OAAS,IAAIniB,QAAQ8B,IAAIsR,UAE9B9U,KAAK6jB,OAAO/D,MAAM,GAClB9f,KAAK6jB,OAAO5N,MAAQ,QACpBjW,KAAK6jB,OAAOjO,OAAS,QAEtB5V,KAAK6jB,OAAOb,MAAQ,UACpBhjB,KAAK6jB,OAAOC,WAAa,UACzB9jB,KAAK6jB,OAAO/D,MAAQ,GACpB9f,KAAK6jB,OAAOpO,IAAI,OAChBzV,KAAK6jB,OAAO9O,UAAW,EACvB/U,KAAK6jB,OAAO5O,kBAAkBvT,QAAQ8B,IAAI0R,QAAQC,uBAClDnV,KAAK6jB,OAAOzO,oBAAsB1T,QAAQ8B,IAAI0R,QAAQgO,4BAErDljB,KAAK+jB,SAAW,IAAIriB,QAAQ8B,IAAIigB,UAChCzjB,KAAK+jB,SAAS9N,MAAM,QACpBjW,KAAK+jB,SAASnO,OAAS,QACvB5V,KAAK+jB,SAASf,MAAM,UACpBhjB,KAAK+jB,SAASH,SAAS,OACvB5jB,KAAK+jB,SAASL,KAAK,KAEnB1jB,KAAK+jB,SAAS9O,kBAAkBvT,QAAQ8B,IAAI0R,QAAQC,uBAEpDnV,KAAK+jB,SAAStO,IAAI,OAClBzV,KAAK+jB,SAAS3O,oBAAsB1T,QAAQ8B,IAAI0R,QAAQgO,4BAIxDljB,KAAKgkB,OAAS,IAAItiB,QAAQ8B,IAAIwc,MAAM,SAAUd,EAAArhB,cAAcuI,IAAI4D,eAAuB8E,OAAa5E,UAAU8Z,OAAErF,KAChH3e,KAAKgkB,OAAO/N,MAAQ,QAGpBjW,KAAKgkB,OAAOpO,OAAS,QAIrB5V,KAAKgkB,OAAO/O,kBAAkBvT,QAAQ8B,IAAI0R,QAAQ+O,0BAClDjkB,KAAKgkB,OAAO5O,oBAAsB1T,QAAQ8B,IAAI0R,QAAQgO,4BAGtDljB,KAAKkkB,MAAQ,IAAIxiB,QAAQ8B,IAAIwc,MAAM,QAASd,EAAArhB,cAAcuI,IAAI4D,eAAuB8E,OAAa5E,UAASga,MAAEvF,KAC7G3e,KAAKkkB,MAAMjO,MAAQ,OAGnBjW,KAAKkkB,MAAMtO,OAAS,OAIpB5V,KAAKkkB,MAAMjP,kBAAkBvT,QAAQ8B,IAAI0R,QAAQ+O,0BACjDjkB,KAAKkkB,MAAM9O,oBAAsB1T,QAAQ8B,IAAI0R,QAAQgO,4BAKrD,IAAIiB,EAAK,IAAIziB,QAAQ8B,IAAIsR,UAGzBqP,EAAK1O,IAAI,MACT0O,EAAKpO,KAAK,MACVoO,EAAKrE,MAAM,GACXqE,EAAKpP,UAAY,EACjBoP,EAAKlP,kBAAkBvT,QAAQ8B,IAAI0R,QAAQkP,0BAC3CD,EAAK/O,oBAAsB1T,QAAQ8B,IAAI0R,QAAQgO,4BAC/CiB,EAAKlgB,WAAWjE,KAAKgkB,QACrBG,EAAKlgB,WAAWjE,KAAKkkB,OAGrBlkB,KAAKO,QAAQyE,gBAAgBf,WAAYjE,KAAK6iB,OAC9C7iB,KAAKO,QAAQyE,gBAAgBf,WAAYjE,KAAK6jB,QAC9C7jB,KAAKO,QAAQyE,gBAAgBf,WAAYjE,KAAK+jB,UAC9C/jB,KAAKO,QAAQyE,gBAAgBf,WAAYkgB,IASlCnb,EAAA/L,UAAAmK,KAAP,SAAY7G,GACRP,KAAK+B,MAAMod,EAAAlhB,aAAamI,IAAIrE,MAC5B/B,KAAKO,QAAQA,EAGbP,KAAK4f,UAEL5f,KAAKC,WAELD,KAAKwf,aAELuC,EAAAsC,QAAQje,IAAIgB,KAAKpH,KAAKO,SAuBpB,IAAIggB,EAASvgB,KAAKO,QAAQuJ,UAAUoB,SAGhCsV,EAAU,IAAI9e,QAAQkB,QAAQ,EAAE,EAAE,GAIlC6d,GAHJD,EAAUpB,EAAA3f,KAAK2G,IAAIoT,WAAWgH,EAASxgB,KAAKO,QAAQuJ,YAG5B4W,SAASH,GACjCE,EAAY/e,QAAQkB,QAAQ+d,UAAUF,GAGtCzgB,KAAK4gB,IAAM,IAAIlf,QAAQmf,IAAIN,EAAQE,EAAW,MAK5CzX,EAAA/L,UAAAgD,SAAR,eAAA+F,EAAAhG,KAEIA,KAAKskB,YAEL/iB,SAASmB,iBAAiB,UAAU,SAACrF,GAC5BA,EAAEknB,QAEY,IAAblnB,EAAEknB,UACJve,EAAKse,eAIb/iB,SAASmB,iBAAiB,QAAQ,SAACrF,GACZ,IAAbA,EAAEknB,UACJve,EAAKse,eAGbtkB,KAAKwkB,YAOFxb,EAAA/L,UAAAgG,OAAP,SAAcqJ,GAGVtM,KAAK6iB,MAAMlB,aAAa3hB,KAAKO,QAAQyZ,UAErCha,KAAKsM,MAAOA,EACZtM,KAAKqiB,GAAGriB,KAAKuiB,MACK,GAAfviB,KAAKskB,UACJtkB,KAAKO,QAAQuJ,UAAUgB,SAAS+Q,EAAc,MAAX7b,KAAKuiB,MACxCviB,KAAKO,QAAQ4Z,QAAQrP,SAAS,IAAIpJ,QAAQkB,QAAQ,GAAa,GAARoI,KAAKC,GAAK,IAC9DjL,KAAKwiB,OAAO,IAAIxiB,KAAKwiB,QAAQ,MAC5BxiB,KAAKO,QAAQuJ,UAAUgB,SAASkJ,GAAGhU,KAAKwiB,MAAM,IAAMxiB,KAAKsM,MAEzDtM,KAAKyf,OAAOiD,OAAO+B,gBAAgBzkB,KAAKO,QAAQuJ,UAAUgB,SAASkJ,EAAE,GAAG,IAEzEhU,KAAKO,QAAQuJ,UAAUgB,SAASkJ,EAAU,EAARhJ,KAAKC,KACtCjL,KAAKO,QAAQuJ,UAAUgB,SAASkJ,EAAE,GAGnChU,KAAKO,QAAQuJ,UAAUgB,SAASkJ,GAAY,GAARhJ,KAAKC,KACxCjL,KAAKO,QAAQuJ,UAAUgB,SAASkJ,EAAE,GAErChU,KAAKO,QAAQ4Z,QAAQM,cAAc0E,EAAAlhB,aAAamI,IAAIoU,QACpDxa,KAAKO,QAAQub,QAAQrB,cAAc0E,EAAAlhB,aAAamI,IAAIoU,QAEjC,GAAhBxa,KAAKgiB,YACLhiB,KAAK+B,MAAMyJ,aAAaxL,KAAKO,QAAQ6a,WAGxCpb,KAAKO,QAAQ4Z,QAAQI,cAAc4E,EAAAlhB,aAAamI,IAAIoU,QACjC,GAAhBxa,KAAKgiB,YACJhiB,KAAKO,QAAQub,QAAQ4I,OAAO1kB,KAAKO,QAAQuJ,UAAUoB,SACnDlL,KAAKO,QAAQub,QAAQvB,cAAc4E,EAAAlhB,aAAamI,IAAIoU,QACpDxa,KAAKO,QAAQub,QAAQR,OAAO,GAC5Btb,KAAK+B,MAAMyJ,aAAaxL,KAAKO,QAAQub,UAQ9C9b,KAAK2kB,UAAY3kB,KAAKO,QAAQuJ,UAI3B9J,KAAK4kB,eACL5kB,KAAK6kB,kBACL7kB,KAAK8kB,cACL9kB,KAAK+kB,gBAEL/kB,KAAK6iB,MAAM/X,UAAU9K,KAAKO,QAAQuJ,UAAUgB,SAAS+Q,EAKlD7b,KAAKO,QAAQuJ,UAAUgB,SAAS+Q,EAAE7Q,KAAKC,GAAG,EACzCjL,KAAKO,QAAQuJ,UAAUgB,SAASC,IAAI/K,KAAKO,QAAQuJ,UAAUgB,SAAS+Q,EAAE7Q,KAAKC,IAAI,GAAGjL,KAAKsM,MAEjFtM,KAAKO,QAAQuJ,UAAUgB,SAAS+Q,GAAG7Q,KAAKC,GAAG,EACjDjL,KAAKO,QAAQuJ,UAAUgB,SAASC,IAAI/K,KAAKO,QAAQuJ,UAAUgB,SAAS+Q,EAAE7Q,KAAKC,IAAI,GAAGjL,KAAKsM,MAGvFtM,KAAKO,QAAQuJ,UAAUgB,SAASC,GAAG/K,KAAKO,QAAQuJ,UAAUgB,SAAS+Q,EAAE,GAAG7b,KAAKsM,MAMjFtM,KAAKijB,MAAMxN,KAAM,KAAK,KAAKzV,KAAKO,QAAQuJ,UAAUgB,SAASkJ,GAAW,EAARhJ,KAAKC,IAAO,KACtEjL,KAAKO,QAAQuJ,UAAUgB,SAAS+Q,EAInC,IAAI+F,EAAQ,IAAIlgB,QAAQkB,QAAiC,EAAzB5C,KAAK2kB,UAAUnE,QAAQxM,EAAIhU,KAAKsM,MAAMtM,KAAKiiB,SAAkC,EAAzBjiB,KAAK2kB,UAAUnE,QAAQzV,EAAI/K,KAAKsM,MAAMtM,KAAKiiB,SAAkC,EAAzBjiB,KAAK2kB,UAAUnE,QAAQ3E,EAAI7b,KAAKsM,MAAMtM,KAAKiiB,UAEnLjiB,KAAK2kB,UAAU9C,mBAAmBD,GAElC5hB,KAAKglB,qBAWLhc,EAAA/L,UAAA+nB,kBAAR,eAAAhf,EAAAhG,KAEQugB,EAASvgB,KAAKO,QAAQuJ,UAAUoB,SAOpC,GALGlL,KAAKkiB,eAAe,IACnBliB,KAAKkiB,cAAc,GAIA,GAApBliB,KAAKkiB,cACJ,IAAI1B,EAAU,IAAI9e,QAAQkB,QAAQ,GAAG,IAAK,GAItB,GAApB5C,KAAKkiB,gBACD1B,EAAU,IAAI9e,QAAQkB,QAAQ,EAAE,IAAK,IAIpB,GAApB5C,KAAKkiB,gBACF1B,EAAU,IAAI9e,QAAQkB,QAAQ,EAAE,EAAE,MAIjB,GAApB5C,KAAKkiB,gBACF1B,EAAU,IAAI9e,QAAQkB,SAAS,IAAK,EAAE,IAIpB,GAApB5C,KAAKkiB,gBACH1B,EAAU,IAAI9e,QAAQkB,QAAQ,IAAK,EAAE,IAK7C,IAAI6d,GAFJD,EAAUpB,EAAA3f,KAAK2G,IAAIoT,WAAWgH,EAASxgB,KAAKO,QAAQuJ,YAE5B4W,SAASH,GACjCE,EAAY/e,QAAQkB,QAAQ+d,UAAUF,GAEtCzgB,KAAK4gB,IAAIL,OAASA,EAClBvgB,KAAK4gB,IAAIH,UAAWA,EAEpBzgB,KAAKshB,IAAMthB,KAAK+B,MAAMwf,YAAYvhB,KAAK4gB,KAOhB,GAApB5gB,KAAKkiB,eAELliB,KAAKilB,SAAS,SAACC,GACVlf,EAAKoc,SAAS,GAAG,EAEjBpc,EAAKmc,YAAY,6BAA6BhU,SAAS+W,EAAI9W,YAAY,gBAC1E,WAEEpI,EAAKoc,SAAS,GAAG,GACnBpiB,KAAKkiB,eAKc,GAApBliB,KAAKkiB,eACJliB,KAAKilB,SAAS,SAACC,GACZlf,EAAKoc,SAAS,GAAG,EAEbpc,EAAKmc,YAAY,0BAA0BhU,SAAS+W,EAAI9W,YAAY,gBAE1E,WAEEpI,EAAKoc,SAAS,GAAG,GACnBpiB,KAAKkiB,eAIY,GAApBliB,KAAKkiB,eACJliB,KAAKilB,SAAS,SAACC,GACXlf,EAAKoc,SAAS,GAAG,EAEbpc,EAAKmc,YAAY,6BAA6BhU,SAAS+W,EAAI9W,YAAY,gBAE7E,WACEpI,EAAKoc,SAAS,GAAG,GAChBpiB,KAAKkiB,eAIW,GAApBliB,KAAKkiB,eACJliB,KAAKilB,SAAS,SAACC,GACblf,EAAKoc,SAAS,GAAG,EAEbpc,EAAKmc,YAAY,2BAA2BhU,SAAS+W,EAAI9W,YAAY,gBAE3E,WACEpI,EAAKoc,SAAS,GAAG,GAChBpiB,KAAKkiB,eAIW,GAApBliB,KAAKkiB,eAENliB,KAAKilB,SAAS,SAACC,GACXlf,EAAKoc,SAAS,GAAG,EAEbpc,EAAKmc,YAAY,4BAA4BhU,SAAS+W,EAAI9W,YAAY,gBAE5E,WACEpI,EAAKoc,SAAS,GAAG,GAChBpiB,KAAKkiB,eAIZliB,KAAKkiB,gBAIEliB,KAAKoiB,SAAS+C,KAAK,SAACC,GACxB,OAAa,IAANA,KAMLplB,KAAKqlB,GAAG,IACPrlB,KAAKyf,OAAOkD,IAAI2C,UAAU,GAC1BtlB,KAAKyf,OAAOmD,KAAK0C,UAAU,KAE3BtlB,KAAKyf,OAAOkD,IAAI2C,UAAU,GAC1BtlB,KAAKyf,OAAOmD,KAAK0C,UAAU,IAG5BtlB,KAAKqlB,IAAI,KACRrlB,KAAKqM,WACL0V,EAAAsC,QAAQje,IAAImW,KAAKvc,KAAKO,QAAQuJ,UAAUoB,UACxClL,KAAKyf,OAAOkD,IAAI2C,UAAU,GAC1BtlB,KAAKyf,OAAOmD,KAAK0C,UAAU,GAC3BtlB,KAAK+B,MAAM0G,cAAc,YAAY0C,QAAQ,IAAIzJ,QAAQkB,QAAQ,EAAE,EAAE,MAIzE5C,KAAKyf,OAAOkD,IAAI2C,UAAU,GAC1BtlB,KAAKyf,OAAOmD,KAAK0C,UAAU,IAK9BtlB,KAAKulB,cAYFvc,EAAA/L,UAAAgoB,SAAR,SAAiB1pB,EAAKiqB,EAAMtD,GACxB,GAAIliB,KAAKshB,IAAIE,WAAW,CACpB,IAAI0D,EAAI9F,EAAA3f,KAAK2G,IAAIwS,YACb5Y,KAAKshB,IAAII,YAAY1N,EACrBhU,KAAKshB,IAAII,YAAY3W,EACrB/K,KAAKshB,IAAII,YAAY7F,EACrB7b,KAAKO,QAAQuJ,UAAUoB,SAAS8I,EAChChU,KAAKO,QAAQuJ,UAAUoB,SAASH,EAChC/K,KAAKO,QAAQuJ,UAAUoB,SAAS2Q,GAM7BqJ,GAAK,KACJ3pB,EAAK2pB,GAILllB,KAAKqlB,GAAGH,IAGRM,IACAxlB,KAAKmiB,YAAY,SAIzBqD,IACAxlB,KAAKmiB,YAAY,IAOjBnZ,EAAA/L,UAAAsoB,WAAR,WAQW,GAAoC,GAAjC/iB,OAAOoF,gBAAgB6d,SAAgB,CAEtC,GADAje,aAAaC,IAAIzH,KAAKmiB,YACD,IAAlBniB,KAAKmiB,YAAgB,CACvB,IAAI1a,EAAM,IAAIC,yBAAyB1H,KAAKmiB,aAC5C1a,EAAIE,KAAK,KACTnF,OAAOoF,gBAAgBC,MAAMJ,GAE9BzH,KAAK+jB,SAASL,KAAKlc,aAAaC,SAEhCzH,KAAK+jB,SAASL,KAAKlc,aAAaC,IAKb,IAApBzH,KAAK+jB,SAASL,KACd1jB,KAAK6jB,OAAO/D,MAAM,EAElB9f,KAAK6jB,OAAO/D,MAAM,IAaxB9W,EAAA/L,UAAAunB,SAAR,eAAAxe,EAAAhG,KAEIuB,SAASmB,iBAAiB,QAAQ,SAACrF,GAEjB,GAAVA,EAAE0jB,QACD/a,EAAK0f,aAOd,IAAIC,KAyBA,GAvBJpkB,SAASmB,iBAAiB,UAAU,SAACrF,GAGf,IAAbA,EAAEknB,WACHoB,GAAWA,IAGR3f,EAAKjE,MAAM8D,eAAeG,EAAKjE,MAAM0G,cAAc,MAAO,EAAG,sBAC7DzC,EAAKjE,MAAM8D,eAAeG,EAAKjE,MAAM0G,cAAc,MAAO,EAAG,sBAC7DzC,EAAKjE,MAAM8D,eAAeG,EAAKjE,MAAM0G,cAAc,UAAW,EAAG,wBAGjEzC,EAAKjE,MAAM8D,eAAeG,EAAKjE,MAAM0G,cAAc,MAAQ,kBAAmB,UAC9EzC,EAAKjE,MAAM8D,eAAeG,EAAKjE,MAAM0G,cAAc,MAAQ,kBAAmB,UAC9EzC,EAAKjE,MAAM8D,eAAeG,EAAKjE,MAAM0G,cAAc,UAAY,kBAAmB,cAQ7FzI,KAAK4lB,SAAWrkB,SAASgV,eAAe,gBAChCvW,KAAK4lB,SAAU,CAIf,IAAIC,EAAY,SAACjlB,GAEb,GAAkB,GAAfoF,EAAKse,SAAgB,CAEpB,IAAIwB,EAAQ9f,EAAKuc,MAAQ3hB,EAAMmlB,UAC3BC,EAAQhgB,EAAKwc,MAAQ5hB,EAAMqlB,UAE5BH,GAAQ,KAAMA,IAAS,KACtB9f,EAAKuc,MAAMvc,EAAKuc,MAChBuD,EAAO9f,EAAKuc,OAEZvc,EAAKuc,MAAQuD,EAGjB9f,EAAKuc,MAAQuD,EAEVE,GAAQ,MAAMA,IAAS,MACtBhgB,EAAKwc,MAAMxc,EAAKwc,MAChBwD,EAAOhgB,EAAKwc,OAEZxc,EAAKwc,MAAQwD,EAIH,KAAXhgB,EAAKuc,MAAoB,EAARvX,KAAKC,KACrBjF,EAAKuc,MAAM,GAGD,KAAXvc,EAAKuc,OAAsB,GAARvX,KAAKC,KACvBjF,EAAKuc,MAAM,GAGfvc,EAAKke,MAAMzO,IAAIzP,EAAKwc,MAAM,GAC1Bxc,EAAKke,MAAMnO,KAAK/P,EAAKuc,MAAM,KAMnCviB,KAAK4lB,SAASljB,iBAAiB,QAAU,SAACrF,GACtC2I,EAAK4f,SAASM,uBAalB3kB,SAASmB,iBAAiB,oBAAqB,WAEvCnB,SAAS4kB,oBAAsBngB,EAAK4f,SACpCrkB,SAASmB,iBAAiB,YAAamjB,MAIvCtkB,SAASgB,oBAAoB,YAAasjB,QAAU,KAWhE7c,EAAA/L,UAAAmpB,WAAR,SAAmBzd,EAAK0d,EAAMjB,GAG1B,IAAIkB,KACJA,EAAI,QAAQ3d,EAAKhN,MAAMqE,KAAK+B,MAAMwkB,uBAAuB5d,EAAM,EAAG,kBAAmByc,EAAI,MACzFkB,EAAI,UAAU3d,EAAKhN,MAAMqE,KAAK+B,MAAMwkB,uBAAuB5d,EAAM,kBAAoB,MAAMyc,EAAI,MAC/FkB,EAAI,UAAU3d,EAAKhN,MAAMqE,KAAK+B,MAAMwkB,uBAAuB5d,EAAM,MAAO,mBAAmByc,EAAI,MAC/FkB,EAAI,YAAY3d,EAAKhN,MAAMqE,KAAK+B,MAAMwkB,uBAAuB5d,EAAM,mBAAoB,mBAAmByc,EAAI,MAC9GkB,EAAI,OAAO3d,EAAKhN,MAAMqE,KAAK+B,MAAMwkB,uBAAuB5d,EAAM,EAAIyc,EAAK,mBAAmBA,EAAI,MAE9FplB,KAAKyiB,UAAU9Z,EAAKhN,MAAM0qB,EAEjB,SAAPA,IAECC,EAAI,QAAQ3d,EAAKhN,MAAM6qB,OAAS,EAChCF,EAAI,UAAU3d,EAAKhN,MAAM6qB,OAAS,EAClCF,EAAI,UAAU3d,EAAKhN,MAAM6qB,OAAS,EAClCF,EAAI,UAAU3d,EAAKhN,MAAM6qB,OAAS,EAClCF,EAAI,OAAO3d,EAAKhN,MAAM6qB,OAAS,GASzB,WAAPH,IACFC,EAAI,QAAQ3d,EAAKhN,MAAM6qB,OAAS,EAChCF,EAAI,UAAU3d,EAAKhN,MAAM6qB,OAAS,EAClCF,EAAI,UAAU3d,EAAKhN,MAAM6qB,OAAS,EAClCF,EAAI,UAAU3d,EAAKhN,MAAM6qB,OAAS,EAClCF,EAAI,OAAO3d,EAAKhN,MAAM6qB,OAAS,GAItB,WAAPH,IACFC,EAAI,QAAQ3d,EAAKhN,MAAM6qB,OAAS,EAChCF,EAAI,UAAU3d,EAAKhN,MAAM6qB,OAAS,EAClCF,EAAI,UAAU3d,EAAKhN,MAAM6qB,OAAS,EAClCF,EAAI,YAAY3d,EAAKhN,MAAM6qB,OAAS,EACpCF,EAAI,OAAO3d,EAAKhN,MAAM6qB,OAAS,GAItB,aAAPH,IACFC,EAAI,QAAQ3d,EAAKhN,MAAM6qB,OAAS,EAChCF,EAAI,UAAU3d,EAAKhN,MAAM6qB,OAAS,EAClCF,EAAI,UAAU3d,EAAKhN,MAAM6qB,OAAS,EAClCF,EAAI,YAAY3d,EAAKhN,MAAM6qB,OAAS,EACpCF,EAAI,OAAO3d,EAAKhN,MAAM6qB,OAAS,GAGtB,QAAPH,IACFC,EAAI,QAAQ3d,EAAKhN,MAAM6qB,OAAS,EAChCF,EAAI,UAAU3d,EAAKhN,MAAM6qB,OAAS,EAClCF,EAAI,UAAU3d,EAAKhN,MAAM6qB,OAAS,EAClCF,EAAI,YAAY3d,EAAKhN,MAAM6qB,OAAS,EACpCF,EAAI,OAAO3d,EAAKhN,MAAM6qB,OAAS,IAM1Bxd,EAAA/L,UAAA2nB,aAAT,WACO5kB,KAAKO,QAAQuJ,UAAUgB,SAASkJ,EAAE,KAEP,SAAvBhU,KAAKyiB,UAAU,QACdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,OAAO,QAAQ,GAGlC,SAAvBzI,KAAKyiB,UAAU,QAEdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,OAAO,QAAQ,IAI7DzI,KAAKO,QAAQuJ,UAAUgB,SAASkJ,GAAG,KAER,WAAvBhU,KAAKyiB,UAAU,QAEdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,OAAO,UAAU,GAEpC,WAAvBzI,KAAKyiB,UAAU,QACdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,OAAO,UAAU,IAM/DzI,KAAKO,QAAQuJ,UAAUgB,SAASkJ,IAAI,IAAKhU,KAAKO,QAAQuJ,UAAUgB,SAASkJ,GAAG,KAGjD,WAAvBhU,KAAKyiB,UAAU,QACY,aAAvBziB,KAAKyiB,UAAU,QAIdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,OAAO,YAAY,GAI1C,SAAvBzI,KAAKyiB,UAAU,QACY,WAAvBziB,KAAKyiB,UAAU,QAIdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,OAAO,UAAU,GAIxC,WAAvBzI,KAAKyiB,UAAU,QACY,aAAvBziB,KAAKyiB,UAAU,QAGdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,OAAO,YAAY,GAI1C,SAAvBzI,KAAKyiB,UAAU,QACY,WAAvBziB,KAAKyiB,UAAU,QAIdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,OAAO,UAAU,KAUlEO,EAAA/L,UAAA4nB,gBAAR,WACO7kB,KAAKO,QAAQuJ,UAAUgB,SAAS+Q,EAAE,IAER,SAAtB7b,KAAKyiB,UAAU,OACdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,MAAM,QAAQ,GAI5DzI,KAAKO,QAAQuJ,UAAUgB,SAAS+Q,GAAG,IAET,WAAtB7b,KAAKyiB,UAAU,OACdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,MAAM,UAAU,GAK9DzI,KAAKO,QAAQuJ,UAAUgB,SAAS+Q,IAAI,IAAK7b,KAAKO,QAAQuJ,UAAUgB,SAAS+Q,GAAG,KAElD,WAAtB7b,KAAKyiB,UAAU,OACW,aAAtBziB,KAAKyiB,UAAU,OAEdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,MAAM,YAAY,GAI1C,SAAtBzI,KAAKyiB,UAAU,OACW,WAAtBziB,KAAKyiB,UAAU,OAEdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,MAAM,UAAU,KAOjEO,EAAA/L,UAAA6nB,YAAR,WAEY9kB,KAAKqiB,GAAGriB,KAAKuiB,QAEY,SAAtBviB,KAAKyiB,UAAU,OACdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,MAAM,QAAQ,GAGlC,WAAtBzI,KAAKyiB,UAAU,OACdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,MAAM,UAAU,IAI9DzI,KAAKqiB,GAAGriB,KAAKuiB,QACa,WAAtBviB,KAAKyiB,UAAU,OACdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,MAAM,UAAU,GAGpC,SAAtBzI,KAAKyiB,UAAU,OACdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,MAAM,QAAQ,IAI5DzI,KAAKqiB,IAAIriB,KAAKuiB,QAEY,WAAtBviB,KAAKyiB,UAAU,OACW,aAAtBziB,KAAKyiB,UAAU,OAEdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,MAAM,YAAY,GAI1C,SAAtBzI,KAAKyiB,UAAU,OACW,WAAtBziB,KAAKyiB,UAAU,OAEdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,MAAM,UAAU,GAKzC,WAAtBzI,KAAKyiB,UAAU,OACY,aAAtBziB,KAAKyiB,UAAU,OAEdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,MAAM,YAAY,GAI3C,SAAtBzI,KAAKyiB,UAAU,OACY,WAAtBziB,KAAKyiB,UAAU,OAEdziB,KAAKomB,WAAWpmB,KAAK+B,MAAM0G,cAAc,MAAM,UAAU,KAWnEO,EAAA/L,UAAA8nB,cAAR,WACK/kB,KAAKO,QAAQuJ,UAAUgB,SAASkJ,EAAE,IACjChU,KAAKymB,eAGNzmB,KAAKO,QAAQuJ,UAAUgB,SAASkJ,GAAG,IAClChU,KAAKymB,eAGNzmB,KAAKO,QAAQuJ,UAAUgB,SAASkJ,IAAI,IAAKhU,KAAKO,QAAQuJ,UAAUgB,SAASkJ,GAAG,IAC3EhU,KAAKymB,gBAQHzd,EAAA/L,UAAAwpB,WAAR,SAAmBC,GAAnB,IAAA1gB,EAAAhG,KAEKA,KAAK0mB,iBAAiBA,IAKzBC,cAAc3mB,KAAK4mB,gBAEhBF,EACC1mB,KAAK4mB,eAAete,YAAY,WAC5BtC,EAAKjE,MAAM0G,cAAc,OAAOG,WAAW5C,EAAKjE,MAAM0G,cAAc,OAAOG,UAC3E5C,EAAKjE,MAAM0G,cAAc,OAAOG,WAAW5C,EAAKjE,MAAM0G,cAAc,OAAOG,WAC7E,KAEF5I,KAAK+B,MAAM0G,cAAc,OAAOG,aAChC5I,KAAK+B,MAAM0G,cAAc,OAAOG,cAGpC5I,KAAK0mB,gBAAgBA,IAQjB1d,EAAA/L,UAAAyoB,SAAR,WACI1lB,KAAKgiB,WAAWhiB,KAAKgiB,UACF,GAAhBhiB,KAAKgiB,WAEJhiB,KAAK+B,MAAMyJ,aAAaxL,KAAKO,QAAQ6a,QAKrCpb,KAAK+B,MAAM0G,cAAc,QAAQG,aAEjC5I,KAAKyf,OAAOiD,OAAO4C,UAAU,KAQ7BtlB,KAAK+B,MAAMyJ,aAAaxL,KAAKO,QAAQ4Z,QAErCna,KAAKyf,OAAOiD,OAAO4C,UAAU,IAE7BtlB,KAAK+B,MAAM0G,cAAc,QAAQG,eAqC7CI,EA1jCA,GAAa9N,EAAA8N,wFCPb,IAAAkW,EAAAlkB,EAAA,GACAmkB,EAAAnkB,EAAA,GACAokB,EAAApkB,EAAA,GAEAqpB,EAAA,oBAAAA,IAYYrkB,KAAAqf,WAGArf,KAAAsf,SAgBAtf,KAAAuf,UAAU,EAQVvf,KAAA6mB,qBACA7mB,KAAA8mB,eAiHA9mB,KAAA+mB,GAAG,EAsBf,OA3KIjrB,OAAAC,eAAkBsoB,EAAA,OAAApoB,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAIkhB,GAEjBrkB,KAAKmD,0CAoCRkhB,EAAApnB,UAAAuiB,WAAR,WACIxf,KAAKyf,QACDC,MAAM,IAAIhe,QAAQie,MAAM,UAAUT,EAAArhB,cAAcuI,IAAI4D,eAAwB2E,QAAazE,UAAQqS,KAAOjL,KAAKtR,KAAK+B,MAAM,cAErHkR,YAKHoR,EAAApnB,UAAA2iB,QAAR,aAKOyE,EAAApnB,UAAAmK,KAAP,SAAY7G,GACRP,KAAK+B,MAAMod,EAAAlhB,aAAamI,IAAIrE,MAC5B/B,KAAKO,QAAQA,EAGbP,KAAK4f,UAEL5f,KAAKwf,aAIFxf,KAAKgnB,iBAAmBtlB,QAAwBulB,eAAEC,cAAc,IAAIxlB,QAAQkB,QAAQ,EAAE,EAAE,GAAI,KAG5F5C,KAAKgnB,iBAAiBG,SAAW,IAGjCnnB,KAAKgnB,iBAAiBI,QAAU,EAChCpnB,KAAKgnB,iBAAiBK,QAAU,GAGhCrnB,KAAKgnB,iBAAiBM,YAAc,EACpCtnB,KAAKgnB,iBAAiBO,YAAc,EAGpCvnB,KAAKgnB,iBAAiBQ,aAAe,GACrCxnB,KAAKgnB,iBAAiBS,aAAe,IAGrCznB,KAAKgnB,iBAAiBU,yBAAyB,EAAG,IAClD1nB,KAAKgnB,iBAAiBU,yBAAyB,IAAO,QACtD1nB,KAAKgnB,iBAAiBU,yBAAyB,KAAO,MACtD1nB,KAAKgnB,iBAAiBU,yBAAyB,KAAO,MACtD1nB,KAAKgnB,iBAAiBU,yBAAyB,IAAO,KACtD1nB,KAAKgnB,iBAAiBU,yBAAyB,EAAK,GAEpD1nB,KAAKgnB,iBAAiBW,qBAAuB,GAG7C3nB,KAAKgnB,iBAAiBY,oBAAsB5c,KAAKC,GAAK,EACtDjL,KAAKgnB,iBAAiBa,mBAAqB7c,KAAKC,GAAK,EAGrDjL,KAAKgnB,iBAAiBc,gBAAkB5I,EAAArhB,cAAcuI,IAAI4D,eAAyBgF,SAAa9E,UAAO6d,IACvG/nB,KAAKgnB,iBAAiBgB,UAAYtmB,QAAQumB,eAAsCC,sBAGhFloB,KAAKgnB,iBAAiBmB,iBAAiB,EAAK,IAAIzmB,QAAQmY,OAAO,EAAG,EAAG,EAAG,IACxE7Z,KAAKgnB,iBAAiBmB,iBAAiB,GAAK,IAAIzmB,QAAQmY,OAAO,EAAG,EAAG,EAAG,IACxE7Z,KAAKgnB,iBAAiBmB,iBAAiB,GAAK,IAAIzmB,QAAQmY,OAAO,EAAG,EAAG,EAAG,IACxE7Z,KAAKgnB,iBAAiBmB,iBAAiB,EAAK,IAAIzmB,QAAQmY,OAAO,EAAG,EAAG,EAAG,IAGxE7Z,KAAKgnB,iBAAiBoB,gBAAgB,EAAK,IAAI1mB,QAAQ8G,OAAO,EAAG,EAAG,IACpExI,KAAKgnB,iBAAiBoB,gBAAgB,IAAM,IAAI1mB,QAAQ8G,OAAO,IAAI,IAAK,GAAS,GAAG,MACpFxI,KAAKgnB,iBAAiBoB,gBAAgB,IAAM,IAAI1mB,QAAQ8G,OAAO,IAAI,IAAK,IAAI,IAAK,GAAG,MACpFxI,KAAKgnB,iBAAiBoB,gBAAgB,IAAM,IAAI1mB,QAAQ8G,OAAO,IAAI,IAAK,GAAG,IAAK,GAAG,MACnFxI,KAAKgnB,iBAAiBoB,gBAAgB,IAAM,IAAI1mB,QAAQ8G,OAAO,IAAI,IAAK,GAAG,IAAK,GAAG,MACnFxI,KAAKgnB,iBAAiBoB,gBAAgB,IAAM,IAAI1mB,QAAQ8G,OAAO,GAAG,IAAK,GAAG,IAAK,GAAG,MAClFxI,KAAKgnB,iBAAiBoB,gBAAgB,EAAK,IAAI1mB,QAAQ8G,OAAO,GAAG,IAAK,GAAG,IAAK,GAAG,MACjFxI,KAAKgnB,iBAAiBqB,oBAGtBroB,KAAKgnB,iBAAiBsB,sBAAsB,EAAG,EAAG,IAClDtoB,KAAKgnB,iBAAiBsB,sBAAsB,GAAK,GAAK,IACtDtoB,KAAKgnB,iBAAiBsB,sBAAsB,GAAK,GAAK,KACtDtoB,KAAKgnB,iBAAiBsB,sBAAsB,IAAM,GAAK,KACvDtoB,KAAKgnB,iBAAiBsB,sBAAsB,GAAK,GAAK,IACtDtoB,KAAKgnB,iBAAiBsB,sBAAsB,GAAK,IAAM,GACvDtoB,KAAKgnB,iBAAiBsB,sBAAsB,EAAK,IAAM,GAGvDtoB,KAAKgnB,iBAAiB5S,MAAM,IAC5BpU,KAAKgnB,iBAAiBuB,mBAAqB,GAG3CvoB,KAAKgnB,iBAAiBwB,YAAc,EAAE,GAGtCxoB,KAAKgnB,iBAAiByB,iBAAmB,EAK5C,IAAI,IAAIrtB,EAAE,EAAEA,GAAG,GAAGA,IACd4E,KAAK6mB,kBAAkBzrB,GAAG4E,KAAKgnB,iBAAwBlM,MAAE,IAAI,GAE7D9a,KAAK8mB,YAAY1rB,GAAG,IAAIgkB,EAAA3gB,YAAY,IAAIiD,QAAQkB,QAAQ,EAAE,EAAE,GAAGuc,EAAAlhB,aAAamI,IAAIrE,MAAM/B,KAAK6mB,kBAAkBzrB,IAE7G4E,KAAK8mB,YAAY1rB,GAAGiZ,SAAS,IAAI3S,QAAQkB,QAAQ,EAAG,EAAG,KAQxDyhB,EAAApnB,UAAAsf,KAAP,SAAYrR,GAAZ,IAAAlF,EAAAhG,KACQA,KAAK8mB,YAAY9mB,KAAK+mB,IAAI1S,SAASnJ,GACnClL,KAAK8mB,YAAY9mB,KAAK+mB,IAAI3S,QAC1BpU,KAAKyf,OAAOC,MAAMsB,OAClB9Y,QAAQC,IAAI,OACZ,IAAI4e,EAAG/mB,KAAK+mB,GAEZ3lB,WAAW,WACP4E,EAAK8gB,YAAYC,GAAI5S,QACvB,KAGCnU,KAAK+mB,GAAG,GACP/mB,KAAK+mB,KAEL/mB,KAAK+mB,GAAG,GAKxB1C,EA/KA,GAAanpB,EAAAmpB,yFCJb,IAAAnF,EAAAlkB,EAAA,GACAmkB,EAAAnkB,EAAA,GACAokB,EAAApkB,EAAA,GAEAkO,EAAA,oBAAAA,IAYYlJ,KAAAqf,WAGArf,KAAAsf,SAgBAtf,KAAAuf,UAAU,EAQVvf,KAAA6mB,qBACA7mB,KAAA8mB,eAwPZ,OA5RIhrB,OAAAC,eAAkBmN,EAAA,OAAAjN,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAI+F,GAEjBlJ,KAAKmD,0CAoCR+F,EAAAjM,UAAAuiB,WAAR,WACIxf,KAAKyf,QACDC,MAAM,IAAIhe,QAAQie,MAAM,UAAUT,EAAArhB,cAAcuI,IAAI4D,eAAwB2E,QAAazE,UAAOwe,IAAOpX,KAAKtR,KAAK+B,MAAM,cAEpHkR,YAKH/J,EAAAjM,UAAA2iB,QAAR,WACI5f,KAAK6f,OAAS,IAAIne,QAAQ8B,IAAIsR,UAC9B9U,KAAK6f,OAAO5J,MAAQ,OACpBjW,KAAK6f,OAAOjK,OAAS,OACrB5V,KAAK6f,OAAOC,MAAM,GAClB9f,KAAK6f,OAAO9K,UAAY,EACxB/U,KAAKO,QAAQyE,gBAAgBf,WAAYjE,KAAK6f,QAC9C7f,KAAK+f,OAAS,IAAIre,QAAQ8B,IAAIwc,MAAM,MAAOd,EAAArhB,cAAcuI,IAAI4D,eAAuB8E,OAAa5E,UAAY+V,SAAEtB,KAC/G3e,KAAK6f,OAAO5b,WAAWjE,KAAK+f,SAIzB7W,EAAAjM,UAAAmK,KAAP,SAAY7G,GACRP,KAAK+B,MAAMod,EAAAlhB,aAAamI,IAAIrE,MAC5B/B,KAAKO,QAAQA,EAGbP,KAAK4f,UAEL5f,KAAKC,WACLD,KAAKwf,aAMHxf,KAAKgnB,iBAAmB,IAAItlB,QAAQumB,eAAe,YAAa,IAAKjoB,KAAK+B,OAE1E/B,KAAKgnB,iBAAiBc,gBAAmB5I,EAAArhB,cAAcuI,IAAI4D,eAAyBgF,SAAa9E,UAAO6d,IACxG/nB,KAAKgnB,iBAAiB2B,WAAa,IAAIjnB,QAAQkB,QAAQ,EAAG,EAAG,GAC7D5C,KAAKgnB,iBAAiB4B,WAAa,IAAIlnB,QAAQkB,SAAS,GAAI,GAAI,GAChE5C,KAAKgnB,iBAAiB6B,OAAS,IAAInnB,QAAQmY,OAAO,IAAI,IAAK,IAAI,IAAI,IAAI,IAAK,IAC5E7Z,KAAKgnB,iBAAiB8B,OAAS,IAAIpnB,QAAQmY,OAAO,IAAI,IAAK,IAAI,IAAI,IAAI,IAAI,IAC3E7Z,KAAKgnB,iBAAiB+B,UAAY,IAAIrnB,QAAQmY,OAAO,EAAG,EAAG,EAAG,GAE9D7Z,KAAKgnB,iBAAiBI,QAAU,EAChCpnB,KAAKgnB,iBAAiBK,QAAU,EAEhCrnB,KAAKgnB,iBAAiBM,YAAc,GACpCtnB,KAAKgnB,iBAAiBO,YAAc,GACpCvnB,KAAKgnB,iBAAiBG,SAAW,GACjCnnB,KAAKgnB,iBAAiBgB,UAAYtmB,QAAQumB,eAAsCC,sBAChFloB,KAAKgnB,iBAAiBgC,WAAa,IAAItnB,QAAQkB,SAAS,GAAK,IAAM,GACnE5C,KAAKgnB,iBAAiBiC,WAAa,IAAIvnB,QAAQkB,QAAQ,GAAK,IAAM,GAGlE5C,KAAKgnB,iBAAiBQ,aAAe,GACrCxnB,KAAKgnB,iBAAiBS,aAAe,GACrCznB,KAAKgnB,iBAAiBwB,YAAc,GAMtC,IAAI,IAAIptB,EAAE,EAAEA,GAAG,GAAGA,IACd4E,KAAKqf,QAAQjkB,GAAIsG,QAAQoY,YAAYmB,aAAa,SAAUiF,UAAY,EAAGC,UAAW,EAAGC,UAAW,GAAIpgB,KAAK+B,OAC7G/B,KAAKqf,QAAQjkB,GAAGilB,aAChBrgB,KAAKqf,QAAQjkB,GAAGiP,cAChBrK,KAAKqf,QAAQjkB,GAAGyN,SAAS7I,KAAKO,QAAQ8b,YACtCrc,KAAKqf,QAAQjkB,GAAGkO,mBAEhBtJ,KAAK6mB,kBAAkBzrB,GAAG4E,KAAKgnB,iBAAwBlM,MAAE,IAAI,GAE7D9a,KAAK8mB,YAAY1rB,GAAG,IAAI8jB,EAAAzgB,YAAY,IAAIiD,QAAQkB,QAAQ,EAAE,EAAE,GAAGuc,EAAAlhB,aAAamI,IAAIrE,MAAM/B,KAAK6mB,kBAAkBzrB,IAE7G4E,KAAK8mB,YAAY1rB,GAAGiZ,SAAS,IAAI3S,QAAQkB,QAAQ,EAAG,GAAI,KAExD5C,KAAK8mB,YAAY1rB,GAAGkZ,OAAOtU,KAAKqf,QAAQjkB,IAO5C,IAAImlB,EAASvgB,KAAKO,QAAQuJ,UAAUoB,SAGnCsV,EAAU,IAAI9e,QAAQkB,QAAQ,EAAE,EAAE,GAIlC6d,GAHJD,EAAUpB,EAAA3f,KAAK2G,IAAIoT,WAAWgH,EAASxgB,KAAKO,QAAQuJ,YAG5B4W,SAASH,GACjCE,EAAY/e,QAAQkB,QAAQ+d,UAAUF,GAGtCzgB,KAAK4gB,IAAM,IAAIlf,QAAQmf,IAAIN,EAAQE,EAAW,MAKvCvX,EAAAjM,UAAAgD,SAAR,eAeQipB,EAfRljB,EAAAhG,KAEIA,KAAK8gB,aAELvf,SAASmB,iBAAiB,YAAY,SAACrF,GACtB,GAAVA,EAAE0jB,SACD/a,EAAK8a,gBAGbvf,SAASmB,iBAAiB,UAAU,SAACrF,GACpB,GAAVA,EAAE0jB,SACH/a,EAAK8a,gBAMXvf,SAASmB,iBAAiB,UAAU,SAACrF,GAC7BkE,SAASmB,iBAAiB,UAAU,SAACrF,GAChC,GAAiB,IAAbA,EAAEknB,QAAe,CAClBoC,cAAcuC,GACd,IAAI9tB,EAAE,EACN8tB,EAAO5gB,YAAY,WACftC,EAAKyZ,OAAOC,MAAMsB,OAEjB,IAAIC,EAAIjW,KAAKqN,SAAS,IAGnBrS,EAAKkJ,GAAGlJ,EAAKqZ,QAAQtf,OAAO,GAC3BiG,EAAK8gB,YAAY9gB,EAAKkJ,GAAGkF,QACzBpO,EAAKqZ,QAAQrZ,EAAKkJ,GAAGhE,SAAS,IAAIxJ,QAAQkB,QAAQoD,EAAKzF,QAAQuJ,UAAUoX,iBAAiBlN,EAAEiN,EAAIjb,EAAKzF,QAAQuJ,UAAUoX,iBAAiBnW,EAAEkW,EAAI,EAAEjb,EAAKzF,QAAQuJ,UAAUoX,iBAAiBrF,GACxL7V,EAAKqZ,QAAQrZ,EAAKkJ,GAAGpE,SAAS,IAAIpJ,QAAQkB,QAAQoD,EAAKzF,QAAQuJ,UAAUgB,SAASkJ,EAAEiN,EAAIjb,EAAKzF,QAAQuJ,UAAUgB,SAASC,EAAEkW,EAAIjb,EAAKzF,QAAQuJ,UAAUgB,SAAS+Q,GAC9J7V,EAAKqZ,QAAQrZ,EAAKkJ,GAAGmR,aACrBra,EAAKkJ,MAGLlJ,EAAKkJ,EAAE,EACPlJ,EAAK8gB,YAAY9gB,EAAKkJ,GAAGkF,QACzBpO,EAAKqZ,QAAQrZ,EAAKkJ,GAAGhE,SAAS,IAAIxJ,QAAQkB,QAAQoD,EAAKzF,QAAQuJ,UAAUoX,iBAAiBlN,EAAEhO,EAAKzF,QAAQuJ,UAAUoX,iBAAiBnW,EAAE,EAAE/E,EAAKzF,QAAQuJ,UAAUoX,iBAAiBrF,GAChL7V,EAAKqZ,QAAQrZ,EAAKkJ,GAAGpE,SAAS,IAAIpJ,QAAQkB,QAAQoD,EAAKzF,QAAQuJ,UAAUgB,SAASkJ,EAAEhO,EAAKzF,QAAQuJ,UAAUgB,SAASC,EAAE/E,EAAKzF,QAAQuJ,UAAUgB,SAAS+Q,GACtJ7V,EAAKqZ,QAAQrZ,EAAKkJ,GAAGmR,gBAGzBjlB,GACM,GACHurB,cAAcuC,IAEpB,WASdhgB,EAAAjM,UAAAsf,KAAR,SAAanhB,EAAE+lB,GAAf,IAAAnb,EAAAhG,KACIA,KAAKsf,MAAMlkB,GAAG8P,SAAS,IAAIxJ,QAAQkB,QAAQue,EAAKjW,SAAS8I,EAAEmN,EAAKjW,SAASH,EAAEoW,EAAKjW,SAAS2Q,GACrF7b,KAAKsf,MAAMlkB,GAAG+P,QAAQ6I,EAAE,GACxBhU,KAAKsf,MAAMlkB,GAAG+P,QAAQJ,EAAE,GACxB/K,KAAKsf,MAAMlkB,GAAG+P,QAAQ0Q,EAAE,GACxB7b,KAAKsf,MAAMlkB,GAAGmhB,KAAK6E,IAAKpN,EAAE,EAAGjJ,EAAE,EAAE8Q,EAAE,GAAI,KACvC7b,KAAKsf,MAAMlkB,GAAGmhB,KAAKnI,QACnBpU,KAAKsf,MAAMlkB,GAAGmhB,KAAK8E,WAAW,WAC9Brb,EAAKsZ,MAAMlkB,GAAG+P,QAAQ6I,EAAE,EACxBhO,EAAKsZ,MAAMlkB,GAAG+P,QAAQJ,EAAE,EACxB/E,EAAKsZ,MAAMlkB,GAAG+P,QAAQ0Q,EAAE,KAMzB3S,EAAAjM,UAAAgG,OAAP,SAAcqJ,GAAd,IAAAtG,EAAAhG,KACKA,KAAKsM,MAAOA,EACZ,IAAIiU,EAASvgB,KAAKO,QAAQuJ,UAAUoB,SAC9BsV,EAAU,IAAI9e,QAAQkB,QAAQ,EAAE,EAAE,KAGlC6d,GAFJD,EAAUpB,EAAA3f,KAAK2G,IAAIoT,WAAWgH,EAASxgB,KAAKO,QAAQuJ,YAE5B4W,SAASH,GACjCE,EAAY/e,QAAQkB,QAAQ+d,UAAUF,GAEtCzgB,KAAK4gB,IAAIL,OAASA,EAClBvgB,KAAK4gB,IAAIH,UAAWA,EAEpBzgB,KAAKshB,IAAMthB,KAAK+B,MAAMwf,YAAYvhB,KAAK4gB,KAEjC5V,KAAKqN,OAGTrY,KAAKshB,IAAIE,WACVxhB,KAAK6f,OAAO4B,cAAczhB,KAAKshB,IAAII,YAAY1hB,KAAK+B,OAEpD/B,KAAK6f,OAAO8B,aAAa3hB,KAAKO,QAAQyZ,UAGzCha,KAAKqf,QAAQhW,QAAQ,SAAC8X,EAAK/lB,GACvB,GAAmB,GAAhB+lB,EAAKd,UAAgB,CACpB,IAAIuB,EAAQ,IAAIlgB,QAAQkB,QAAQue,EAAKX,QAAQxM,EAAEhO,EAAKsG,MAAMtG,EAAKuZ,UAAU4B,EAAKX,QAAQzV,EAAE/E,EAAKsG,MAAMtG,EAAKuZ,UAAU4B,EAAKX,QAAQ3E,EAAE7V,EAAKsG,MAAMtG,EAAKuZ,WACjJ4B,EAAKU,mBAAmBD,GACxBT,EAAKvY,aAED5C,EAAKsb,IAAIE,aACLL,EAAKW,eACLX,EAAKW,aAAa,IAAIpgB,QAAQkB,QAAQoD,EAAKsb,IAAII,YAAY1N,EAAEhO,EAAKsb,IAAII,YAAY3W,EAAE/E,EAAKsb,IAAII,YAAY7F,KAI7GsF,EAAKW,cACG1C,EAAA3f,KAAK2G,IAAIwS,YACbuI,EAAKjW,SAAS8I,EACdmN,EAAKjW,SAASH,EACdoW,EAAKjW,SAAS2Q,EACdsF,EAAKW,aAAa9N,EAClBmN,EAAKW,aAAa/W,EAClBoW,EAAKW,aAAajG,IAGb,KACLsF,EAAKd,aAELra,EAAK8gB,YAAY1rB,GAAG+Y,OACpBgN,EAAKW,aAAa,MAInB1C,EAAA3f,KAAK2G,IAAIwS,YACZuI,EAAKjW,SAAS8I,EACdmN,EAAKjW,SAASH,EACdoW,EAAKjW,SAAS2Q,EACd7V,EAAKzF,QAAQuJ,UAAUoB,SAAS8I,EAChChO,EAAKzF,QAAQuJ,UAAUoB,SAASH,EAChC/E,EAAKzF,QAAQuJ,UAAUoB,SAAS2Q,IAG9B,MACFsF,EAAKd,aACLc,EAAKW,aAAa,KAElB9b,EAAK8gB,YAAY1rB,GAAG+Y,aAGxBgN,EAAKvY,gBAItBM,EAhSA,GAAahO,EAAAgO,kGCJb,IAAAgW,EAAAlkB,EAAA,GACAmkB,EAAAnkB,EAAA,GACAokB,EAAApkB,EAAA,GAEAmO,EAAA,oBAAAA,IAYYnJ,KAAAqf,WAGArf,KAAAsf,SAgBAtf,KAAAuf,UAAU,EAQVvf,KAAA6mB,qBACA7mB,KAAA8mB,eA8PZ,OAlSIhrB,OAAAC,eAAkBoN,EAAA,OAAAlN,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAIgG,GAEjBnJ,KAAKmD,0CAoCRgG,EAAAlM,UAAAuiB,WAAR,WACIxf,KAAKyf,QACDC,MAAM,IAAIhe,QAAQie,MAAM,UAAUT,EAAArhB,cAAcuI,IAAI4D,eAAwB2E,QAAazE,UAAUif,OAAO7X,KAAKtR,KAAK+B,MAAM,cAEvHkR,YAKH9J,EAAAlM,UAAA2iB,QAAR,WACI5f,KAAK6f,OAAS,IAAIne,QAAQ8B,IAAIsR,UAC9B9U,KAAK6f,OAAO5J,MAAQ,OACpBjW,KAAK6f,OAAOjK,OAAS,OACrB5V,KAAK6f,OAAOC,MAAM,GAClB9f,KAAK6f,OAAO9K,UAAY,EACxB/U,KAAKO,QAAQyE,gBAAgBf,WAAYjE,KAAK6f,QAC9C7f,KAAK+f,OAAS,IAAIre,QAAQ8B,IAAIwc,MAAM,MAAOd,EAAArhB,cAAcuI,IAAI4D,eAAuB8E,OAAa5E,UAAY+V,SAAEtB,KAC/G3e,KAAK6f,OAAO5b,WAAWjE,KAAK+f,SAIzB5W,EAAAlM,UAAAmK,KAAP,SAAY7G,GACRP,KAAK+B,MAAMod,EAAAlhB,aAAamI,IAAIrE,MAC5B/B,KAAKO,QAAQA,EAGbP,KAAK4f,UAEL5f,KAAKC,WACLD,KAAKwf,aAELxf,KAAK+B,MAAM0G,cAAc,MAAMG,aAI7B5I,KAAKgnB,iBAAmB,IAAItlB,QAAQumB,eAAe,YAAa,IAAMjoB,KAAK+B,OAE3E/B,KAAKgnB,iBAAiBc,gBAAmB5I,EAAArhB,cAAcuI,IAAI4D,eAAyBgF,SAAa9E,UAAO6d,IACxG/nB,KAAKgnB,iBAAiB2B,WAAa,IAAIjnB,QAAQkB,QAAQ,EAAG,EAAG,GAC7D5C,KAAKgnB,iBAAiB4B,WAAa,IAAIlnB,QAAQkB,SAAS,GAAI,GAAI,GAChE5C,KAAKgnB,iBAAiB6B,OAAS,IAAInnB,QAAQmY,OAAO,IAAI,IAAK,IAAI,IAAI,IAAI,IAAK,IAC5E7Z,KAAKgnB,iBAAiB8B,OAAS,IAAIpnB,QAAQmY,OAAO,IAAI,IAAK,IAAI,IAAI,IAAI,IAAI,IAC3E7Z,KAAKgnB,iBAAiB+B,UAAY,IAAIrnB,QAAQmY,OAAO,EAAG,EAAG,EAAG,GAE9D7Z,KAAKgnB,iBAAiBI,QAAU,EAChCpnB,KAAKgnB,iBAAiBK,QAAU,EAEhCrnB,KAAKgnB,iBAAiBM,YAAc,GACpCtnB,KAAKgnB,iBAAiBO,YAAc,GACpCvnB,KAAKgnB,iBAAiBG,SAAW,GACjCnnB,KAAKgnB,iBAAiBgB,UAAatmB,QAAQumB,eAAsCC,sBACjFloB,KAAKgnB,iBAAiBgC,WAAa,IAAItnB,QAAQkB,SAAS,GAAK,GAAI,MACjE5C,KAAKgnB,iBAAiBiC,WAAa,IAAIvnB,QAAQkB,QAAQ,GAAK,GAAI,MAGhE5C,KAAKgnB,iBAAiBQ,aAAe,GACrCxnB,KAAKgnB,iBAAiBS,aAAe,GACrCznB,KAAKgnB,iBAAiBwB,YAAc,GAMtC,IAAI,IAAIptB,EAAE,EAAEA,GAAG,GAAGA,IAAI,CAClB4E,KAAKqf,QAAQjkB,GAAIsG,QAAQoY,YAAYmB,aAAa,SAAUiF,UAAY,EAAGC,UAAW,EAAGC,UAAW,IAAKpgB,KAAK+B,OAC9G/B,KAAKqf,QAAQjkB,GAAGilB,aAChBrgB,KAAKqf,QAAQjkB,GAAGiP,cAChBrK,KAAKqf,QAAQjkB,GAAGyN,SAAS7I,KAAKO,QAAQ8b,YACtCrc,KAAKqf,QAAQjkB,GAAGkO,mBAChB,IAAI8f,EAAQppB,KAAK+B,MAAM0G,cAAc,MAAMqS,QAC3CsO,EAAQve,OAAO7K,KAAKqf,QAAQjkB,GAC5BguB,EAAQle,SAAS,IAAIxJ,QAAQkB,QAAQ,EAAE,EAAE,IAEzCwmB,EAAQte,SAAS,IAAIpJ,QAAQkB,QAAQ,EAAW,GAARoI,KAAKC,GAAK,GAClDme,EAAQ/e,cACR+e,EAAQxgB,aACRwgB,EAAQ9f,mBAER8f,EAAQje,QAAQ,IAAIzJ,QAAQkB,QAAQ,EAAE,EAAE,GAExC5C,KAAK6mB,kBAAkBzrB,GAAG4E,KAAKgnB,iBAAwBlM,MAAE,IAAI,GAE7D9a,KAAK8mB,YAAY1rB,GAAG,IAAIgkB,EAAA3gB,YAAY,IAAIiD,QAAQkB,QAAQ,EAAE,EAAE,GAAGuc,EAAAlhB,aAAamI,IAAIrE,MAAM/B,KAAK6mB,kBAAkBzrB,IAE7G4E,KAAK8mB,YAAY1rB,GAAGiZ,SAAS,IAAI3S,QAAQkB,QAAQ,EAAG,GAAI,KAExD5C,KAAK8mB,YAAY1rB,GAAGkZ,OAAOtU,KAAKqf,QAAQjkB,IAI5C,IAAQA,EAAE,EAAEA,GAAG,GAAGA,IACd4E,KAAKsf,MAAMlkB,GAAIsG,QAAQoY,YAAYmB,aAAa,QAASC,SAAU,IAAKlb,KAAK+B,OAC7E/B,KAAKsf,MAAMlkB,GAAGmhB,KAAK,IAAIvZ,MAAMsd,MAAMtgB,KAAKsf,MAAMlkB,GAAG+P,SACjDnL,KAAKsf,MAAMlkB,GAAGilB,aACdrgB,KAAKsf,MAAMlkB,GAAGiP,cACdrK,KAAKsf,MAAMlkB,GAAGyN,SAAS7I,KAAKO,QAAQic,YACpCxc,KAAKqf,QAAQjkB,GAAGkO,mBAIpB,IAAIiX,EAASvgB,KAAKO,QAAQuJ,UAAUoB,SAGnCsV,EAAU,IAAI9e,QAAQkB,QAAQ,EAAE,EAAE,GAIlC6d,GAHJD,EAAUpB,EAAA3f,KAAK2G,IAAIoT,WAAWgH,EAASxgB,KAAKO,QAAQuJ,YAG5B4W,SAASH,GACjCE,EAAY/e,QAAQkB,QAAQ+d,UAAUF,GAGtCzgB,KAAK4gB,IAAM,IAAIlf,QAAQmf,IAAIN,EAAQE,EAAW,MAKvCtX,EAAAlM,UAAAgD,SAAR,eAAA+F,EAAAhG,KAEIA,KAAK8gB,aAELvf,SAASmB,iBAAiB,YAAY,SAACrF,GACtB,GAAVA,EAAE0jB,SACD/a,EAAK8a,gBAGbvf,SAASmB,iBAAiB,UAAU,SAACrF,GACpB,GAAVA,EAAE0jB,SACH/a,EAAK8a,gBAIXvf,SAASmB,iBAAiB,UAAU,SAACrF,GACf,IAAbA,EAAEknB,UAECve,EAAKyZ,OAAOC,MAAMsB,OAKfhb,EAAKkJ,GAAGlJ,EAAKqZ,QAAQtf,OAAO,GAC3BiG,EAAK8gB,YAAY9gB,EAAKkJ,GAAGkF,QACzBpO,EAAKqZ,QAAQrZ,EAAKkJ,GAAGhE,SAAS,IAAIxJ,QAAQkB,QAAQoD,EAAKzF,QAAQuJ,UAAUoX,iBAAiBlN,EALtF,EAK4FhO,EAAKzF,QAAQuJ,UAAUoX,iBAAiBnW,EALpI,EAK0I/E,EAAKzF,QAAQuJ,UAAUoX,iBAAiBrF,GACtL7V,EAAKqZ,QAAQrZ,EAAKkJ,GAAGpE,SAAS,IAAIpJ,QAAQkB,QAAQoD,EAAKzF,QAAQuJ,UAAUgB,SAASkJ,EAN9E,EAMoFhO,EAAKzF,QAAQuJ,UAAUgB,SAASC,EANpH,EAM0H/E,EAAKzF,QAAQuJ,UAAUgB,SAAS+Q,GAC9J7V,EAAKqZ,QAAQrZ,EAAKkJ,GAAGmR,aACrBra,EAAKkJ,MAGLlJ,EAAKkJ,EAAE,EACPlJ,EAAK8gB,YAAY9gB,EAAKkJ,GAAGkF,QACzBpO,EAAKqZ,QAAQrZ,EAAKkJ,GAAGhE,SAAS,IAAIxJ,QAAQkB,QAAQoD,EAAKzF,QAAQuJ,UAAUoX,iBAAiBlN,EAAEhO,EAAKzF,QAAQuJ,UAAUoX,iBAAiBnW,EAAE/E,EAAKzF,QAAQuJ,UAAUoX,iBAAiBrF,GAC9K7V,EAAKqZ,QAAQrZ,EAAKkJ,GAAGpE,SAAS,IAAIpJ,QAAQkB,QAAQoD,EAAKzF,QAAQuJ,UAAUgB,SAASkJ,EAAEhO,EAAKzF,QAAQuJ,UAAUgB,SAASC,EAAE/E,EAAKzF,QAAQuJ,UAAUgB,SAAS+Q,GACtJ7V,EAAKqZ,QAAQrZ,EAAKkJ,GAAGmR,kBAUjClX,EAAAlM,UAAAsf,KAAR,SAAanhB,EAAE+lB,GAAf,IAAAnb,EAAAhG,KACIA,KAAKsf,MAAMlkB,GAAG8P,SAAS,IAAIxJ,QAAQkB,QAAQue,EAAKjW,SAAS8I,EAAEmN,EAAKjW,SAASH,EAAEoW,EAAKjW,SAAS2Q,GACrF7b,KAAKsf,MAAMlkB,GAAG+P,QAAQ6I,EAAE,GACxBhU,KAAKsf,MAAMlkB,GAAG+P,QAAQJ,EAAE,GACxB/K,KAAKsf,MAAMlkB,GAAG+P,QAAQ0Q,EAAE,GACxB7b,KAAKsf,MAAMlkB,GAAGmhB,KAAK6E,IAAKpN,EAAE,EAAGjJ,EAAE,EAAE8Q,EAAE,GAAI,KACvC7b,KAAKsf,MAAMlkB,GAAGmhB,KAAKnI,QACnBpU,KAAKsf,MAAMlkB,GAAGmhB,KAAK8E,WAAW,WAC9Brb,EAAKsZ,MAAMlkB,GAAG+P,QAAQ6I,EAAE,EACxBhO,EAAKsZ,MAAMlkB,GAAG+P,QAAQJ,EAAE,EACxB/E,EAAKsZ,MAAMlkB,GAAG+P,QAAQ0Q,EAAE,KAMzB1S,EAAAlM,UAAAgG,OAAP,SAAcqJ,GAAd,IAAAtG,EAAAhG,KACKA,KAAKsM,MAAOA,EACZ,IAAIiU,EAASvgB,KAAKO,QAAQuJ,UAAUoB,SAC9BsV,EAAU,IAAI9e,QAAQkB,QAAQ,EAAE,EAAE,KAGlC6d,GAFJD,EAAUpB,EAAA3f,KAAK2G,IAAIoT,WAAWgH,EAASxgB,KAAKO,QAAQuJ,YAE5B4W,SAASH,GACjCE,EAAY/e,QAAQkB,QAAQ+d,UAAUF,GAEtCzgB,KAAK4gB,IAAIL,OAASA,EAClBvgB,KAAK4gB,IAAIH,UAAWA,EAEpBzgB,KAAKshB,IAAMthB,KAAK+B,MAAMwf,YAAYvhB,KAAK4gB,KAEjC5V,KAAKqN,OAGTrY,KAAKshB,IAAIE,WACVxhB,KAAK6f,OAAO4B,cAAczhB,KAAKshB,IAAII,YAAY1hB,KAAK+B,OAEpD/B,KAAK6f,OAAO8B,aAAa3hB,KAAKO,QAAQyZ,UAGzCha,KAAKqf,QAAQhW,QAAQ,SAAC8X,EAAK/lB,GACvB,GAAmB,GAAhB+lB,EAAKd,UAAgB,CACpB,IAAIuB,EAAQ,IAAIlgB,QAAQkB,QAAQue,EAAKX,QAAQxM,EAAEhO,EAAKsG,MAAMtG,EAAKuZ,UAAU4B,EAAKX,QAAQzV,EAAE/E,EAAKsG,MAAMtG,EAAKuZ,UAAU4B,EAAKX,QAAQ3E,EAAE7V,EAAKsG,MAAMtG,EAAKuZ,WACjJ4B,EAAKU,mBAAmBD,GACxBT,EAAKvY,aAED5C,EAAKsb,IAAIE,aACLL,EAAKW,eACLX,EAAKW,aAAa,IAAIpgB,QAAQkB,QAAQoD,EAAKsb,IAAII,YAAY1N,EAAEhO,EAAKsb,IAAII,YAAY3W,EAAE/E,EAAKsb,IAAII,YAAY7F,KAI7GsF,EAAKW,cACG1C,EAAA3f,KAAK2G,IAAIwS,YACbuI,EAAKjW,SAAS8I,EACdmN,EAAKjW,SAASH,EACdoW,EAAKjW,SAAS2Q,EACdsF,EAAKW,aAAa9N,EAClBmN,EAAKW,aAAa/W,EAClBoW,EAAKW,aAAajG,IAGb,KACLsF,EAAKd,aACLra,EAAKuW,KAAKnhB,EAAE+lB,GACZnb,EAAK8gB,YAAY1rB,GAAG+Y,OACpBgN,EAAKW,aAAa,MAInB1C,EAAA3f,KAAK2G,IAAIwS,YACZuI,EAAKjW,SAAS8I,EACdmN,EAAKjW,SAASH,EACdoW,EAAKjW,SAAS2Q,EACd7V,EAAKzF,QAAQuJ,UAAUoB,SAAS8I,EAChChO,EAAKzF,QAAQuJ,UAAUoB,SAASH,EAChC/E,EAAKzF,QAAQuJ,UAAUoB,SAAS2Q,IAG9B,MACFsF,EAAKd,aACLc,EAAKW,aAAa,KAClB9b,EAAKuW,KAAKnhB,EAAE+lB,GACZnb,EAAK8gB,YAAY1rB,GAAG+Y,aAGxBgN,EAAKvY,gBAItBO,EAtSA,GAAajO,EAAAiO,maCPb,IAAAkgB,EAAAruB,EAAA,IAGAwT,EAAA,SAAAxH,GAYI,SAAAwH,IAAA,IAAAxI,EACIgB,EAAAzL,KAAAyE,OAAOA,YACPgG,EAAKjE,MAAMsnB,EAAAC,eAAeljB,IAAImjB,UAAUC,WACxCxjB,EAAK6E,OAAOwe,EAAAC,eAAeljB,IAAImjB,YAqCvC,OApDuCpiB,EAAAqH,EAAAxH,GAKnClL,OAAAC,eAAkByS,EAAA,OAAAvS,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAIqL,GAEjBxO,KAAKmD,0CAUTqL,EAAAvR,UAAAgD,SAAP,WAGIiI,QAAQC,IAAI,QACZD,QAAQC,IAAInI,KAAK+B,MAAM0nB,SAGvBloB,SAAS0L,KAAKyc,YAAY1pB,KAAK+B,MAAM4nB,UAQrC3pB,KAAKiH,SAAoB2iB,UAAEroB,SAASgV,eAAe,gBAAgB7T,iBAAiB,QAAQ,WACxFmnB,SAASC,YAOVtb,EAAAvR,UAAAkD,YAAP,WACI,GAAGoB,SAASgV,eAAe,YACvB,IACIhV,SAAS0L,KAAK2K,YAAY5X,KAAK+B,MAAM4nB,UACxC,MAAOtsB,GACJ6K,QAAQC,IAAI9K,KAK5BmR,EApDA,CAFAxT,EAAA,GAEuCqE,cAA1BnE,EAAAsT,mGCAb,IAAA8a,EAAA,WAcI,SAAAA,IACQtpB,KAAK4f,UAiFjB,OAzFI9jB,OAAAC,eAAkButB,EAAA,OAAArtB,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAImmB,GAEjBtpB,KAAKmD,0CAOTmmB,EAAArsB,UAAA2iB,QAAP,WAEI5f,KAAK6K,OAAO,IAAInJ,QAAQ8B,IAAIsR,UAE5B,IAAIiV,EAAS,4tDAsDTJ,EAAWpoB,SAASyoB,cAAc,OACtCL,EAASM,GAAK,WACdN,EAASzc,UAAY6c,EAGrB/pB,KAAK6K,OAAO2e,YACRO,SAASA,EACTJ,SAASA,IAMjB7tB,OAAAC,eAAWutB,EAAArsB,UAAA,aAAAhB,IAAX,WACI,OAAO+D,KAAK6K,wCAMpBye,EAhGA,GAAapuB,EAAAouB,uaCJb,IAAAY,EAAAlvB,EAAA,IAEAsL,EAAAtL,EAAA,GACAuL,EAAAvL,EAAA,GAEAuS,EAAAvS,EAAA,GAEAwC,EAAAxC,EAAA,GACAkD,EAAAlD,EAAA,GAEAuT,EAAA,SAAAvH,GAgBI,SAAAuH,IAAA,IAAAvI,EACIgB,EAAAzL,KAAAyE,OAAOA,YACPgG,EAAKjE,MAAMmoB,EAAAC,WAAW/jB,IAAImjB,UAAUC,WACpCxjB,EAAK6E,OAAOqf,EAAAC,WAAW/jB,IAAImjB,UAC3BvjB,EAAKokB,gBAAgB7c,EAAAxG,eAAeX,MAyF5C,OA7GmCe,EAAAoH,EAAAvH,GAS/BlL,OAAAC,eAAkBwS,EAAA,OAAAtS,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAIoL,GAEjBvO,KAAKmD,0CAUToL,EAAAtR,UAAAgD,SAAP,WAEIuH,aAAa6iB,aAAa9jB,EAAA5I,aAAa2R,SAEvC/N,SAAS0L,KAAKyc,YAAY1pB,KAAK+B,MAAM4nB,UAKrC3pB,KAAKiH,SAAmBqjB,SAAE/oB,SAASgV,eAAe,eAAe7T,iBAAiB,QAAQ1C,KAAKyX,iBAAiB7a,KAAKoD,OAuCrHA,KAAKuqB,YAgBChc,EAAAtR,UAAAstB,SAAV,WACIriB,QAAQC,IAAIX,eAIN+G,EAAAtR,UAAAwa,iBAAV,WACIzQ,EAAA/J,UAAMwa,iBAAgBlc,KAAAyE,MACtB9B,EAAAC,cAAciI,IAAIH,WAAWzI,EAAAC,WAAWoH,iBACxC7E,KAAKG,eAIFoO,EAAAtR,UAAAkD,YAAP,WAEI,GADA6G,EAAA/J,UAAMkD,YAAW5E,KAAAyE,MACduB,SAASgV,eAAe,aACvB,IACIhV,SAAS0L,KAAK2K,YAAY5X,KAAK+B,MAAM4nB,UACxC,MAAOtsB,GACJ6K,QAAQC,IAAI9K,KAI5BkR,EA7GA,CAAmCjI,EAAAnH,UAAtBjE,EAAAqT,+FCJb,IAAA4b,EAAA,WAcI,SAAAA,IACInqB,KAAK4f,UA6Kb,OArLI9jB,OAAAC,eAAkBouB,EAAA,OAAAluB,IAAlB,WAII,OAHK+D,KAAKmD,WACNnD,KAAKmD,SAAW,IAAIgnB,GAEjBnqB,KAAKmD,0CAOTgnB,EAAAltB,UAAA2iB,QAAP,WACI5f,KAAK6K,OAAO,IAAInJ,QAAQ8B,IAAIsR,UAU5B,IAAIiV,EAAS,gnIA0ITJ,EAAWpoB,SAASyoB,cAAc,OACtCL,EAASM,GAAK,YACdN,EAASzc,UAAY6c,EAErBxoB,SAASipB,MAAM,4BAMfxqB,KAAK6K,OAAO2e,YACRO,SAASA,EACTJ,SAASA,IAMjB7tB,OAAAC,eAAWouB,EAAAltB,UAAA,aAAAhB,IAAX,WACI,OAAO+D,KAAK6K,wCAEpBsf,EA5LA,GAAajvB,EAAAivB","file":"hi.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","\r\nimport {GameScenes} from \"./components/game/GameScenes\";\r\nimport {ResourceData} from \"./interface/ResourceData\";\r\nimport {fileData} from \"./interface/fileData\";\r\nimport {ModuleName} from \"./enum/ModuleName\";\r\nimport {WeatherState} from \"./enum/WeatherState\";\r\nimport {AssetsManager} from \"./manager/AssetsManager\";\r\nimport {GuiManager} from \"./manager/GuiManager\";\r\nimport {SceneManager} from \"./manager/SceneManager\";\r\nimport {GlobalManager} from \"./manager/GlobalManager\";\r\nimport {AnimationCon} from \"./others/AnimationCon\";\r\nimport {AnimationGui} from \"./others/AnimationGui\";\r\nimport {particleCon} from \"./others/particleCon\";\r\nimport {GuiCreate} from \"./others/GuiCreate\";\r\nimport {Panels} from \"./components/game/Panels\";\r\nimport {Module} from \"./components/Module\";\r\nimport {Guis} from \"./components/game/Guis\";\r\nimport {StartGui} from \"./components/game/StartGui\";\r\nimport {GameSceneGui} from \"./components/game/GameSceneGui\";\r\nimport {DisplayPool} from \"./others/DisplayPool\";\r\nimport {Func} from \"./others/Func\";\r\n\r\n\r\n\r\nexport {\r\n    //UI创建和scene创建\r\n    GameScenes,Panels,Module,Guis,DisplayPool,GameSceneGui,StartGui,\r\n    //other\r\n    AnimationCon,AnimationGui,particleCon,GuiCreate,\r\n    //接口\r\n    ResourceData,fileData,\r\n    //枚举\r\n     ModuleName,WeatherState,\r\n    //管理器\r\n    AssetsManager,GuiManager,SceneManager,GlobalManager,\r\n    //工具\r\n    Func\r\n}","\r\n/**\r\n *Created by cuiliqiang on 2018/3/1\r\n * 组件基类\r\n */\r\n\r\n\r\nexport class Module {\r\n    private timeoutId;\r\n\r\n    /**\r\n     * 显示对象（皮肤）\r\n     */\r\n    protected display: any;\r\n    /**\r\n     * 是否初始化完成\r\n     */\r\n    protected isInit: boolean;\r\n    /**\r\n     * 点击事件回调池\r\n     */\r\n    private clickCallbackPool: any;\r\n\r\n    constructor() {\r\n      //  var skinClass: any = eval(this.module.skinName);\r\n       // this.display = new skinClass();\r\n       // this.clickCallbackPool = {};\r\n    }\r\n\r\n    /**\r\n     * 初始化UI\r\n     */\r\n    protected initUI(): void {\r\n\r\n    }\r\n\r\n    /**\r\n     * 显示\r\n     */\r\n    protected show(...args): void {\r\n        this.addEvent();\r\n    }\r\n\r\n    /**\r\n     * 隐藏\r\n     */\r\n    protected hide(...args): void {\r\n        this.removeEvent();\r\n    }\r\n\r\n    /**\r\n     * 添加事件\r\n     */\r\n    protected addEvent(): void {\r\n\r\n    }\r\n\r\n    /**\r\n     * 移除事件\r\n     */\r\n    protected removeEvent(): void {\r\n\r\n    }\r\n\r\n    /**\r\n     * 更新页面\r\n     * @param args\r\n     */\r\n    public updateData(...args): void {\r\n        if (!this.isInit) {\r\n            this.initUI();\r\n            this.isInit = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 添加点击事件\r\n     * @param display\r\n     *\r\n     * @param callback\r\n     */\r\n    protected addClick(display: any, callback: Function) {\r\n        var _this= display.onPointerUpObservable.add(callback);\r\n        return _this;\r\n    }\r\n\r\n    /**\r\n     * 移除点击事件\r\n     * @param display\r\n     * @param callback\r\n     */\r\n    protected removeClick(display: any, event): void {\r\n        display.onPointerUpObservable.remove(event);\r\n      //  delete this.clickCallbackPool[display.instanceId];\r\n    }\r\n\r\n    /**\r\n     * 延时启用点击事件\r\n     * @param display 显示对象\r\n     * @param {number} delay 延时事件\r\n     */\r\n    protected delayEnable(display: any, delay?: number): void {\r\n        display.mouseEnable = display.mouseChildren = false;\r\n        //如果已经禁用事件重新计算\r\n        if (this.timeoutId) {\r\n            clearTimeout(this.timeoutId);\r\n        }\r\n\r\n        this.timeoutId = setTimeout(function () {\r\n            this.timeoutId = 0;\r\n            display.mouseEnable = display.mouseChildren = true;\r\n        }, delay ? delay : 500);\r\n    }\r\n\r\n\r\n    public dispose(): void {\r\n\r\n    }\r\n}","\r\n/**\r\n *Created by renjianfeng\r\n */\r\nimport Scene = BABYLON.Scene;\r\n\r\n\r\nexport class SceneManager{\r\n\r\n    public stage;\r\n    private _scene:Scene;\r\n    private _canvas;\r\n    private _engine;\r\n\r\n    private static instance: SceneManager;\r\n\r\n    public static get ins(): SceneManager {\r\n        if (!this.instance) {\r\n            this.instance = new SceneManager();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    constructor(){\r\n\r\n    this._canvas = document.querySelector(\"#renderCanvas\");\r\n  //  this._engine = new BABYLON.Engine(this._canvas, true);\r\n    this._engine = new BABYLON.Engine(this._canvas, true, {\r\n        deterministicLockstep: true,\r\n        lockstepMaxSteps: 4\r\n      });\r\n        var createScene=function(){\r\n            {\r\n\r\n\r\n                var scene = new BABYLON.Scene(this._engine);\r\n\r\n                //下面的代码是为了设置微信上面的touch事件兼容\r\n\r\n                var n = scene._onPointerUp\r\n                    , o = scene._onPointerDown\r\n                    , r = scene._onPointerMove\r\n                    , a = BABYLON.Tools.GetPointerPrefix();\r\n                    this._canvas.removeEventListener(a + \"move\", r),\r\n                    this._canvas.removeEventListener(a + \"down\", o),\r\n                    window.removeEventListener(a + \"up\", n),\r\n                    scene._onPointerUp = function(e) {\r\n                        void 0 !== e.pointerId && n(e)\r\n                    }\r\n                    ,\r\n                    scene._onPointerDown = function(e) {\r\n                        void 0 !== e.pointerId && o(e)\r\n                    }\r\n                    ,\r\n                    scene._onPointerMove = function(e) {\r\n                        void 0 !== e.pointerId && r(e)\r\n                    }\r\n                    ,\r\n                    this._canvas.addEventListener(a + \"move\", scene._onPointerMove, !1),\r\n                    this._canvas.addEventListener(a + \"down\", scene._onPointerDown, !1),\r\n                    window.addEventListener(a + \"up\", scene._onPointerUp, !1);\r\n\r\n\r\n                //下面的代码是为了设置微信上面的touch事件兼容\r\n                var camera = new BABYLON.FreeCamera(\"baseCamera\", new BABYLON.Vector3(0, 0, 0), scene);\r\n\r\n              //  var sceneCall=new SceneCall(scene)\r\n\r\n             /*   this.stage = BABYLON.MeshBuilder.CreateBox(\"stage\", {}, scene);\r\n\r\n                this.stage.isVisible = false;*/\r\n\r\n                return scene;\r\n            }\r\n        }.bind(this)\r\n\r\n        this._scene = createScene();\r\n\r\n        this._engine.runRenderLoop(function () {\r\n            this._scene.render();\r\n            TWEEN.update();\r\n        }.bind(this));\r\n\r\n        window.addEventListener(\"resize\", function() {\r\n            this._engine.resize();\r\n        }.bind(this));\r\n    }\r\n\r\n   /* public get stage(): any {\r\n        return this._stage;\r\n    }*/\r\n\r\n    public get scene(): Scene {\r\n        return this._scene;\r\n    }\r\n\r\n    public get canvas(): any {\r\n        return this._canvas;\r\n    }\r\n\r\n    public get engine(): any {\r\n        return this._engine;\r\n    }\r\n\r\n    public change(display){\r\n       /* console.log(display)\r\n        var i;\r\n        for(i in display){\r\n            console.log(display[i])\r\n        }*/\r\n/* \r\n        for(var l of SceneManager.ins.scene.meshes){\r\n            l.dispose()\r\n        } */\r\n\r\n        /*var j;\r\n        for(j in SceneManager.ins.stage){\r\n            console.log(SceneManager.ins.stage[j])\r\n            if( SceneManager.ins.stage[j]){\r\n                if(SceneManager.ins.stage[j].getChildMeshes){\r\n                    SceneManager.ins.stage[j].getChildMeshes(false,(child)=>{\r\n                        child.dispose();\r\n                    });\r\n                }\r\n                if( SceneManager.ins.stage[j].dispose){\r\n                    SceneManager.ins.stage[j].dispose()\r\n                }\r\n            }\r\n        }*/\r\n      //  SceneManager.ins.stage=display;\r\n    }\r\n\r\n  /*  public change(module){\r\n      //  console.log(this._stage._children)\r\n        if(this.stage._children){\r\n            this.stage._children.forEach(function (child) {\r\n                this.stage.removeChild(child)\r\n                child.dispose()\r\n            }.bind(this))\r\n        }\r\n        this.stage.addChild(module)\r\n      //  console.log( this._scene)\r\n    }*/\r\n}","/**\r\n *Created by renjianfeng\r\n */\r\nexport class GuiManager {\r\n\r\n\r\n    private _fullscreenUI:any;\r\n\r\n    private _lastGui:any;\r\n\r\n    private guiPoll:any={};\r\n\r\n    private static instance: GuiManager;\r\n    public static get ins(): GuiManager {\r\n        if (!this.instance) {\r\n            this.instance = new GuiManager();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n\r\n    constructor(){\r\n        this._lastGui=null;\r\n        this._fullscreenUI=BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI(\"GUI\");\r\n      //  this._fullscreenUI.idealWidth=750;\r\n    }\r\n\r\n    public changeGui(gui,...args){\r\n        var _length=this._fullscreenUI.rootContainer.children.length\r\n        for(var i=0;i<_length;i++){\r\n            this._fullscreenUI.removeControl(this._fullscreenUI.rootContainer.children[0])\r\n        }\r\n        this._fullscreenUI.addControl(gui)\r\n        this._lastGui=gui\r\n    }\r\n\r\n\r\n    public appendGui(gui,...args){\r\n        this._fullscreenUI.addControl(gui)\r\n        this._lastGui=gui\r\n    }\r\n\r\n\r\n    public removeGui(gui,...args){\r\n        this._fullscreenUI.removeControl(this._lastGui)\r\n    }\r\n\r\n    public removeAll(gui,...args){\r\n        var _length=this._fullscreenUI.rootContainer.children.length\r\n        for(var i=0;i<_length;i++){\r\n            this._fullscreenUI.removeControl(this._fullscreenUI.rootContainer.children[0])\r\n        }\r\n    }\r\n\r\n    public openPanel(gui){\r\n\r\n    }\r\n    public closePanel(gui){\r\n\r\n    }\r\n\r\n\r\n    public get fullscreenUI(){\r\n        return this._fullscreenUI;\r\n    }\r\n\r\n    public get lastGui(){\r\n        return this._lastGui;\r\n    }\r\n}\r\n","export enum ModuleName {\r\n    //加载场景\r\n    LOADING_GUI = 'LoadingScene',\r\n    //等待面板\r\n    WAITING_PANEL = 'WaitingPanel',\r\n    //提示信息面板\r\n    MSG_PANEL = 'MsgPanel',\r\n    //游戏规则面板\r\n    RULE_PANEL = 'RulePanel',\r\n    //未中奖面板\r\n    LOSE_PANEL = 'LosePanel',\r\n    //开始场景\r\n    GAME_START_GUI = 'GameStartScene',\r\n    //游戏玩法场景\r\n    GAME_PLAY_SCENE = 'GamePlayScene',\r\n    //游戏玩法场景GUI\r\n    GAME_PLAY_GUI = 'GamePlayGui',\r\n\r\n}\r\n","export class DisplayPool{\r\n    private static instance: DisplayPool;\r\n\r\n    public static get ins(): DisplayPool {\r\n        if (!this.instance) {\r\n            this.instance = new DisplayPool();\r\n        }\r\n        return this.instance;\r\n    }\r\n    //场景名称\r\n    public displayPool: any = {};\r\n}","/**\r\n * Created by renjianfeng\r\n * 弹框动画UI控制器\r\n */\r\n\r\nexport class AnimationGui {\r\n    private static instance: AnimationGui;\r\n\r\n    protected scene;\r\n    protected advancedTexture;\r\n\r\n    constructor(scene,advancedTexture){\r\n        this.scene=scene;\r\n        this.advancedTexture=advancedTexture\r\n    }\r\n\r\n    public show = function (gui,open?,opened?) {\r\n        var keys = [];\r\n        keys.push({\r\n            frame: 0,\r\n            value: 0.1\r\n        });\r\n        keys.push({\r\n            frame: 10,\r\n            value: 1\r\n        });\r\n        var animationX = new BABYLON.Animation(\"\", \"scaleX\", 30, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\r\n        animationX.setKeys(keys);\r\n        var animationY = new BABYLON.Animation(\"\", \"scaleY\", 30, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\r\n        animationY.setKeys(keys);\r\n        gui.animations = [];\r\n        gui.animations.push(animationX,animationY);\r\n        this.advancedTexture.addControl(gui);\r\n        if(open){\r\n            open()\r\n        }\r\n        this.scene.beginAnimation(gui, 0, 10, false,2,()=>{\r\n            if(opened){\r\n                opened()\r\n            }\r\n        });\r\n    };\r\n\r\n    public hide = function(gui,close?,closed?){\r\n        var keys = [];\r\n        keys.push({\r\n            frame: 0,\r\n            value: 1\r\n        });\r\n        keys.push({\r\n            frame: 10,\r\n            value: 0.1\r\n        });\r\n        var animationX = new BABYLON.Animation(\"\", \"scaleX\", 30, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\r\n        animationX.setKeys(keys);\r\n        var animationY = new BABYLON.Animation(\"\", \"scaleY\", 30, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE);\r\n        animationY.setKeys(keys);\r\n        gui.animations = [];\r\n        gui.animations.push(animationX,animationY);\r\n        if(close){\r\n            close()\r\n        }\r\n        this.scene.beginAnimation(gui, 0, 10, false,2,()=>{\r\n            this.advancedTexture.removeControl(gui);\r\n            //this.advancedTexture.dispose();\r\n            if(closed){\r\n                closed()\r\n            }\r\n        });\r\n    };\r\n\r\n}\r\n\r\n","\r\n/**\r\n *Created by renjianfeng\r\n */\r\nimport {ModuleName} from \"../enum/ModuleName\";\r\nimport {DisplayPool} from \"../others/DisplayPool\";\r\nexport class GlobalManager {\r\n\r\n    //管理器单例\r\n    private static instance: GlobalManager;\r\n\r\n    public static get ins(): GlobalManager {\r\n        if (!this.instance) {\r\n            this.instance = new GlobalManager();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    /**\r\n     * 打开一个模块\r\n     * @param {ModuleName} moduleName\r\n     */\r\n    public openModule(moduleName:string, ...args): void {\r\n        DisplayPool.ins.displayPool[moduleName].show(...args)\r\n    }\r\n}","\r\nimport {AssetsManager, SceneManager} from \"../../public/index\";\r\nimport {DisplayPool} from \"../../public/index\";\r\nimport {ModuleName} from \"../../public/index\";\r\nimport {EventCon} from \"../../other/EventCon\";\r\nimport {ExGameScene} from \"./ExGameScene\";\r\nimport {GameScenes} from \"../../public/index\";\r\nimport {particleCon} from \"../../public/index\";\r\nimport {WeatherState} from \"../../public/index\";\r\nimport {Func} from \"../../public/index\";\r\n\r\nimport { FireCon } from './fireCon';\r\nimport { FlyCon } from './flyCon';\r\nimport { HotDecoyFlareCon } from './hotDecoyFlareCon';\r\nimport { MissileCon } from './MissileCon';\r\n\r\n\r\nexport class ExGameSceneCon extends GameScenes{\r\n    private static instance: ExGameSceneCon;\r\n\r\n    public static get ins(): ExGameSceneCon {\r\n        if (!this.instance) {\r\n            this.instance = new ExGameSceneCon();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n\r\n    protected display;\r\n\r\n    protected scene;\r\n\r\n    protected doEvents=[];\r\n\r\n    constructor(){\r\n        super()\r\n    }\r\n\r\n    protected importMeshes=[]\r\n\r\n\r\n    public init(){\r\n        DisplayPool.ins.displayPool[ModuleName.GAME_PLAY_SCENE]=this;\r\n    }\r\n\r\n \r\n    private rect2;\r\n    private rect3;\r\n    private image;\r\n\r\n    protected resetGame(){\r\n        ExGameScene.ins.creatScene()\r\n        var scene=SceneManager.ins.scene;\r\n        this.scene=SceneManager.ins.scene;\r\n        this.display=ExGameScene.ins.display;\r\n\r\n        //window.speechSynthesis.stop();\r\n       // msg.volume=4;\r\n       // console.log(msg);\r\n\r\n       setTimeout(()=>{\r\n        localStorage.msg=\"Hello, Welcome to fly the Typhoon fighter. \\n You can shoot by the left button of the mouse,\\n Change the view by right button, \\nand control the flight by dragging the mouse. \\n \\nYou can press the space bar and drag the mouse to view the free view.\\n You can release the jammer by pressing the 'E' key.\"\r\n\r\n        var msg = new SpeechSynthesisUtterance(localStorage.msg);\r\n        msg.lang=\"en\";\r\n       \r\n           window.speechSynthesis.speak(msg);\r\n       },1000)\r\n\r\n        //隐藏UI\r\n        SceneManager.ins.engine.displayLoadingUI();\r\n        SceneManager.ins.engine.loadingUIText = \"Initializing...\";\r\n        SceneManager.ins.engine.hideLoadingUI();\r\n\r\n\r\n        console.log(\"Pilot Head\")\r\n        console.log(this.scene.getMaterialByName(\"Pilot Head\"))\r\n\r\n\r\n        var l_state=true;\r\n       setInterval(()=>{\r\n          l_state=!l_state\r\n          if(l_state){\r\n            this.scene.getMaterialByName(\"Pilot Head\").emissiveColor=new BABYLON.Color3(0.2,0.2,0.2);\r\n          //  this.image.alpha=0;\r\n          }else{\r\n            this.scene.getMaterialByName(\"Pilot Head\").emissiveColor=new BABYLON.Color3(0.3,0.3,0.3);\r\n         //   this.image.alpha=1;\r\n          }\r\n       },10)\r\n\r\n       setInterval(()=>{\r\n           //  this.scene.getMeshByName(\"灯\").isVisible=true;\r\n             this.scene.getMeshByName(\"灯\").getChildMeshes(false,(mesh)=>{\r\n                mesh.isVisible=true;\r\n            })\r\n            setTimeout(()=>{\r\n                this.scene.getMeshByName(\"灯\").getChildMeshes(false,(mesh)=>{\r\n                    mesh.isVisible=false;\r\n                })\r\n            },50)\r\n       },1000)\r\n     \r\n   \r\n        this.scene.getMeshByName(\"气流1\").material.backFaceCulling=false;\r\n        this.scene.getMeshByName(\"气流2\").material.backFaceCulling=false;\r\n        this.scene.collisionsEnabled = false;\r\n\r\n        //安装飞行系统\r\n        FlyCon.ins.init(this.display)\r\n        //安装子弹系统\r\n        FireCon.ins.init(this.display)\r\n        HotDecoyFlareCon.ins.init(this.display)\r\n        MissileCon.ins.init(this.display)\r\n\r\n       // alert\r\n\r\n        this.scene.meshes.forEach((mesh)=>{\r\n            mesh.checkCollisions = false;;\r\n        })\r\n\r\n        var probe = new BABYLON.ReflectionProbe(\"main\", 64, this.scene);\r\n        probe.renderList.push( this.scene.getMeshByName(\"default\"));\r\n        probe.renderList.push(this.scene.getMeshByName(\"skySphere\"));\r\n        probe.refreshRate = BABYLON.RenderTargetTexture.REFRESHRATE_RENDER_ONCE;   \r\n        probe.attachToMesh(this.display.cameraBox);\r\n\r\n        this.scene.environmentTexture=AssetsManager.ins.resourceObject[\"cubeTextures\"][\"gameScene\"][\"skybox\"];\r\n        this.scene.workerCollisions=true;\r\n        this.scene.getMeshByName(\"__root__\").getChildMeshes(false,(mesh)=>{\r\n            console.log(mesh)\r\n            console.log(mesh.name)\r\n            mesh.isPickable=false;\r\n            this.display.shadowGenerator.getShadowMap().renderList.push(mesh);\r\n            mesh.receiveShadows = true;\r\n            if(mesh.name==\"Glass\"){\r\n                mesh.isBlocker=false;\r\n            }else{\r\n                mesh.isBlocker=true;\r\n            }\r\n            if(mesh.material){\r\n                mesh.material.backFaceCulling=false;\r\n                console.log(\"mesh.material\")\r\n                console.log(mesh.material)\r\n                mesh.material.usePhysicalLightFalloff = false;\r\n                mesh.material._usePhysicalLightFalloff = false;\r\n                mesh.material._environmentIntensity = 0.1;\r\n            }\r\n        })\r\n\r\n        this.scene.getMeshByName(\"__root__\").parent=this.display.cameraBox\r\n        this.scene.getMeshByName(\"__root__\").rotation.y=-Math.PI*1\r\n      //  this.scene.getMeshByName(\"__root__\").position.x=-0.1;\r\n        this.scene.getMeshByName(\"__root__\").position.y=-0;\r\n        this.display.cameraBox.scaling=new BABYLON.Vector3(10,10,10)\r\n      //  this.scene.getMeshByName(\"default\").material=this.display.terrainMaterial\r\n        this.scene.getMeshByName(\"default\").isPickable=true;\r\n        this.scene.getMeshByName(\"default\").isBlocker=true;\r\n        this.scene.getMeshByName(\"default\").scaling=new BABYLON.Vector3(40,40,40);\r\n        this.scene.getMeshByName(\"default\").material.diffuseTexture.uScale=4;\r\n        this.scene.getMeshByName(\"default\").material.diffuseTexture.vScale=4;\r\n        this.display.cameraBox.position.y=-10;\r\n\r\n        var renderTargetTexture = new BABYLON.RenderTargetTexture('tex', 512, scene);\r\n        renderTargetTexture.activeCamera = this.display.camera4;\r\n        renderTargetTexture.vScale=18;\r\n        renderTargetTexture.uScale=8;\r\n        renderTargetTexture.uOffset=1\r\n        renderTargetTexture.vOffset=-0.85\r\n        \r\n        this.scene.meshes.forEach((mesh)=>{\r\n            renderTargetTexture.renderList.push(mesh);\r\n        })\r\n       \r\n        \r\n\r\n        var sm= new BABYLON.StandardMaterial(\"jingzi\", scene);\r\n        sm.emissiveTexture = renderTargetTexture;\r\n        sm.disableLighting=true;\r\n        sm.backFaceCulling=false;\r\n       // sm.reflectionTexture = renderTargetTexture;\r\n       // this.display.jingzi.material =sm\r\n\r\n        \r\n\r\n        this.scene.getMeshByName(\"jinzi\").material=sm\r\n        this.display.jingzi.material=sm\r\n        //this.scene.getMeshByName(\"jinzi\").scaling.x=-0.1\r\n\r\n        scene.registerBeforeRender(function () {\r\n            renderTargetTexture.render();\r\n        })\r\n       \r\n        console.log(\"this.display.jingzi.material\")\r\n      //  console.log(this.display.jingzi.material)\r\n       // this.display.camera.target=this.display.cameraBox.position;\r\n\r\n\r\n// Mirror\r\n/* var mirror = BABYLON.Mesh.CreateBox(\"Mirror\", 1.0, scene);\r\nmirror.scaling = new BABYLON.Vector3(10000.0, 0.01, 10000.0);\r\nmirror.material = new BABYLON.StandardMaterial(\"mirror\", scene);\r\nmirror.material[\"reflectionTexture\"] = new BABYLON.MirrorTexture(\"mirror\", {ratio: 0.5}, scene, true);\r\nmirror.material[\"reflectionTexture\"].mirrorPlane = new BABYLON.Plane(0, -1.0, 0, -200.0);\r\nmirror.material[\"reflectionTexture\"].renderList = [this.scene.getMeshByName(\"default\"),this.display.skySphere];\r\nmirror.material[\"reflectionTexture\"].level = 1.0;\r\nmirror.material[\"reflectionTexture\"].adaptiveBlurKernel = 32;\r\nmirror.position = new BABYLON.Vector3(0, -800, 0); */\r\n    }\r\n    protected addEvent(){\r\n        this.doEvents[\"BeforeRender\"]=SceneManager.ins.scene.onBeforeRenderObservable.add(()=>{\r\n            this.beforeRender()\r\n        })\r\n    }\r\n\r\n    private times\r\n    protected beforeRender(){\r\n\r\n        if(!FlyCon.ins.flyLife){\r\n            return false;\r\n        }\r\n\r\n        this.times= 60/SceneManager.ins.engine.getFps();\r\n        FireCon.ins.update(this.times)\r\n        FlyCon.ins.update(this.times)\r\n        HotDecoyFlareCon.ins.update(this.times)\r\n        MissileCon.ins.update(this.times)\r\n        if(this.display.lens3.isOccluded){\r\n           // console.log(\"被遮挡\")\r\n          //  this.display.lensFlareSystem3.isEnabled=false;\r\n            \r\n        }else{\r\n         //   this.display.lensFlareSystem3.isEnabled=true;\r\n        }\r\n    }\r\n}\r\n","\r\nimport {Before} from \"./Before\";\r\n\r\nwindow.addEventListener(\"load\",()=>{\r\n\r\n    var ua = navigator.userAgent;\r\n\r\n    var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/),\r\n\r\n        isIphone =!ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/),\r\n\r\n        isAndroid = ua.match(/(Android)\\s+([\\d.]+)/),\r\n\r\n        isMobile = isIphone || isAndroid;\r\n\r\n//判断\r\n\r\n    if(isMobile){\r\ndocument.body.innerHTML= `\r\n    <style>\r\n        body{\r\n        text-align: center;\r\n        font-size: 1rem;\r\n        color: #349ccd;\r\n        }\r\n\r\n    h1{\r\n    margin-top: 10rem;\r\n    }\r\n    </style> \r\n    <h1>Hi!</h1>\r\n    Please access through PC, mobile phone temporarily not supported!\" <br>(请通过PC访问，手机暂时不支持！)`;\r\n    }else{\r\n        Before.ins.update();\r\n    }\r\n\r\n\r\n})\r\n","\r\nimport {ResourceCon} from \"./other/ResourceCon\";\r\nimport {SceneBeforeCall} from \"./other/SceneBeforeCall\";\r\nimport {AssetsManager} from \"./public/index\"\r\nimport {SceneManager} from \"./public/index\";\r\nimport {GlobalManager} from \"./public/index\";\r\nimport {DisplayPool} from \"./public/index\";\r\nimport {ModuleName} from \"./public/index\"\r\nimport {ExGameSceneCon} from \"./Scene/GameScene/ExGameSceneCon\";\r\nimport {ExGameSceneGuiCon} from \"./Gui/GameSceneGui/ExGameSceneGuiCon\";\r\nimport {ExStartGuiCon} from \"./Gui/StartGui/ExStartGuiCon\";\r\n\r\n\r\n\r\nexport class Before{\r\n\r\n\r\n    private static instance: Before;\r\n\r\n    public static get ins(): Before {\r\n        if (!this.instance) {\r\n            this.instance = new Before();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n\r\n    public update(){\r\n        AssetsManager.ins.resourceData=ResourceCon.ins.resource;\r\n        AssetsManager.ins.loadFile([\"gameScene\"],SceneManager.ins.scene,()=>{\r\n            this.initModule()\r\n            console.log(DisplayPool.ins.displayPool)\r\n            GlobalManager.ins.openModule(ModuleName.GAME_START_GUI);\r\n            SceneBeforeCall.ins.musicLoop();\r\n        },(e,assetsManager)=>{\r\n            console.log(e.loadCount)\r\n            console.log(e)\r\n            console.log(assetsManager)\r\n            SceneManager.ins.engine.loadingUIText = \"loading:\"+parseInt((e.loadCount*100).toString()) +\"%<br><br>(\"+(e.totalTasksCount-e.waitingTasksCount)+\"/\"+e.totalTasksCount+\")\";\r\n        })\r\n    }\r\n\r\n    protected addEvent(): void {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 安装GUI/3D场景模块\r\n     * */\r\n\r\n    public initModule(){\r\n        //游戏3D场景\r\n        ExGameSceneCon.ins.init();\r\n        ExStartGuiCon.ins.init();\r\n        ExGameSceneGuiCon.ins.init();\r\n    }\r\n\r\n}\r\n","import {ResourceData} from \"../public/index\"\r\n\r\nexport class ResourceCon {\r\n\r\n    private _resource;\r\n\r\n    private static instance: ResourceCon;\r\n\r\n    public static get ins(): ResourceCon {\r\n        if (!this.instance) {\r\n            this.instance = new ResourceCon();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    private pathFirst=window[\"resPath\"]\r\n\r\n    constructor(){\r\n        let gameScene:ResourceData;\r\n\r\n        gameScene={\r\n            binarys:[\r\n                {name:\"zhanji\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"zhanji4.mp3\"},\r\n                {name:\"qiang\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"qiang7.mp3\"},\r\n                {name:\"daodan\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"daodan.mp3\"},\r\n                {name:\"dan\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"qiang2.mp3\"},\r\n                {name:\"win\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"mu_2.mp3\"},\r\n                {name:\"win2\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"mu_1.mp3\"},\r\n                {name:\"boom\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"boom.mp3\"},\r\n               // {name:\"sm14\", filePath:this.pathFirst+\"src/Resource/gameScene/binarys/\", fileName:\"sm14.glb\"},\r\n            ],\r\n            images:[\r\n            \r\n                {name:\"after\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"after.jpg\"},\r\n                {name:\"night\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"night.jpg\"},\r\n                {name:\"rain\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"rain.jpg\"},\r\n                {name:\"sun\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"sun.jpg\"},\r\n                {name:\"map1\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"map_1.jpg\"},\r\n                {name:\"map2\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"map_2.jpg\"},\r\n                {name:\"map3\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"map_3.jpg\"},\r\n                {name:\"logo\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"logo.png\"},\r\n                {name:\"jiantou\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"jiantou.png\"},\r\n                {name:\"jiantou2\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"jiantou4.png\"},\r\n                {name:\"jiantou3\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"jiantou3.png\"},\r\n                {name:\"lensdirt\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"lensdirt.jpg\"},\r\n              //  {name:\"lens\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"lens.jpg\"},\r\n                {name:\"lens2\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"lens4.jpg\"},\r\n                {name:\"ico_b\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"ico_b.png\"},\r\n                {name:\"ico_bg\", filePath:this.pathFirst+\"src/Resource/gameScene/images/ui/\", fileName:\"ico_bg.png\"},\r\n            ],\r\n            models:[\r\n               \r\n              /*   {name:\"wheel\", filePath:this.pathFirst+\"src/Resource/gameScene/models/car2/\", fileName:\"wheel.babylon\"},\r\n                {name:\"map1\", filePath:this.pathFirst+\"src/Resource/gameScene/models/height_m2/\", fileName:\"height_m18.babylon\"},\r\n                {name:\"map2\", filePath:this.pathFirst+\"src/Resource/gameScene/models/height_m2/\", fileName:\"height_m15.babylon\"},*/\r\n                {name:\"map3\", filePath:this.pathFirst+\"src/Resource/gameScene/models/height_m2/\", fileName:\"height_m22.babylon\"}, \r\n                {name:\"sm14\", filePath:this.pathFirst+\"src/Resource/gameScene/models/sm14/\", fileName:\"sm108.glb\"},\r\n            ],\r\n            textures:[\r\n                {name:\"grass\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"grass.png\"},\r\n                {name:\"boom\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"boom.jpg\"},\r\n                {name:\"grass2\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"grass.jpg\"},\r\n                {name:\"skybox13\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"skybox6.png\"},\r\n                {name:\"ground\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"ground.jpg\"},\r\n                {name:\"maptr\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"maptr.jpg\"},\r\n                {name:\"maptr2\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"maptr5.jpg\"},\r\n                {name:\"stainedGlass\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"stainedGlass.png\"},\r\n                {name:\"waterbump\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"waterbump.png\"},\r\n                {name:\"yu\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"yu.png\"},\r\n                {name:\"lighting\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"lighting4.png\"},\r\n\r\n                {name:\"flare\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"flare.png\"},\r\n                {name:\"lensstar\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"lensstar.jpg\"},\r\n                {name:\"yun\", filePath:this.pathFirst+\"src/Resource/gameScene/textures/\", fileName:\"yun.png\"},\r\n\r\n            ],\r\n            cubeTextures:[\r\n                {name:\"skybox\", filePath:this.pathFirst+\"src/Resource/gameScene/cubeTextures/skybox/\", fileName:\"skybox\",}\r\n            ]\r\n        };\r\n\r\n\r\n\r\n        this._resource={\r\n            gameScene:gameScene,\r\n        }\r\n    }\r\n\r\n    public get resource(): object {\r\n        return this._resource;\r\n    }\r\n}","import {SceneManager} from \"../public/index\"\r\nimport {AssetsManager} from \"../public/index\"\r\n\r\n\r\n/**\r\n * 全局执行函数\r\n *\r\n *\r\n* */\r\nexport class SceneBeforeCall {\r\n    private static instance: SceneBeforeCall;\r\n\r\n    public static get ins(): SceneBeforeCall {\r\n        if (!this.instance) {\r\n            this.instance = new SceneBeforeCall();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    public game_bg:any;\r\n\r\n    constructor(){}\r\n\r\n    public musicLoop(){\r\n      /*  this.game_bg = new BABYLON.Sound(\"Cello\",AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"game_bg\"][\"url\"], SceneManager.ins.scene,()=>{\r\n            this.game_bg.play()\r\n            this.game_bg.setVolume(0.5)\r\n        },{loop:true});*/\r\n    }\r\n}","import {Module} from \"../Module\";\r\nimport {SceneManager} from \"../../manager/SceneManager\";\r\nimport {GlobalManager} from \"../../manager/GlobalManager\";\r\nimport {ModuleName} from \"../../enum/ModuleName\";\r\n\r\nexport class GameScenes extends Module{\r\n\r\n    //场景名称\r\n    protected sceneName:string;\r\n\r\n    protected isInit:boolean;\r\n\r\n    /**\r\n     * 是否校验积分\r\n     */\r\n    protected checkScore: boolean;\r\n\r\n    /**\r\n     * 开始游戏数据\r\n     */\r\n  //  protected doStartData: DoStartData;\r\n\r\n    /**\r\n     * 扩展数据\r\n     * */\r\n    protected other: any;\r\n\r\n\r\n    protected score;\r\n\r\n    // protected display:any;\r\n\r\n    constructor(){\r\n        super()\r\n    }\r\n\r\n    //销毁\r\n    public dispose(){\r\n        var j;\r\n        for(j in this.display){\r\n            console.log(this.display[j])\r\n            if( this.display[j]){\r\n                this.display[j].dispose()\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public show(data){\r\n        this.resetGame()\r\n        SceneManager.ins.change(this.display);\r\n        this.addEvent()\r\n    }\r\n\r\n    protected resetGame(){\r\n\r\n    }\r\n\r\n    protected gameOver(): void {\r\n        this.removeEvent();\r\n        //将最高纪录缓存\r\n    }\r\n}","export enum WeatherState {\r\n    //晴天\r\n    SUNNY_DAY = 0,\r\n    //雨天\r\n    RAIN_DAY = 1,\r\n    //下午\r\n    AFTERNOON_DAY = 2,\r\n    //晚上\r\n    NIGHT_DAY = 3,\r\n}\r\n","/**\r\n *Created by renjianfeng\r\n */\r\nexport class AssetsManager {\r\n    private _resourceData;\r\n    private _resourceObject:object;\r\n\r\n\r\n    private static instance: AssetsManager;\r\n\r\n    public static get ins(): AssetsManager {\r\n        if (!this.instance) {\r\n            this.instance = new AssetsManager();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    constructor(){\r\n        //this._resourceData=ResourceCon.ins.resource;\r\n        this._resourceObject={\r\n            binarys:{},\r\n            images:{},\r\n            models:{},\r\n            textures:{},\r\n            cubeTextures:{}\r\n        }\r\n\r\n        BABYLON.SceneLoader.OnPluginActivatedObservable.add(function (plugin) {\r\n            // currentPluginName = plugin.name;\r\n                 if (plugin.name === \"gltf\" && plugin instanceof BABYLON.GLTFFileLoader) {\r\n                     plugin.animationStartMode = BABYLON.GLTFLoaderAnimationStartMode.NONE;\r\n                     plugin.compileMaterials = true;\r\n                 }\r\n        });\r\n    }\r\n\r\n    public set resourceData(resource){\r\n        this._resourceData=resource;\r\n    }\r\n\r\n    public loadFile(sceneNames:Array<string>,scene,callback,progress){\r\n\r\n        let assetsManager = new BABYLON.AssetsManager(scene);\r\n\r\n        sceneNames.forEach(function(sceneName){\r\n            //加载模型\r\n            var _thisModel={}\r\n            this._resourceData[sceneName].models.forEach(function(model,plugin){\r\n                let meshTask = assetsManager.addMeshTask(\r\n                    \"skull task\",\r\n                    \"\",\r\n                    model.filePath,\r\n                    model.fileName\r\n                );\r\n              \r\n                meshTask.onSuccess = function (task) {\r\n\r\n                    console.log(\"meshTask\")\r\n                    console.log(task)\r\n                  /*  let _thisMesh = BABYLON.MeshBuilder.CreateBox(\"\", {}, scene);\r\n                    _thisMesh.isVisible=false;\r\n                    _thisMesh.position=new BABYLON.Vector3(0,0,0);\r\n                    task.loadedMeshes.forEach(function(mesh){\r\n                        mesh.isVisible=false;\r\n                       // mesh.position=new BABYLON.Vector3(0,0,0);\r\n                        mesh.parent=_thisMesh;\r\n                     /!*   mesh.getChildMeshes(false,function(child){\r\n                            child.parent=_thisMesh;\r\n                        })*!/\r\n                        //_thisMesh.addChild(mesh)\r\n                    }.bind(this))*/\r\n\r\n                  /*   task.loadedMeshes.forEach(function(mesh){\r\n                        mesh.isVisible=false;\r\n                        mesh.name=\"noneisVisible_\"+mesh;\r\n                    })\r\n */\r\n                    let _thisMesh=task;\r\n\r\n                   // this._resourceObject.models[model.name]=_thisMesh;\r\n                    _thisModel[model.name]=_thisMesh\r\n                    this._resourceObject.models[sceneName]=_thisModel;\r\n\r\n                }.bind(this)\r\n            }.bind(this))\r\n\r\n\r\n            //加载图片\r\n            var _thisImage={}\r\n            this._resourceData[sceneName].images.forEach(function(image){\r\n                let imageTask = assetsManager.addImageTask(\r\n                    \"image task\",\r\n                    image.filePath+image.fileName,\r\n                );\r\n                imageTask.onSuccess = function (task) {\r\n                    _thisImage[image.name]=task.image\r\n                    this._resourceObject.images[sceneName]=_thisImage;\r\n                }.bind(this)\r\n            }.bind(this))\r\n\r\n\r\n\r\n\r\n            //加载贴图\r\n            var _thisTexture={}\r\n            this._resourceData[sceneName].textures.forEach(function(texture){\r\n                let textureTask = assetsManager.addTextureTask(\r\n                    \"texture task\",\r\n                    texture.filePath+texture.fileName,\r\n                );\r\n                textureTask.onSuccess = function (task) {\r\n                    _thisTexture[texture.name]=task.texture\r\n                    this._resourceObject.textures[sceneName]=_thisTexture;\r\n                }.bind(this)\r\n            }.bind(this))\r\n\r\n\r\n            //加载二进制文件\r\n            var _thisBinary={}\r\n            this._resourceData[sceneName].binarys.forEach(function(binary){\r\n                let binaryTask = assetsManager.addBinaryFileTask(\r\n                    \"binary task\",\r\n                    binary.filePath+binary.fileName,\r\n                );\r\n                binaryTask.onSuccess = function (task) {\r\n                    console.log(6666677)\r\n\r\n                    _thisBinary[binary.name]=task.data\r\n                    _thisBinary[binary.name][\"url\"]=task.url\r\n                    _thisBinary[binary.name][\"rootUrl\"]=binary.filePath\r\n                    _thisBinary[binary.name][\"sceneFilename\"]=binary.fileName\r\n                    this._resourceObject.binarys[sceneName]=_thisBinary;\r\n\r\n                    console.log(_thisBinary[binary.name])\r\n                }.bind(this)\r\n            }.bind(this))\r\n\r\n\r\n            //加载天空盒子/环境贴图\r\n            var _thisCubeTexture={}\r\n            this._resourceData[sceneName].cubeTextures.forEach(function(cubeTexture){\r\n                let cubeTextureTask = assetsManager.addCubeTextureTask(\r\n                    \"cubeTexture task\",\r\n                    cubeTexture.filePath+cubeTexture.fileName,\r\n                );\r\n                cubeTextureTask.onSuccess = function (task) {\r\n                    _thisCubeTexture[cubeTexture.name]=task.texture\r\n                    this._resourceObject.cubeTextures[sceneName]=_thisCubeTexture;\r\n                }.bind(this)\r\n            }.bind(this))\r\n\r\n        }.bind(this))\r\n\r\n        assetsManager.load();\r\n\r\n\r\n        //加载成功一个子元素调用\r\n        assetsManager.onProgress=function(task) {\r\n            var _this={\r\n                totalTasksCount:assetsManager._totalTasksCount,\r\n                waitingTasksCount:assetsManager._waitingTasksCount,\r\n                loadCount:(assetsManager._totalTasksCount-assetsManager._waitingTasksCount)/assetsManager._totalTasksCount\r\n            }\r\n            progress(_this,assetsManager)\r\n\r\n        }.bind(this);\r\n\r\n        //全部加载成功调用\r\n        assetsManager.onFinish=function(task) {\r\n            callback()\r\n        }.bind(this);\r\n\r\n    }\r\n\r\n    public get resourceObject(){\r\n        return this._resourceObject;\r\n    }\r\n\r\n}","import {GuiCreate} from \"./GuiCreate\";\r\n\r\n/**\r\n * Created by renjianfeng\r\n *动画控制器\r\n */\r\nexport class AnimationCon {\r\n    private static instance: AnimationCon;\r\n    private setbeginAnimation;\r\n\r\n    public static  get  ins():AnimationCon{\r\n        if(!this.instance){\r\n            this.instance=new AnimationCon()\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    constructor(){}\r\n\r\n    public animationBody(object,scene){\r\n        //动画模式\r\n        var _endattr;\r\n\r\n        //动画对象\r\n        var _mesh;\r\n\r\n        //动画属性\r\n        var _attr;\r\n\r\n        //动画速度\r\n        var _speed;\r\n\r\n        //动画帧\r\n        var _keys;\r\n\r\n        //动画结束回调函数\r\n        var _endCall;\r\n\r\n        //动画数据类型\r\n        var _typeData\r\n\r\n        //动画数据类型\r\n        var _loop;\r\n\r\n        if(object.endattr!=null){\r\n            _endattr=object.endattr;\r\n        }else{\r\n            _endattr=BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE;\r\n        }\r\n\r\n        if(object.mesh!=null){\r\n            _mesh=object.mesh;\r\n        }else {\r\n            _mesh=null;\r\n            console.error(\"动画对象不能为空！\")\r\n        }\r\n\r\n        if(object.attr!=null){\r\n            _attr=object.attr;\r\n        }else {\r\n            _attr=null;\r\n            console.error(\"动画对象属性不能为空！\")\r\n        }\r\n\r\n        if(object.speed!=null){\r\n            _speed=object.speed;\r\n        }else {\r\n            _speed=10;\r\n        }\r\n\r\n        if(object.keys!=null){\r\n            _keys=object.keys;\r\n        }else {\r\n            _keys=[];\r\n        }\r\n\r\n        if(object.endCall!=null){\r\n            _endCall=object.endCall\r\n        }else{\r\n            _endCall=function(){}\r\n        }\r\n\r\n\r\n        if(object.typeData!=null){\r\n            _typeData=object.typedata\r\n        }else{\r\n            _typeData=BABYLON.Animation.ANIMATIONTYPE_FLOAT\r\n        }\r\n\r\n\r\n        if(object.loop!=null){\r\n            _loop=object.loop\r\n        }else{\r\n            _loop=false;\r\n        }\r\n\r\n        var animationBox = new BABYLON.Animation(\"myAnimation\", _attr, _speed, _typeData, _endattr);\r\n        var keys = [];\r\n        keys=_keys\r\n        animationBox.setKeys(keys);\r\n        _mesh.animations.push(animationBox);\r\n        this.setbeginAnimation=scene.beginAnimation(_mesh, 0, _keys[_keys.length-1].frame, _loop);\r\n        this.setbeginAnimation.onAnimationEnd=function(){\r\n            _endCall()\r\n        }\r\n    }\r\n\r\n    public Pause(){\r\n        this.setbeginAnimation.pause()\r\n    }\r\n    public Reset(){\r\n        this.setbeginAnimation.reset()\r\n    }\r\n    public Speed(i){\r\n        this.setbeginAnimation.speedRatio=i\r\n    }\r\n\r\n}\r\n\r\n","/**\r\n * Created by rjf on 2017/10/10.\r\n * 粒子控制器\r\n */\r\n\r\nexport class particleCon {\r\n    private static instance: particleCon;\r\n    constructor(position,scene,particle){\r\n        this.fountain = BABYLON.Mesh.CreateBox(\"fountain\", 1.0, scene);\r\n        this.fountain.isPickable=false\r\n        this.fountain.visibility=0;\r\n        this.fountain.rotation.x=Math.PI*0.9;\r\n        this.particleSystem=particle;\r\n        //定义发射器\r\n        this.particleSystem.emitter = this.fountain; // the starting object, the emitter, a box in this case.\r\n        this.particleSystem.stop();\r\n        this.fountain.position=position;\r\n    }\r\n\r\n    private particleSystem;\r\n\r\n    private fountain;\r\n\r\n    public start(){\r\n        this.particleSystem.start();\r\n    }\r\n\r\n    public stop(){\r\n        this.particleSystem.stop();\r\n    }\r\n    public Position(position){\r\n        this.fountain.position=position;\r\n    }\r\n\r\n    public Parent(parent){\r\n        this.fountain.parent=parent;\r\n    }\r\n}\r\n\r\n","/**\r\n * GUI控制器\r\n * */\r\nimport {GuiManager} from \"../manager/GuiManager\";\r\n\r\nexport class GuiCreate{\r\n\r\n\r\n    private panelOut=new BABYLON.GUI.StackPanel();\r\n\r\n    private static  instance: GuiCreate;\r\n\r\n    public static  get  ins():GuiCreate{\r\n        if(!this.instance){\r\n            this.instance=new GuiCreate()\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    constructor(){}\r\n\r\n\r\n    public createList(name,options,scaleUi){\r\n        var rectOut=new BABYLON.GUI.Rectangle();\r\n        rectOut.thickness=0;\r\n        rectOut.isPointerBlocker=true;\r\n        rectOut.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n        rectOut.horizontalAlignment=BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        for (var key in options) {\r\n            if(rectOut[key]){\r\n                rectOut[key] = options[key];\r\n            }\r\n        }\r\n//            panelOut.height=1;\r\n        if(options&&options.isVertical){\r\n            this.panelOut.horizontalAlignment=2;\r\n            this.panelOut.verticalAlignment=0;\r\n            this.panelOut.isVertical  =true;\r\n            var mouse={\r\n                up:0,\r\n                down:0,\r\n            };\r\n            mouse.up=parseInt(this.panelOut.top.toString());\r\n            rectOut.onPointerDownObservable.add(function(e){\r\n                mouse.down= e.y;\r\n            });\r\n            rectOut.onPointerUpObservable.add((e)=>{\r\n                var topY=parseInt(this.panelOut.top.toString());\r\n                mouse.up=topY;\r\n                if(topY>0){\r\n                    this.panelOut.top=\"0px\";\r\n                    mouse.up= 0;\r\n                }\r\n                else if(parseInt(this.panelOut.top.toString())<parseInt(rectOut.height.toString())-parseInt(this.panelOut.height.toString())){\r\n                    var l=(parseInt(rectOut.height.toString())-parseInt(this.panelOut.height.toString()))*scaleUi;\r\n                    this.panelOut.top=l.toString()+\"px\";\r\n                    mouse.up= parseInt(this.panelOut.top);\r\n                }\r\n            });\r\n            rectOut.onPointerMoveObservable.add((e)=>{\r\n                var m=e.y-mouse.down;\r\n                var mul=(mouse.up+m)*scaleUi;\r\n                this.panelOut.top= mul.toString()+\"px\";\r\n            });\r\n        }else {\r\n            this.panelOut.horizontalAlignment=0;\r\n            this.panelOut.verticalAlignment=2;\r\n            this.panelOut.isVertical  =false;\r\n            var mouse={\r\n                up:0,\r\n                down:0\r\n            };\r\n            mouse.up=parseInt(this.panelOut.left.toString());\r\n            rectOut.onPointerDownObservable.add((e)=>{\r\n                mouse.down= e.x;\r\n            });\r\n            rectOut.onPointerUpObservable.add((e)=>{\r\n                var leftY=parseInt(this.panelOut.left.toString());\r\n                mouse.up=leftY;\r\n                if(leftY>0){\r\n                    this.panelOut.left=\"0px\";\r\n                    mouse.up= 0;\r\n                }\r\n                else if(parseInt(this.panelOut.left.toString())<parseInt(rectOut.width.toString())-parseInt(this.panelOut.width.toString())){\r\n                    var l=(parseInt(rectOut.width.toString())-parseInt(this.panelOut.width.toString()))*scaleUi;\r\n                    this.panelOut.left=l.toString()+\"px\";\r\n                    mouse.up= parseInt(this.panelOut.left);\r\n                }\r\n            });\r\n            rectOut.onPointerMoveObservable.add(function(e){\r\n                var m=e.x-mouse.down;\r\n                var mul=(mouse.up+m)*scaleUi;\r\n                this.panelOut.left= mul.toString()+\"px\";\r\n            });\r\n        }\r\n        rectOut.addControl(this.panelOut);\r\n        return rectOut\r\n    }\r\n\r\n\r\n    /**\r\n     * 横向滚动的奖品列表\r\n     * @example\r\n     *  this.optionsList({\r\n                    itemWidth:\"130px\",\r\n                    itemHeight:\"170px\",\r\n                    itemPaddingRight:\"30px\",\r\n                    logoWidth:\"100px\",\r\n                    logoHeight:\"100px\",\r\n                    logoTop:\"0px\",\r\n                    textWidth:\"100px\",\r\n                    textHeight:\"30px\",\r\n                    textTop:\"140px\",\r\n                    isVertical:false,\r\n                },data,this.guiObject)\r\n     *\r\n     * */\r\n    public optionsListCon(config,data,listTemplate){\r\n        var scaleUi=GuiManager.ins.fullscreenUI.idealWidth/document.getElementById(\"renderCanvas\").offsetWidth;\r\n        var prizeDatalist=this.createList(\"list\",{width:config.bodyWidth,height:config.bodyHeight,top:config.bodyTop,left:config.bodyLeft,isVertical:config.isVertical},scaleUi);\r\n        var _length=this.panelOut.children.length\r\n        if(_length>0){\r\n            for(var i=0;i<_length;i++){\r\n                this.panelOut.removeControl(this.panelOut.children[0])\r\n            }\r\n        }\r\n        data.optionList.forEach((_list)=>{\r\n            var list=listTemplate(config,_list)\r\n            this.panelOut.addControl(list)\r\n        })\r\n        return prizeDatalist\r\n    }\r\n\r\n}","import {SceneManager} from \"../../manager/SceneManager\";\r\nimport {GuiManager} from \"../../manager/GuiManager\";\r\nimport {Module} from \"../Module\";\r\n\r\nimport {AnimationGui} from \"../../others/AnimationGui\";\r\n\r\nexport class Panels extends Module{\r\n    //元素对象集合\r\n    protected scene;\r\n\r\n    //舞台容器\r\n    protected parent;\r\n\r\n    //页面容器\r\n    protected view;\r\n\r\n    //面板隐藏显示实例\r\n    protected panelsAn=new AnimationGui(SceneManager.ins.scene,GuiManager.ins.fullscreenUI)\r\n\r\n    constructor(){\r\n        super()\r\n    }\r\n\r\n    /**\r\n     * 显示\r\n     */\r\n    protected show(open?,opened?): void {\r\n        this.addEvent();\r\n        this.panelsAn.show(this.view,open,opened)\r\n    }\r\n\r\n    /**\r\n     * 隐藏\r\n     */\r\n    protected hide(close?,closed?): void {\r\n        this.removeEvent();\r\n        this.panelsAn.hide(this.view,close,closed)\r\n    }\r\n\r\n    //销毁\r\n}","import {SceneManager} from \"../../manager/SceneManager\";\r\nimport {GuiManager} from \"../../manager/GuiManager\";\r\nimport {Module} from \"../Module\";\r\n\r\nexport class Guis extends Module{\r\n    constructor(){\r\n        super();\r\n    }\r\n    //销毁\r\n}","import {Module} from \"../Module\";\r\nimport {AnimationGui} from \"../../others/AnimationGui\";\r\nimport {SceneManager} from \"../../manager/SceneManager\";\r\nimport {GuiManager} from \"../../manager/GuiManager\";\r\nimport {DisplayPool} from \"../../others/DisplayPool\";\r\nimport {ModuleName} from \"../../enum/ModuleName\";\r\nimport {GlobalManager} from \"../../manager/GlobalManager\";\r\n\r\n\r\nexport class StartGui extends Module {\r\n\r\n    //规则元素\r\n    protected section: any;\r\n\r\n    //元素对象集合\r\n    protected scene;\r\n\r\n    //舞台容器\r\n    protected parent;\r\n\r\n    //页面容器\r\n    protected view;\r\n\r\n    //事件\r\n    protected doEvents=[];\r\n\r\n    //游戏场景对象\r\n\r\n    protected gameSceneObject:any;\r\n\r\n\r\n    //面板隐藏显示实例\r\n    protected panelsAn=new AnimationGui(SceneManager.ins.scene,GuiManager.ins.fullscreenUI)\r\n\r\n    constructor(){\r\n        super()\r\n        this.initUI();\r\n    }\r\n\r\n    /**\r\n     * 显示\r\n     */\r\n    public show(data): void {\r\n        this.removeEvent();\r\n        this.updateData()\r\n        this.addEvent();\r\n        GuiManager.ins.changeGui(this.parent);\r\n    }\r\n\r\n\r\n    /**\r\n     * 隐藏\r\n     */\r\n    protected hide(): void {\r\n        this.removeEvent();\r\n        this.panelsAn.hide(this.view,()=>{\r\n            this.onClose()\r\n        },()=>{\r\n            this.onClosed()\r\n        })\r\n    }\r\n\r\n\r\n    /**\r\n     * 打开前\r\n     * */\r\n    protected onOpen(...args){\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 打开后\r\n     * */\r\n    protected onOpened(...args){\r\n\r\n    }\r\n\r\n\r\n    public init(){\r\n        DisplayPool.ins.displayPool[ModuleName.GAME_START_GUI]=this;\r\n    }\r\n\r\n\r\n    /**\r\n     * 添加事件\r\n     * */\r\n    protected addEvent(){\r\n\r\n    }\r\n\r\n\r\n    protected removeEvent(){\r\n    }\r\n\r\n\r\n    protected onClick_ruleBtn(): void {\r\n\r\n\r\n    }\r\n\r\n    protected onClick_optionBtn(): void {\r\n\r\n\r\n\r\n    }\r\n\r\n    protected onClick_startBtn(): void {\r\n        GlobalManager.ins.openModule(ModuleName.GAME_PLAY_GUI);\r\n    }\r\n\r\n    /**\r\n     * 更新页面\r\n     * @param args\r\n     */\r\n    public updateData(...args): void {\r\n        if (!this.isInit) {\r\n            this.initUI();\r\n            this.isInit = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 关闭前\r\n     * */\r\n    protected onClose(){\r\n        this.removeHtml()\r\n        //NetManager.ins.getInfo(this, DataManager.ins.gameCfgData.game.gameId);\r\n       // this.view.removeControl(this.optionsList)\r\n    }\r\n\r\n    protected removeHtml(){\r\n     //   console.log(this.section)\r\n        if(this.section){\r\n            // alert()\r\n            document.body.removeChild(this.section);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 关闭后\r\n     * */\r\n    protected onClosed(){\r\n        this.removeEvent()\r\n      //  GlobalManager.ins.openModule(\"StartGuiCon\");\r\n      //  GuiManager.ins.removeGui(this.parent);\r\n    }\r\n}","import {Module} from \"../Module\";\r\nimport {AnimationGui} from \"../../others/AnimationGui\";\r\nimport {SceneManager} from \"../../manager/SceneManager\";\r\nimport {GuiManager} from \"../../manager/GuiManager\";\r\nimport {ModuleName} from \"../../enum/ModuleName\";\r\nimport {DisplayPool} from \"../../others/DisplayPool\";\r\n\r\n\r\nexport class GameSceneGui extends Module{\r\n\r\n    //规则元素\r\n    protected section: any;\r\n\r\n    //元素对象集合\r\n    protected scene;\r\n\r\n    //舞台容器\r\n    protected parent;\r\n\r\n    //页面容器\r\n    protected view;\r\n\r\n    //事件\r\n    protected doEvents=[];\r\n\r\n\r\n    //面板隐藏显示实例\r\n    protected panelsAn=new AnimationGui(SceneManager.ins.scene,GuiManager.ins.fullscreenUI)\r\n\r\n    constructor(){\r\n        super()\r\n        this.initUI();\r\n    }\r\n\r\n    /**\r\n     * 显示\r\n     */\r\n    public show(data): void {\r\n        this.updateData()\r\n        this.addEvent();\r\n        GuiManager.ins.changeGui(this.parent);\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 隐藏\r\n     */\r\n    protected hide(): void {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 打开前\r\n     * */\r\n    protected onOpen(...args){\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * 打开后\r\n     * */\r\n    protected onOpened(...args){\r\n\r\n    }\r\n\r\n\r\n    public init(){\r\n        DisplayPool.ins.displayPool[ModuleName.GAME_PLAY_GUI]=this;\r\n    }\r\n\r\n\r\n    /**\r\n     * 添加事件\r\n     * */\r\n    protected addEvent(){\r\n\r\n    }\r\n\r\n\r\n    protected removeEvent(){\r\n\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 更新页面\r\n     * @param args\r\n     */\r\n    public updateData(...args): void {\r\n        this.removeEvent()\r\n        if (!this.isInit) {\r\n            this.initUI();\r\n            this.isInit = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 关闭前\r\n     * */\r\n    protected onClose(){\r\n    }\r\n\r\n    /**\r\n     * 关闭后\r\n     * */\r\n    protected onClosed(){\r\n        this.removeEvent()\r\n       // NetManager.ins.getInfo(this, DataManager.ins.gameCfgData.game.gameId);\r\n    }\r\n}","/**\n * Created by renjianfeng\n * 公共方法管理\n */\n\nexport class Func {\n    private static instance: Func;\n\n    public static get ins(): Func {\n        if (!this.instance) {\n            this.instance = new Func();\n        }\n        return this.instance;\n    }\n\n    /**\n     * 替换字符串中元素\n     * @param str\n     * @param replaceList\n     */\n\n    public replace(str, replaceList){\n        var len = replaceList.length;\n        for (var i = 0; i < len; i++) {\n            str = str.replace(\"{\" + i + \"}\", replaceList[i]);\n        }\n        return str;\n    }\n\n    /**\n     * 向下取整\n     * @param n\n     * @returns {*}\n     */\n\n    public toInt(n){\n        return n >> 0;\n    }\n\n    /**\n     * 判断操作系统\n     * @returns {Array|{index: number, input: string}}\n     */\n    public isIOS () {\n        return navigator.userAgent.match(/iphone|ipod|ipad/gi);\n    }\n\n\n    /**\n     * 给数组随机排序\n     * @param arr\n     */\n    public randomArr (arr) {\n        var len = arr.length;\n        for(var i = 0; i < len; i++) {\n            var n = this.random(0, arr.length, true);\n            var temp = arr[n];\n            arr[n] = arr[i];\n            arr[i] = temp;\n        }\n        return arr;\n    };\n\n\n    /**\n     * 范围随机数\n     * @param n1 范围起始\n     * @param n2 范围结束\n     * @param int 结果是否返回整数\n     * @return {*}\n     */\n    public random (n1, n2, int) {\n        var n;\n        if((typeof n1) != 'undefined' && (typeof n2) != 'undefined') {\n            n = Math.min(n1, n2) + Math.random() * Math.max(n1, n2);\n        } else {\n            n = Math.random();\n        }\n        if(int) {\n            n = this.toInt(n);\n        }\n        return n;\n    }\n\n\n     /** * 求两点距离 */ \n     public getDistance(x1: number, y1: number, z1: number, x2: number, y2: number,z2: number) \n     {   var _x: number = Math.abs(x1 - x2); \n         var _y: number = Math.abs(y1 - y2); \n         var _z: number = Math.abs(z1 - z2); \n         return Math.sqrt(_x * _x + _y * _y+ _z * _z); \n     }\n\n\n     //转换为本地轴\n     public vecToLocal(vector, mesh){\n        var m = mesh.getWorldMatrix();\n        var v = BABYLON.Vector3.TransformCoordinates(vector, m);\n\t\treturn v;\t\t \n    }\n\n\n  //  private DataManager;\n\n}\n\n","import {AssetsManager} from \"../../public/index\"\r\nimport {SceneManager} from \"../../public/index\"\r\nimport {WeatherState} from \"../../public/index\";\r\nimport Texture = BABYLON.Texture;\r\nimport Color3 = BABYLON.Color3;\r\n\r\nexport class ExGameScene{\r\n\r\n    private static instance: ExGameScene;\r\n\r\n    public static get ins(): ExGameScene {\r\n        if (!this.instance) {\r\n            this.instance = new ExGameScene();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    public display;\r\n\r\n    protected scene;\r\n\r\n    constructor(){\r\n       // super()\r\n    }\r\n\r\n\r\n    public creatScene(){\r\n        this.scene=SceneManager.ins.scene\r\n        //设置背景色\r\n        this.scene.clearColor=new BABYLON.Color4(52/255,156/255,255/255)\r\n      //  SceneManager.ins.engine.setHardwareScalingLevel(1)\r\n\r\n        /**\r\n         * 室内相机校准模型\r\n         * */\r\n        var cameraBox = BABYLON.MeshBuilder.CreateBox(\"camera2Box\", {height:  0.5, width: 0.5, depth: 0.5}, this.scene);\r\n        cameraBox.isVisible=false;\r\n        cameraBox.rotation=new BABYLON.Vector3(0,0,0)\r\n\r\n\r\n        //准星辅助模型\r\n        var pickMesh = BABYLON.MeshBuilder.CreateBox(\"pickMesh\", {height:  0.5, width: 0.5, depth: 0.5}, this.scene);\r\n        pickMesh.position=new BABYLON.Vector3(0,0,3000);\r\n        pickMesh.isPickable=false;\r\n        pickMesh.parent=cameraBox\r\n        pickMesh.isVisible=false;\r\n       // pickMesh.rotation=new BABYLON.Vector3(0,0,0)\r\n\r\n         /**\r\n             * 灯光延时跟随相机\r\n             */\r\n           \r\n\r\n         /**\r\n         * 室内相机校准模型\r\n         * */\r\n        var camera2Box = BABYLON.MeshBuilder.CreateBox(\"camera2Box\", {height:  0.5, width: 0.5, depth: 0.5}, this.scene);\r\n        camera2Box.position=new BABYLON.Vector3(0,0.5,-3);\r\n        camera2Box.isVisible=false;\r\n        camera2Box.rotation=new BABYLON.Vector3(0,0,0)\r\n\r\n        camera2Box.parent=cameraBox\r\n\r\n\r\n        var steering = BABYLON.MeshBuilder.CreateBox(\"steering\", {height:  2000, width: 2000, depth: 2000}, this.scene);\r\n        steering.visibility=0;\r\n        steering.scaling=new BABYLON.Vector3(0.001,0.001,0.001)\r\n        steering.rotation=new BABYLON.Vector3(0,0.3,Math.PI*0.5)\r\n\r\n\r\n             /**\r\n         * 室内相机\r\n         * */\r\n        var camera2 = new BABYLON.UniversalCamera(\"UniversalCamera\", new BABYLON.Vector3(0, 0.112, 0.31), this.scene);\r\n        camera2.speed=40;\r\n        camera2.inertia=0;\r\n        camera2.rotation.y=-Math.PI*2\r\n      //  camera2.rotation.z=-0.6\r\n        camera2.fov=1.6\r\n      /*   camera2.position.z=-3;\r\n        camera2.position.y=0.5; */\r\n        camera2.attachControl(SceneManager.ins.canvas);\r\n        camera2.detachControl(SceneManager.ins.canvas);\r\n      //  this.scene.activeCamera=camera2;\r\n        camera2.minZ=-5;\r\n        camera2.maxZ=2000000;\r\n        camera2.parent=cameraBox;\r\n       \r\n        var skyboxMaterial = new BABYLON.StandardMaterial(\"skyBox\", this.scene);\r\n        skyboxMaterial.backFaceCulling = false;\r\n        skyboxMaterial.diffuseTexture =  AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"skybox13\"].clone();\r\n        skyboxMaterial.emissiveTexture =  AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"skybox13\"].clone();\r\n        skyboxMaterial.specularColor = new BABYLON.Color3(0, 0, 0);\r\n           skyboxMaterial.emissiveColor  = new BABYLON.Color3(0, 0, 0);\r\n        skyboxMaterial.disableLighting = false;\r\n        \r\n\r\n        var skySphere = BABYLON.MeshBuilder.CreateSphere(\"skySphere\", {diameter: 100000}, this.scene);\r\n        skySphere.rotation.x=Math.PI;\r\n        skySphere.position.y=10000;\r\n        skySphere.material=skyboxMaterial\r\n        skySphere.applyFog=false;\r\n\r\n        var camera3 = new BABYLON.FollowCamera(\"FollowCam\", new BABYLON.Vector3(200, -300, 150), this.scene);\r\n        camera3.radius = -10;\r\n        console.log(\"camera\")\r\n        camera3.heightOffset = 5;\r\n        camera3.rotationOffset = 0;\r\n        camera3.cameraAcceleration = 0.8;\r\n        camera3.maxCameraSpeed = 300;\r\n        //camera3.isStereoscopicSideBySide=false;\r\n        camera3.noRotationConstraint=false;\r\n        camera3.fov=1.3\r\n        camera3.detachControl(SceneManager.ins.canvas);\r\n        camera3.update()\r\n        camera3.maxZ=2000000;\r\n        camera3.layerMask = 1;\r\n\r\n\r\n        this.scene.activeCamera=camera3;\r\n\r\n\r\n               /**\r\n         * 室内相机\r\n         * */\r\n        var camera4 = new BABYLON.UniversalCamera(\"UniversalCamera\", new BABYLON.Vector3(0, 0.112, 0.20), this.scene);\r\n        camera4.rotation.y=-Math.PI*1\r\n        camera4.rotation.z=-Math.PI*1\r\n        camera4.position.x=0\r\n        camera4.fov=1\r\n        camera4.detachControl(SceneManager.ins.canvas);\r\n        camera4.minZ=-5;\r\n        camera4.maxZ=2000000;\r\n        camera4.parent=cameraBox;\r\n      //  camera4.upVector = new BABYLON.Vector3(-1,-1, -3);\r\n\r\n        var camera5 = new BABYLON.ArcRotateCamera(\"Camera\", 0, 0, 10, new BABYLON.Vector3(0, 0, 0), this.scene);\r\n     //   camera5.rotation.y=-Math.PI*1\r\n    //    camera5.position.x=+0.05\r\n        camera5.upperRadiusLimit=3000;\r\n        camera5.lowerRadiusLimit=10;\r\n        camera5.fov=1\r\n        camera5.detachControl(SceneManager.ins.canvas);\r\n        camera5.minZ=-5;\r\n        camera5.maxZ=2000000;\r\n      \r\n\r\n        var jingzi =  BABYLON.MeshBuilder.CreatePlane(\"myPlane\", {width: 5, height: 5}, this.scene);\r\n       // jingzi.position==new BABYLON.Vector3(0,0,300000);\r\n       // jingzi.parent=cameraBox;\r\n\r\n        jingzi.position=new BABYLON.Vector3(0,0,3);\r\n        jingzi.isPickable=false;\r\n        jingzi.parent=cameraBox\r\n        jingzi.isVisible=false;\r\n       \r\n      //  camera4.layerMask = 0x20000000;\r\n\r\n      this.scene.activeCamera=camera3;\r\n      //  this.scene.activeCameras.push(camera3);\r\n      //  this.scene.activeCameras.push(camera4);\r\n     //   this.scene.activeCameras.push(camera5);\r\n       \r\n       \r\n       \r\n       // camera4.viewport = new BABYLON.Viewport(0, 0.8, 0.2, 0.2);\r\n       // camera5.viewport = new BABYLON.Viewport(0.8, 0.8, 0.2, 0.2);\r\n       // camera3.viewport = new BABYLON.Viewport(0, 0, 1.0, 1.0);\r\n        this.scene.cameraToUseForPointers = camera3;\r\n\r\n       // camera3.target = cameraBox;\r\n        camera3.lockedTarget = cameraBox;\r\n\r\n        var freeMateial=new BABYLON.StandardMaterial(\"free\",this.scene);\r\n        console.log(\"freeMateial\")\r\n        console.log(freeMateial)\r\n      //  freeMateial.disableLighting=true;\r\n        freeMateial[\"emissiveColor\"]=new BABYLON.Color3(1,1,1)\r\n        freeMateial[\"diffuseColor\"]=new BABYLON.Color3(0,0,0)\r\n        freeMateial[\"emissiveTexture\"]=AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"boom\"]\r\n\r\n        var boomMateial=new BABYLON.StandardMaterial(\"boom\",this.scene);\r\n        console.log(\"boomMateial\")\r\n        console.log(boomMateial)\r\n        boomMateial.disableLighting=true;\r\n        boomMateial[\"emissiveColor\"]=new BABYLON.Color3(1,1,1)\r\n        boomMateial[\"diffuseColor\"]=new BABYLON.Color3(0,0,0)\r\n        boomMateial[\"emissiveTexture\"]=AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"boom\"]\r\n\r\n\r\n       /*  var pipeline = new BABYLON.StandardRenderingPipeline(\r\n            \"standard\", // The name of the pipeline\r\n            this.scene, // The scene instance\r\n            1.0, // The rendering pipeline ratio\r\n            null, // The original post-process that the pipeline will be based on\r\n            [camera3] // The list of cameras to be attached to\r\n        );\r\n        //pipeline.LensFlareEnabled = true;\r\n        pipeline.lensTexture = AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"lensdirt\"];\r\n        pipeline.lensFlareHaloWidth = 1 */\r\n\r\n     //   pipeline.LensFlareEnabled = true;\r\n     //   pipeline.lensStarTexture = AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"lensstar\"];\r\n\r\n      //  lensdirt lensstar\r\n\r\n      //  pipeline.MotionBlurEnabled = true;\r\n      //  pipeline.BloomEnabled = true;\r\n\r\n     //   pipeline.motionStrength = 1.5;\r\n\r\n     //   pipeline.motionBlurSamples = 32.0;\r\n\r\n       /*  var pipeline = new BABYLON.DefaultRenderingPipeline(\r\n            \"default\", // The name of the pipeline\r\n            true, // Do you want HDR textures ?\r\n            this.scene, // The scene instance\r\n            [ camera3] // The list of cameras to be attached to\r\n             );\r\n        \r\n        pipeline.bloomEnabled = true;\r\n        \r\n        pipeline.bloomThreshold = 0.2;\r\n        pipeline.bloomWeight = 0.5;\r\n        pipeline.bloomKernel = 64;\r\n        pipeline.bloomScale = 0.5; */\r\n\r\n\r\n\r\n      /*  this.scene.fogMode = BABYLON.Scene.FOGMODE_EXP;\r\n        this.scene.fogDensity = 0.001;\r\n        this.scene.fogColor = new BABYLON.Color3(1,1,1);*/\r\n\r\n\r\n        /**\r\n         * 环境光\r\n         * */\r\n        var light = new BABYLON.HemisphericLight(\"HemiLight\", new BABYLON.Vector3(0, 10, 0), this.scene);\r\n        light.intensity=0.4\r\n        light.diffuse = new BABYLON.Color3(1, 1, 1);\r\n        light.groundColor = new BABYLON.Color3(1, 1, 1);\r\n       /*  var light2 = new BABYLON.HemisphericLight(\"HemiLight\", new BABYLON.Vector3(0, -10, 0), this.scene);\r\n        light2.intensity=0.4 */\r\n\r\n        /**\r\n         * 平行光\r\n         * */\r\n        var light3 = new BABYLON.DirectionalLight(\"DirectionalLight\", new BABYLON.Vector3(0.2, -0.3, 0.2), this.scene);\r\n        light3.intensity=3\r\n        //  light3.autoUpdateExtends=false;\r\n        light3.shadowFrustumSize=50\r\n        light3.shadowMinZ=-50\r\n        light3.shadowMaxZ=50\r\n\r\n\r\n        setInterval(()=>{\r\n            light3.position=new BABYLON.Vector3(\r\n                cameraBox.position.x,\r\n                cameraBox.position.y+1,\r\n                cameraBox.position.z-0\r\n            );\r\n        },50)\r\n\r\n\r\n        var shadowGenerator = new BABYLON.ShadowGenerator(2048, light3);\r\n        shadowGenerator.bias = 0.0004;\r\n        shadowGenerator.usePercentageCloserFiltering = true;\r\n        shadowGenerator.filteringQuality=0.1;\r\n        shadowGenerator.forceBackFacesOnly=true;\r\n\r\n\r\n        var terrainMaterial = new BABYLON[\"TerrainMaterial\"](\"terrainMaterial\", this.scene);\r\n\r\n    \r\n        terrainMaterial.mixTexture = AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"maptr2\"].clone()\r\n\r\n\r\n        var gl = new BABYLON.GlowLayer(\"glow\", this.scene);\r\n        gl.intensity = 1;\r\n   \r\n\r\n        terrainMaterial.diffuseTexture1 = AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"grass\"].clone()\r\n        terrainMaterial.diffuseTexture1.uScale=20\r\n        terrainMaterial.diffuseTexture1.vScale=20\r\n        terrainMaterial.diffuseTexture2 = AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"grass\"].clone()\r\n        terrainMaterial.diffuseTexture2.uScale=20\r\n        terrainMaterial.diffuseTexture2.vScale=20\r\n        terrainMaterial.diffuseTexture3 = AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"ground\"].clone()\r\n        terrainMaterial.diffuseTexture3.uScale=20\r\n        terrainMaterial.diffuseTexture3.vScale=20\r\n\r\n         //添加光晕\r\n\r\n         var lens3 = BABYLON.Mesh.CreateSphere(\"centerHidenPick\", 16, 1, this.scene);\r\n         lens3.occlusionType = BABYLON.AbstractMesh.OCCLUSION_TYPE_OPTIMISTIC;\r\n\r\n         lens3.occlusionQueryAlgorithmType = BABYLON.AbstractMesh.OCCLUSION_ALGORITHM_TYPE_CONSERVATIVE;\r\n         lens3.isOccluded = true;\r\n         //lens3.visibility=0\r\n         lens3.position=new BABYLON.Vector3(-30000, 4000, 0)\r\n\r\n         var lensFlareSystem3 = new BABYLON.LensFlareSystem(\"lensFlareSystem\", lens3, this.scene);\r\n         lensFlareSystem3[\"isBlocker\"]=true;\r\n        // var flare00 = new BABYLON.LensFlare(0.3, 1.3, new BABYLON.Color3(1,1,1), AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"ty\"].src, lensFlareSystem3);\r\n         var flare09 = new BABYLON.LensFlare(2.6, 0, new BABYLON.Color3(1,1,1), AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"lensdirt\"].src, lensFlareSystem3);\r\n         var flare10 = new BABYLON.LensFlare(1.6, 1, new BABYLON.Color3(0.5,0.5,0.5), AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"lens2\"].src, lensFlareSystem3);\r\n         var advancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI(\"UI\");\r\n         advancedTexture.layer.layerMask=1;\r\n\r\n         this.scene.fogMode = BABYLON.Scene.FOGMODE_EXP;\r\n         this.scene.fogDensity = 0.00005;\r\n         this.scene.fogColor = new BABYLON.Color3(0.8,0.8,0.8);\r\n    \r\n        this.display={\r\n            camera2:camera2,\r\n            camera3:camera3,\r\n            camera4:camera4,\r\n            camera5:camera5,\r\n            light:light,\r\n           // light2:light2,\r\n            light3:light3,\r\n            cameraBox:cameraBox,\r\n            camera2Box:camera2Box,\r\n            steering:steering,\r\n            terrainMaterial:terrainMaterial,\r\n            shadowGenerator:shadowGenerator,\r\n            freeMateial:freeMateial,\r\n            boomMateial:boomMateial,\r\n            lensFlareSystem3:lensFlareSystem3,\r\n            pickMesh:pickMesh,\r\n            advancedTexture:advancedTexture,\r\n            lens3:lens3,\r\n            jingzi:jingzi,\r\n        }\r\n\r\n        console.log(this.display)\r\n\r\n      //  GameSceneCon.ins.resetGame(this.display);\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n","/**\r\n * 子弹控制系统   by renjianfeng \r\n */\r\n\r\nimport {AssetsManager} from \"../../public\"\r\nimport {SceneManager} from \"../../public\"\r\nimport {Func} from \"../../public\"\r\n\r\nexport class FireCon{\r\n\r\n    private static instance: FireCon;\r\n\r\n    public static get ins(): FireCon {\r\n        if (!this.instance) {\r\n            this.instance = new FireCon();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    //子弹\r\n    private bullets=[]\r\n\r\n    //击中子弹爆炸\r\n    private booms=[]\r\n\r\n    //准星\r\n    private starUi\r\n    //准星图片\r\n    private image2\r\n\r\n    private ray\r\n    private hit\r\n    private display\r\n    private scene\r\n\r\n\r\n    //帧率时间补偿\r\n\r\n    private times;\r\n    private fireSpeed=30;\r\n\r\n    private j;\r\n    private freeState;\r\n\r\n    private musics;\r\n\r\n   \r\n\r\n    private creatMusic(){\r\n        this.musics={\r\n            qiang:new BABYLON.Sound(\"qiang\",[AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"qiang\"][\"url\"]] , this.scene,()=>{\r\n               \r\n            },{loop:false}),\r\n           \r\n        }\r\n    }\r\n\r\n    //创建UI\r\n    private creatUI(){\r\n        this.starUi = new BABYLON.GUI.Rectangle();\r\n        this.starUi.width = \"30px\";\r\n        this.starUi.height = \"30px\";\r\n        this.starUi.alpha=0.8;\r\n        this.starUi.thickness = 0;\r\n        this.display.advancedTexture.addControl( this.starUi);\r\n        this.image2 = new BABYLON.GUI.Image(\"but\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"jiantou3\"].src);\r\n        this.starUi.addControl(this.image2)\r\n    }\r\n\r\n    //初始化\r\n    public init(display){\r\n        this.scene=SceneManager.ins.scene;\r\n        this.display=display\r\n\r\n        //创建准星\r\n        this.creatUI()\r\n        //创建事件\r\n        this.addEvent()\r\n        this.creatMusic()\r\n\r\n        //创建子弹列表\r\n        for(var i=0;i<=160;i++){\r\n            this.bullets[i]= BABYLON.MeshBuilder.CreateSphere(\"frees\", {diameterX:  0.5, diameterY: 0.5, diameterZ: 80}, this.scene);\r\n            this.bullets[i].lifeState=false;\r\n            this.bullets[i].isPickable=false;\r\n            this.bullets[i].material=this.display.freeMateial;\r\n            this.bullets[i].checkCollisions = false;;\r\n        }\r\n\r\n        //创建爆炸列表\r\n        for(var i=0;i<=160;i++){\r\n            this.booms[i]= BABYLON.MeshBuilder.CreateSphere(\"boom\", {diameter: 10}, this.scene);\r\n            this.booms[i].boom=new TWEEN.Tween(this.booms[i].scaling);\r\n            this.booms[i].lifeState=false;\r\n            this.booms[i].isPickable=false;\r\n            this.booms[i].material=this.display.boomMateial;\r\n            this.bullets[i].checkCollisions = false;;\r\n        }\r\n\r\n        //获得位置\r\n        var origin = this.display.cameraBox.position;\r\n    \r\n        //创建向前矢量\r\n\t    var forward = new BABYLON.Vector3(0,0,1);\t\t\r\n\t    forward = Func.ins.vecToLocal(forward, this.display.cameraBox);\r\n    \r\n        //创建方向\r\n\t    var direction = forward.subtract(origin);\r\n\t    direction = BABYLON.Vector3.Normalize(direction);\r\n    \r\n        //创建属性\r\n\t    this.ray = new BABYLON.Ray(origin, direction, 3000);\r\n    }\r\n\r\n\r\n    //事件\r\n    private addEvent(){\r\n\r\n        this.freeState=false;\r\n\r\n        document.addEventListener(\"mousedown\",(e)=>{\r\n            if(e.button==0){\r\n                this.freeState=true;\r\n            }\r\n        })\r\n        document.addEventListener(\"mouseup\",(e)=>{\r\n            if(e.button==0){\r\n              this.freeState=false;\r\n            }\r\n        })\r\n\r\n        setInterval(()=>{\r\n            if(this.freeState){\r\n                this.musics.qiang.play()\r\n               // this.musics.qiang.setVolume(1)\r\n                var ram=Math.random()/100;\r\n                if(this.j<=this.bullets.length-1){\r\n                    this.bullets[this.j].position=new BABYLON.Vector3(this.display.cameraBox.absolutePosition.x+ram,this.display.cameraBox.absolutePosition.y+ram,this.display.cameraBox.absolutePosition.z) ;\r\n                    this.bullets[this.j].rotation=new BABYLON.Vector3(this.display.cameraBox.rotation.x+ram,this.display.cameraBox.rotation.y+ram,this.display.cameraBox.rotation.z);\r\n                    this.bullets[this.j].lifeState=true;\r\n                    this.j++;\r\n                  //  this.timerNpc.start();\r\n                }else{\r\n                    this.j=0;\r\n                    this.bullets[this.j].position=new BABYLON.Vector3(this.display.cameraBox.absolutePosition.x,this.display.cameraBox.absolutePosition.y,this.display.cameraBox.absolutePosition.z) ;\r\n                    this.bullets[this.j].rotation=new BABYLON.Vector3(this.display.cameraBox.rotation.x,this.display.cameraBox.rotation.y,this.display.cameraBox.rotation.z);\r\n                    this.bullets[this.j].lifeState=true;\r\n                }\r\n            }else{\r\n               // this.musics.qiang.setVolume(0)\r\n            }\r\n        },100)\r\n    }\r\n\r\n\r\n    private boom(i,free){\r\n        this.booms[i].position=new BABYLON.Vector3(free.position.x,free.position.y,free.position.z);\r\n            this.booms[i].scaling.x=4;\r\n            this.booms[i].scaling.y=4;\r\n            this.booms[i].scaling.z=4;\r\n            this.booms[i].boom.to({ x:1 ,y:1,z:1}, 1000);\r\n            this.booms[i].boom.start();\r\n            this.booms[i].boom.onComplete(()=>{\r\n            this.booms[i].scaling.x=0;\r\n            this.booms[i].scaling.y=0;\r\n            this.booms[i].scaling.z=0;\r\n        })\r\n    }\r\n\r\n    //更新方法\r\n    public update(times) {\r\n         this.times= times;\r\n         var origin = this.display.cameraBox.position;\r\n           var forward = new BABYLON.Vector3(0,0,1000);\t\t\r\n           forward = Func.ins.vecToLocal(forward, this.display.cameraBox);\r\n       \r\n           var direction = forward.subtract(origin);\r\n           direction = BABYLON.Vector3.Normalize(direction);\r\n \r\n           this.ray.origin = origin;\r\n           this.ray.direction =direction;\r\n \r\n           this.hit = this.scene.pickWithRay(this.ray);\r\n \r\n         var ram=Math.random;\r\n \r\n \r\n         if (this.hit.pickedMesh){\r\n            this.starUi.moveToVector3(this.hit.pickedPoint,this.scene)\r\n         }else{\r\n            this.starUi.linkWithMesh(this.display.pickMesh)\r\n         }\r\n \r\n         this.bullets.forEach((free,i)=>{\r\n             if(free.lifeState==true){\r\n                 var forword=new BABYLON.Vector3(free.forward.x*this.times*this.fireSpeed,free.forward.y*this.times*this.fireSpeed,free.forward.z*this.times*this.fireSpeed)\r\n                 free.moveWithCollisions(forword);\r\n                 free.isVisible=true;\r\n \r\n                 if (this.hit.pickedMesh){\r\n                     if(!free.boomPosition){\r\n                         free.boomPosition=new BABYLON.Vector3(this.hit.pickedPoint.x,this.hit.pickedPoint.y,this.hit.pickedPoint.z)\r\n                     }\r\n                }\r\n \r\n                  if(free.boomPosition){\r\n                     var jl2=Func.ins.getDistance(\r\n                         free.position.x,\r\n                         free.position.y, \r\n                         free.position.z, \r\n                         free.boomPosition.x,\r\n                         free.boomPosition.y, \r\n                         free.boomPosition.z, \r\n                         )\r\n     \r\n                      if(jl2<=50){\r\n                         free.lifeState=false;\r\n                         this.boom(i,free)\r\n                         free.boomPosition=null;\r\n                      }\r\n                  }\r\n                  \r\n                 var jl=Func.ins.getDistance(\r\n                     free.position.x,\r\n                     free.position.y, \r\n                     free.position.z, \r\n                     this.display.cameraBox.position.x, \r\n                     this.display.cameraBox.position.y, \r\n                     this.display.cameraBox.position.z\r\n                     )\r\n \r\n                if(jl>=3000){\r\n                     free.lifeState=false;\r\n                     free.boomPosition=null;\r\n                     this.boom(i,free)\r\n                }\r\n             }else{\r\n                 free.isVisible=false;\r\n             }\r\n         })\r\n     }\r\n}\r\n\r\n\r\n","\r\n/**\r\n * 飞行控制系统   by renjianfeng \r\n */\r\n\r\nimport {AssetsManager} from \"../../public\"\r\nimport {SceneManager} from \"../../public\"\r\nimport {Func} from \"../../public\"\r\nimport {BoomCon} from \"./boomCon\"\r\nimport { Vector3 } from \"babylonjs\";\r\n\r\nexport class FlyCon{\r\n\r\n    private static instance: FlyCon;\r\n\r\n    public static get ins(): FlyCon {\r\n        if (!this.instance) {\r\n            this.instance = new FlyCon();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n   \r\n    private display\r\n    private scene\r\n\r\n\r\n    //帧率时间补偿\r\n\r\n    private times;\r\n  \r\n\r\n    //UI系列\r\n    private rect2;\r\n    private rect3;\r\n    private image;\r\n\r\n    //通过空格键控制第一人称的自由视角\r\n    private freeView;\r\n\r\n    //视角\r\n    private viewState=true;\r\n\r\n    //飞行速度\r\n    private flySpeed=2;\r\n\r\n    private character\r\n\r\n    private musics;\r\n\r\n    private tipsText;\r\n    private tipsBg;\r\n\r\n    private ico_b\r\n    private ico_bg\r\n\r\n   \r\n\r\n    private creatMusic(){\r\n        this.musics={\r\n            zhanji:new BABYLON.Sound(\"zhanji\",[AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"zhanji\"][\"url\"]] , this.scene,()=>{\r\n                this.musics.zhanji.play()\r\n               /*  setInterval(()=>{\r\n                  setTimeout(()=>{\r\n                    this.musics.zhanji.stop()\r\n                  },50) \r\n                    this.musics.zhanji.play()\r\n                },600) */\r\n            },{loop:true}),\r\n\r\n            win:new BABYLON.Sound(\"zhanji\",[AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"win\"][\"url\"]] , this.scene,()=>{\r\n                this.musics.win.play()\r\n            },{loop:true}),\r\n\r\n            win2:new BABYLON.Sound(\"zhanji\",[AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"win2\"][\"url\"]] , this.scene,()=>{\r\n                this.musics.win2.play()\r\n            },{loop:true}),\r\n           \r\n        }\r\n\r\n        //this.musics.zhanji.attachToMesh(this.display.cameraBox);\r\n    }\r\n\r\n    //创建UI\r\n    private creatUI(){\r\n    \r\n    this.rect2 = new BABYLON.GUI.Rectangle();\r\n    this.rect2.scaleX=0.7;\r\n    this.rect2.scaleY=0.7;\r\n    this.rect2.alpha=0.8;\r\n    this.rect2.width = \"700px\";\r\n    this.rect2.height = \"400px\";\r\n   // this.rect1.cornerRadius = 5;\r\n    this.rect2.color = \"#009855\";\r\n    this.rect2.thickness = 0;\r\n\r\n  //  console.log(this.rect2)\r\n  //  console.log(\"this.rect2\")\r\n\r\n\r\n\r\n    this.rect3 = new BABYLON.GUI.Rectangle();\r\n\r\n    this.rect3.width = \"300px\";\r\n    this.rect3.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n    this.rect3.height = \"10800px\";\r\n    this.rect3.top=\"0\";\r\n    this.rect3.left=\"10px\";\r\n    this.rect3.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n    //this.rect1.cornerRadius = 5;\r\n    //this.rect3.background = \"#009855\";\r\n    this.rect3.thickness = 0;\r\n    this.rect2.addControl(this.rect3);\r\n\r\n\r\n   // AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"jiantou\"].clone()\r\n\r\n    this.image = new BABYLON.GUI.Image(\"but\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"jiantou\"].src);\r\n    this.image.width = \"30px\";\r\n  //  console.log( \"this.image\")\r\n  //  console.log( this.image)\r\n    this.image.height = \"15px\";\r\n    this.image.scaleX = -1;\r\n    this.image.top=\"192px\";\r\n    this.image.left=\"110px\";\r\n    this.image.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n    this.image.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n    this.rect2.addControl(this.image);  \r\n\r\n    var b5=[]\r\n    var b6=[]\r\n    var label=[]\r\n    var countB=360;\r\n    var chizi= new BABYLON.GUI.Image(\"but\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"jiantou2\"].src);\r\n    for(var i=0;i<=36;i++){\r\n      //  console.log(i)\r\n        countB-=30\r\n        if(countB<=0){\r\n            countB=360;\r\n        }\r\n        b5[i]= new BABYLON.GUI.Rectangle();\r\n        b5[i].verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n        b5[i].horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n        b5[i].top=50*i*3;\r\n        b5[i].left=\"-5px\"\r\n        b5[i].width = \"300px\";\r\n        b5[i].height = \"40px\";\r\n        //this.rect1.cornerRadius = 5;\r\n       // b5[i].background = \"#009855\";\r\n        b5[i].thickness = 0;\r\n        this.rect3.addControl( b5[i]);\r\n        label[i] = new BABYLON.GUI.TextBlock();\r\n        if(countB==0||countB==360){\r\n            label[i].text = \"\"+0+\"°\";\r\n            label[i].color=\"#ffffff\"\r\n        }else{\r\n            label[i].text = \"\"+countB+\"°\";\r\n            label[i].color=\"#129604\"\r\n        }\r\n        \r\n        \r\n        label[i].textHorizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n        label[i].fontSize=\"18px\"\r\n\r\n\r\n       \r\n\r\n        b5[i].addControl(label[i]);\r\n        b5[i].addControl(chizi);\r\n\r\n    }\r\n\r\n    \r\n    this.tipsBg = new BABYLON.GUI.Rectangle();\r\n   \r\n    this.tipsBg.alpha=0.8;\r\n    this.tipsBg.width = \"620px\";\r\n    this.tipsBg.height = \"140px\";\r\n   // this.rect1.cornerRadius = 5;\r\n   this.tipsBg.color = \"#009855\";\r\n   this.tipsBg.background = \"#444444\";\r\n   this.tipsBg.alpha = 0.2;\r\n   this.tipsBg.top=\"20px\"\r\n   this.tipsBg.thickness =1;\r\n   this.tipsBg.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n   this.tipsBg.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER; \r\n\r\n    this.tipsText = new BABYLON.GUI.TextBlock();\r\n    this.tipsText.width=\"600px\";\r\n    this.tipsText.height = \"140px\";\r\n    this.tipsText.color=\"#ffffff\"\r\n    this.tipsText.fontSize=\"14px\";\r\n    this.tipsText.text=\"提示\";\r\n    //this.tipsText.color=\"#ffffff\";\r\n    this.tipsText.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n  //  this.tipsText.textVerticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n    this.tipsText.top=\"20px\"\r\n    this.tipsText.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER; \r\n\r\n  \r\n\r\n    this.ico_bg = new BABYLON.GUI.Image(\"ico_bg\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"ico_bg\"].src);\r\n    this.ico_bg.width = \"200px\";\r\n //   console.log( \"this.ico_bg\")\r\n  //  console.log( this.ico_bg)\r\n    this.ico_bg.height = \"200px\";\r\n  //  this.ico_bg.scaleX = -1;\r\n   // this.ico_bg.top=\"-192px\";\r\n   // this.ico_b.left=\"110px\";\r\n    this.ico_bg.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER;\r\n    this.ico_bg.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n\r\n\r\n    this.ico_b = new BABYLON.GUI.Image(\"ico_b\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"ico_b\"].src);\r\n    this.ico_b.width = \"90px\";\r\n   // console.log( \"this.ico_b\")\r\n  //  console.log( this.ico_b)\r\n    this.ico_b.height = \"90px\";\r\n   // this.ico_b.scaleX = -1;\r\n  //  this.ico_b.top=\"-192px\";\r\n   // this.ico_b.left=\"110px\";\r\n    this.ico_b.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER;\r\n    this.ico_b.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n\r\n    \r\n\r\n\r\n    var b_bg=new BABYLON.GUI.Rectangle();\r\n    //b_bg.width=\"100px\";\r\n   // b_bg.height=\"100px\";\r\n    b_bg.top=\"30%\"\r\n    b_bg.left=\"30%\"\r\n    b_bg.alpha=0.9\r\n    b_bg.thickness = 0;\r\n    b_bg.verticalAlignment=BABYLON.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM;\r\n    b_bg.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n    b_bg.addControl(this.ico_bg)\r\n    b_bg.addControl(this.ico_b)\r\n\r\n  \r\n    this.display.advancedTexture.addControl( this.rect2);\r\n    this.display.advancedTexture.addControl( this.tipsBg);\r\n    this.display.advancedTexture.addControl( this.tipsText);\r\n    this.display.advancedTexture.addControl( b_bg);\r\n   \r\n\r\n    }\r\n\r\n    private ray\r\n    private hit\r\n\r\n    //初始化\r\n    public init(display){\r\n        this.scene=SceneManager.ins.scene;\r\n        this.display=display\r\n\r\n        //创建准星\r\n        this.creatUI()\r\n        //创建事件\r\n        this.addEvent()\r\n        //创建音频\r\n        this.creatMusic()\r\n\r\n        BoomCon.ins.init(this.display)\r\n\r\n       // this.sayWarning()\r\n\r\n       /*  setTimeout(()=>{\r\n            this.musics.zhanji.play()\r\n            console.log(\"this.musics.zhanji\")\r\n            console.log(this.musics.zhanji)\r\n            this.musics.zhanji.addEventListener(\"progress\",()=>{\r\n                if(this.musics.zhanji.currentTime==10){\r\n                    this.musics.zhanji.currentTime=6\r\n                }\r\n            })\r\n        },6000) */\r\n      //  currentTime=10\r\n\r\n        /* this.musics.zhanji.addEventListener(\"progress\",()=>{\r\n            if(this.musics.zhanji.currentTime==10){\r\n                this.musics.zhanji.currentTime=6\r\n            }\r\n        }) */\r\n\r\n          //获得位置\r\n          var origin = this.display.cameraBox.position;\r\n    \r\n          //创建向前矢量\r\n          var forward = new BABYLON.Vector3(0,0,1);\t\t\r\n          forward = Func.ins.vecToLocal(forward, this.display.cameraBox);\r\n      \r\n          //创建方向\r\n          var direction = forward.subtract(origin);\r\n          direction = BABYLON.Vector3.Normalize(direction);\r\n      \r\n          //创建属性\r\n          this.ray = new BABYLON.Ray(origin, direction, 3000);\r\n    }\r\n\r\n\r\n    //事件\r\n    private addEvent(){\r\n\r\n        this.freeView=false;\r\n\r\n        document.addEventListener(\"keydown\",(e)=>{\r\n            　if (e.keyCode == 86) {\r\n    　　      }\r\n              if (e.keyCode == 32) {\r\n                this.freeView=true;\r\n    　　      }\r\n        })\r\n\r\n        document.addEventListener(\"keyup\",(e)=>{\r\n              if (e.keyCode == 32) {\r\n                this.freeView=false;\r\n    　　      }\r\n        })\r\n        this.keyevent()\r\n    }\r\n\r\n    public flyLife=true;\r\n\r\n\r\n    //更新方法\r\n    public update(times){\r\n\r\n\r\n        this.rect2.linkWithMesh(this.display.pickMesh)\r\n\r\n        this.times= times;\r\n        this._s=this.moveX;\r\n        if(this.freeView==false){\r\n            this.display.cameraBox.rotation.z=-this.moveX*0.001;\r\n            this.display.camera2.rotation=new BABYLON.Vector3(0.3,-Math.PI*2,0)\r\n            if(this.moveY>=50||this.moveY<=-50){\r\n                this.display.cameraBox.rotation.x-=this.moveY/80000*this.times\r\n\r\n                this.musics.zhanji.setPlaybackRate(this.display.cameraBox.rotation.x/10+1)\r\n            }\r\n            if(this.display.cameraBox.rotation.x>Math.PI*2){\r\n                this.display.cameraBox.rotation.x=0\r\n            }\r\n  \r\n            if(this.display.cameraBox.rotation.x<=-Math.PI*2){\r\n                this.display.cameraBox.rotation.x=0\r\n            }\r\n             this.display.camera2.detachControl(SceneManager.ins.canvas);\r\n             this.display.camera5.detachControl(SceneManager.ins.canvas);\r\n\r\n             if(this.viewState==true){\r\n                this.scene.activeCamera=this.display.camera3;\r\n             }\r\n        }else{\r\n             this.display.camera2.attachControl(SceneManager.ins.canvas);\r\n             if(this.viewState==true){\r\n                 this.display.camera5.target=this.display.cameraBox.position;\r\n                 this.display.camera5.attachControl(SceneManager.ins.canvas);\r\n                 this.display.camera5.radius=20;\r\n                 this.scene.activeCamera=this.display.camera5;\r\n             }else{\r\n              //  this.scene.activeCamera=this.display.camera3;\r\n             }\r\n        }\r\n      \r\n       // this.scene.getMeshByName(\"尾翼\").rotation=new BABYLON.Vector3(0,1,0);\r\n        var gravity = 0;\r\n        this.character = this.display.cameraBox;\r\n       /*  this.character.ellipsoid = new BABYLON.Vector3(3,6, 3);\r\n        this.character.ellipsoidOffset = new BABYLON.Vector3(0, 3.2, 0); */\r\n        var forwards\r\n           this.canardUpdate()\r\n           this.empennageUpdate()\r\n           this.wingsUpdate()\r\n           this.airflowUpdate()\r\n\r\n           this.rect2.rotation=-this.display.cameraBox.rotation.z;\r\n\r\n       //    console.log(Math.PI*2)\r\n       //    console.log(this.display.cameraBox.rotation.z)\r\n\r\n           if(this.display.cameraBox.rotation.z>Math.PI/2){\r\n               this.display.cameraBox.rotation.y+=(this.display.cameraBox.rotation.z-Math.PI)/50*this.times;\r\n               //this.display.cameraBox.rotation.y+=0.01*this.times;\r\n           }else if( this.display.cameraBox.rotation.z<-Math.PI/2){\r\n               this.display.cameraBox.rotation.y+=(this.display.cameraBox.rotation.z+Math.PI)/50*this.times;\r\n                //this.display.cameraBox.rotation.y+=0.01*this.times;\r\n           }else{\r\n               this.display.cameraBox.rotation.y-=this.display.cameraBox.rotation.z/50*this.times;\r\n           }\r\n\r\n           \r\n\r\n          \r\n           this.rect3.top=(-1460-1800*this.display.cameraBox.rotation.x/(Math.PI*2))+\"px\";\r\n            if(this.display.cameraBox.rotation.z>0){\r\n               // console.log(\"2223355\")\r\n            }\r\n    \r\n            var forword=new BABYLON.Vector3(this.character.forward.x*2*this.times*this.flySpeed,this.character.forward.y*2*this.times*this.flySpeed,this.character.forward.z*2*this.times*this.flySpeed)\r\n     \r\n            this.character.moveWithCollisions(forword);\r\n\r\n            this.obstacleDetection()\r\n    }\r\n\r\n\r\n    //障碍检测\r\n\r\n    private obstacleCount=0;\r\n\r\n    private warningText=\"\"\r\n    private warnings=[0,0,0,0,0]\r\n\r\n    private obstacleDetection(){\r\n        \r\n        var origin = this.display.cameraBox.position;\r\n\r\n        if(this.obstacleCount>=5){\r\n            this.obstacleCount=0\r\n          }\r\n\r\n        //下方检测\r\n        if(this.obstacleCount==0){\r\n            var forward = new BABYLON.Vector3(0,-1000,0);\t\r\n        }\r\n\r\n         //上方检测\r\n         if(this.obstacleCount==1){\r\n            var forward = new BABYLON.Vector3(0,1000,0);\t\r\n        }\r\n\r\n          //前方检测\r\n          if(this.obstacleCount==2){\r\n            var forward = new BABYLON.Vector3(0,0,1000);\t\r\n        }\r\n\r\n          //右方检测\r\n          if(this.obstacleCount==3){\r\n            var forward = new BABYLON.Vector3(-1000,0,0);\t\r\n          }\r\n\r\n           //左方检测\r\n           if(this.obstacleCount==4){\r\n            var forward = new BABYLON.Vector3(1000,0,0);\t\r\n          }\r\n\r\n        forward = Func.ins.vecToLocal(forward, this.display.cameraBox);\r\n    \r\n        var direction = forward.subtract(origin);\r\n        direction = BABYLON.Vector3.Normalize(direction);\r\n\r\n        this.ray.origin = origin;\r\n        this.ray.direction =direction;\r\n\r\n        this.hit = this.scene.pickWithRay(this.ray);\r\n\r\n   //   var ram=Math.random;\r\n\r\n\r\n   \r\n           //下方检测\r\n        if(this.obstacleCount==0){\r\n           // var forward = new BABYLON.Vector3(0,-1000,0);\t\r\n           this.pickCall((_jl)=>{\r\n                this.warnings[0]=1\r\n               // console.log(\"下方危险\"+_jl)\r\n                this.warningText=\"Warning, Bottom collision，\"+parseInt(_jl.toString())+\" metres away\";\r\n           },()=>{\r\n              // console.log(\"前方\")\r\n               this.warnings[0]=0\r\n           },this.obstacleCount)\r\n           \r\n        }\r\n\r\n         //上方检测\r\n         if(this.obstacleCount==1){\r\n             this.pickCall((_jl)=>{\r\n                this.warnings[1]=1\r\n                  //  console.log(\"上方危险\"+_jl)\r\n                    this.warningText=\"Warning, Top collision，\"+parseInt(_jl.toString())+\" metres away\";\r\n                  //  this.musics.win.setVolume(1)\r\n            },()=>{\r\n              //  console.log(\"上方\")\r\n                this.warnings[1]=0\r\n            },this.obstacleCount)\r\n        }\r\n\r\n          //前方检测\r\n        if(this.obstacleCount==2){\r\n            this.pickCall((_jl)=>{\r\n                this.warnings[2]=1\r\n                 //   console.log(\"前方危险\"+_jl)\r\n                    this.warningText=\"Warning, Front  collision，\"+parseInt(_jl.toString())+\" metres away\";\r\n                   // this.musics.win.setVolume(1)\r\n            },()=>{\r\n                this.warnings[2]=0\r\n               },this.obstacleCount)\r\n        }\r\n\r\n          //左方检测\r\n          if(this.obstacleCount==3){\r\n              this.pickCall((_jl)=>{\r\n                this.warnings[3]=1\r\n                 //   console.log(\"左方危险\"+_jl)\r\n                    this.warningText=\"Warning, Left collision，\"+parseInt(_jl.toString())+\" metres away\";\r\n                  //  this.musics.win.setVolume(1)\r\n            },()=>{\r\n                this.warnings[3]=0\r\n               },this.obstacleCount)\r\n          }\r\n\r\n           //右方检测\r\n          if(this.obstacleCount==4){\r\n           \r\n            this.pickCall((_jl)=>{\r\n                this.warnings[4]=1\r\n                  //  console.log(\"右方危险\"+_jl)\r\n                    this.warningText=\"Warning, Right collision，\"+parseInt(_jl.toString())+\" metres away\";\r\n                   // this.musics.win.setVolume(1)\r\n            },()=>{\r\n                this.warnings[4]=0\r\n               },this.obstacleCount)\r\n               //console.log(\"左方\"+_jl)\t\t\t\r\n          }\r\n\r\n          this.obstacleCount++\r\n       \r\n\r\n\r\n          var ss=this.warnings.some((val) => {\r\n             return val===1; \r\n          });\r\n       //   console.log(\"ss\")\r\n       //   console.log(ss)\r\n          if(ss){\r\n          \r\n            if(this.jl>50){\r\n                this.musics.win.setVolume(0)\r\n                this.musics.win2.setVolume(2)\r\n            }else{\r\n                this.musics.win.setVolume(2)\r\n                this.musics.win2.setVolume(0)\r\n            }\r\n\r\n            if(this.jl<=10){\r\n                this.flyLife=false;\r\n                BoomCon.ins.boom(this.display.cameraBox.position);\r\n                this.musics.win.setVolume(0)\r\n                this.musics.win2.setVolume(0)\r\n                this.scene.getMeshByName(\"__root__\").scaling=new BABYLON.Vector3(0,0,0)\r\n            }\r\n           \r\n          }else{\r\n            this.musics.win.setVolume(0)\r\n            this.musics.win2.setVolume(0)\r\n          }\r\n          //console.log(this.warnings)\r\n         //this.starUi.moveToVector3(this.hit.pickedPoint,this.scene)\r\n      \r\n         this.sayWarning()\r\n   \r\n    }\r\n\r\n    private  _s=0;\r\n    private  _s_y=0;\r\n    private  moveX=0;\r\n    private  moveY=0;\r\n    private  eleImage;\r\n    private  jl\r\n\r\n\r\n    private pickCall(call,call2,obstacleCount){\r\n        if (this.hit.pickedMesh){\r\n            var _jl=Func.ins.getDistance(\r\n                this.hit.pickedPoint.x,\r\n                this.hit.pickedPoint.y, \r\n                this.hit.pickedPoint.z, \r\n                this.display.cameraBox.position.x,\r\n                this.display.cameraBox.position.y, \r\n                this.display.cameraBox.position.z, \r\n                )\r\n\r\n\r\n            //    this.musics.win2.setPlaybackRate((100-_jl)/200+1)\r\n\r\n                if(_jl<=100){\r\n                    call(_jl)\r\n                  \r\n                   // this.musics.win2.setPlaybackRate((100-_jl)/400+1)\r\n                   // this.musics.win.setPlaybackRate(1)\r\n                    this.jl=_jl\r\n                    \r\n                }else{\r\n                    call2()\r\n                    this.warningText=\"\"\r\n                   // localStorage.msg=this.warningText\r\n                }\r\n        }else{\r\n            call2()\r\n            this.warningText=\"\"\r\n          //  localStorage.msg=this.warningText\r\n        //this.starUi.linkWithMesh(this.display.pickMesh)\r\n        }\r\n    }\r\n\r\n\r\n    private sayWarning(){\r\n\r\n       // setInterval(()=>{\r\n          /*   if(this.warningText==\"\"){\r\n                //this.musics.win.setVolume(0)\r\n            }else{ */\r\n                //this.musics.win.setVolume(1)\r\n               // window.speechSynthesis.resume()\r\n               if(window.speechSynthesis.speaking==false){\r\n                   localStorage.msg=this.warningText\r\n                   if(this.warningText!=\"\"){\r\n                    var msg = new SpeechSynthesisUtterance(this.warningText);\r\n                    msg.lang=\"en\";\r\n                    window.speechSynthesis.speak(msg);\r\n                   }\r\n                   this.tipsText.text=localStorage.msg;\r\n               }else{\r\n                   this.tipsText.text=localStorage.msg;\r\n               }\r\n\r\n             //  console.log()\r\n\r\n               if(this.tipsText.text==\"\"){\r\n                  this.tipsBg.alpha=0\r\n               }else{\r\n                  this.tipsBg.alpha=0.4\r\n               }\r\n               \r\n            \r\n\r\n           \r\n\r\n          //  console.log(window.speechSynthesis)\r\n        //},200)\r\n    }\r\n\r\n\r\n\r\n    private keyevent():void{\r\n\r\n        document.addEventListener(\"click\",(e)=>{\r\n            // alert(e.button)\r\n             if(e.button==2){\r\n                 this.viewCtrl()\r\n                // console.log(4566588)\r\n             }\r\n        })\r\n\r\n\r\n     \r\n        var _qljstate=false;\r\n\r\n        document.addEventListener(\"keydown\",(e)=>{\r\n           \r\n\r\n            　if (e.keyCode == 82) {\r\n                _qljstate=!_qljstate;\r\n                if(_qljstate){\r\n                 \r\n                   this.scene.beginAnimation(this.scene.getMeshByName(\"前轮\"), 0, 0.7916666865348816, false);\r\n                   this.scene.beginAnimation(this.scene.getMeshByName(\"后轮\"), 0, 0.7916666865348816, false);\r\n                   this.scene.beginAnimation(this.scene.getMeshByName(\"后轮.001\"), 0, 0.7916666865348816, false);\r\n                   \r\n                }else{\r\n                   this.scene.beginAnimation(this.scene.getMeshByName(\"前轮\"),  0.7916666865348816,1.625, false);\r\n                   this.scene.beginAnimation(this.scene.getMeshByName(\"后轮\"),  0.7916666865348816,1.625, false);\r\n                   this.scene.beginAnimation(this.scene.getMeshByName(\"后轮.001\"),  0.7916666865348816,1.625, false);\r\n                }\r\n              }\r\n    　　     // }\r\n        })\r\n\r\n      \r\n      \r\n        this.eleImage = document.getElementById('renderCanvas');\r\n            if (this.eleImage) {\r\n                // 起始值\r\n              //  var moveX = 0, moveY = 0;\r\n                // 图片无限变换的方法\r\n                var rotate3D =  (event)=> {\r\n\r\n                    if(this.freeView==false){\r\n                       \r\n                        var _moveX =this.moveX + event.movementX;\r\n                        var _moveY =this.moveY + event.movementY;\r\n\r\n                        if(_moveX>=2000||_moveX<=-2000){\r\n                            this.moveX=this.moveX\r\n                            _moveX=this.moveX\r\n                        }else{\r\n                            this.moveX = _moveX;\r\n                        }\r\n\r\n                        this.moveX = _moveX;\r\n\r\n                        if(_moveY>=1500||_moveY<=-1500){\r\n                            this.moveY=this.moveY\r\n                            _moveY=this.moveY\r\n                        }else{\r\n                            this.moveY = _moveY;\r\n                        }\r\n                      //  this.moveY = this.moveY + event.movementY;\r\n    \r\n                        if(this.moveX*0.001>Math.PI*2){\r\n                            this.moveX=0\r\n                        }\r\n            \r\n                        if(this.moveX*0.001<=-Math.PI*2){\r\n                            this.moveX=0\r\n                        }\r\n\r\n                        this.ico_b.top=this.moveY/30\r\n                        this.ico_b.left=this.moveX/30\r\n                    }\r\n                 \r\n                };\r\n\r\n                // 触发鼠标锁定\r\n                this.eleImage.addEventListener('click',  (e)=> {\r\n                    this.eleImage.requestPointerLock();\r\n                });\r\n\r\n                // 再次点击页面，取消鼠标锁定处理\r\n              /*   document.addEventListener('click', ()=> {\r\n                    if (document.pointerLockElement == eleImage) {\r\n                        document.exitPointerLock();\r\n                    }\r\n                }); */\r\n\r\n\r\n\r\n                // 检测鼠标锁定状态变化\r\n                document.addEventListener('pointerlockchange', ()=> {\r\n\r\n                    if (document.pointerLockElement == this.eleImage) {\r\n                        document.addEventListener(\"mousemove\", rotate3D, false);\r\n\r\n                       \r\n                    } else {\r\n                        document.removeEventListener(\"mousemove\", rotate3D, false);\r\n                    \r\n                    }\r\n                }, false);\r\n            }\r\n\r\n           \r\n    }\r\n\r\n    private flayState=[];\r\n\r\n    private setMeshVal(mesh,state,val){\r\n\r\n\r\n        var _sd=[];\r\n        _sd[\"up-go\"+mesh.name]=this.scene.beginWeightedAnimation(mesh, 0, 0.7916666865348816*val,0, false);\r\n        _sd[\"up-back\"+mesh.name]=this.scene.beginWeightedAnimation(mesh, 0.7916666865348816, 1.625*val,0, false);\r\n        _sd[\"down-go\"+mesh.name]=this.scene.beginWeightedAnimation(mesh, 1.625, 2.4583332538604736*val,0, false);\r\n        _sd[\"down-back\"+mesh.name]=this.scene.beginWeightedAnimation(mesh, 2.4583332538604736, 3.2916667461395264*val,0, false);\r\n        _sd[\"back\"+mesh.name]=this.scene.beginWeightedAnimation(mesh, 3.0*val, 3.2916667461395264*val,0, false);\r\n\r\n        this.flayState[mesh.name]=state;\r\n\r\n       if(state==\"up-go\"){\r\n           //console.log(\"4455\")\r\n           _sd[\"up-go\"+mesh.name].weight = 1\r\n           _sd[\"up-back\"+mesh.name].weight = 0\r\n           _sd[\"down-go\"+mesh.name].weight = 0\r\n           _sd[\"down-go\"+mesh.name].weight = 0\r\n           _sd[\"back\"+mesh.name].weight = 0\r\n          /*  _sd.forEach((sd,i)=>{\r\n               console.log(\"sd\")\r\n               console.log(sd)\r\n               console.log(i)\r\n           }) */\r\n           \r\n       }\r\n\r\n       if(state==\"up-back\"){\r\n        _sd[\"up-go\"+mesh.name].weight = 0\r\n        _sd[\"up-back\"+mesh.name].weight = 1\r\n        _sd[\"down-go\"+mesh.name].weight = 0\r\n        _sd[\"down-go\"+mesh.name].weight = 0\r\n        _sd[\"back\"+mesh.name].weight = 0\r\n           // this.scene.beginAnimation(mesh, 0.7916666865348816, 1.625*val, false);\r\n       }\r\n\r\n       if(state==\"down-go\"){\r\n        _sd[\"up-go\"+mesh.name].weight = 0\r\n        _sd[\"up-back\"+mesh.name].weight = 0\r\n        _sd[\"down-go\"+mesh.name].weight = 1\r\n        _sd[\"down-back\"+mesh.name].weight = 0\r\n        _sd[\"back\"+mesh.name].weight = 0\r\n           // this.scene.beginAnimation(mesh, 1.625, 2.4583332538604736*val, false);\r\n       }\r\n\r\n       if(state==\"down-back\"){\r\n        _sd[\"up-go\"+mesh.name].weight = 0\r\n        _sd[\"up-back\"+mesh.name].weight = 0\r\n        _sd[\"down-go\"+mesh.name].weight = 0\r\n        _sd[\"down-back\"+mesh.name].weight = 1\r\n        _sd[\"back\"+mesh.name].weight = 0\r\n           // this.scene.beginAnimation(mesh, 2.4583332538604736, 3.2916667461395264*val, false);\r\n       }\r\n       if(state==\"back\"){\r\n        _sd[\"up-go\"+mesh.name].weight = 0\r\n        _sd[\"up-back\"+mesh.name].weight = 0\r\n        _sd[\"down-go\"+mesh.name].weight = 0\r\n        _sd[\"down-back\"+mesh.name].weight = 0\r\n        _sd[\"back\"+mesh.name].weight = 1\r\n      //  console.log(\"中\")\r\n           // this.scene.beginAnimation(mesh, 2.4583332538604736, 3.2916667461395264*val, false);\r\n       }\r\n    }\r\n\r\n    private  canardUpdate(){\r\n        if(this.display.cameraBox.rotation.x>0.1){\r\n          //  console.log(\"大\")\r\n            if(this.flayState[\"鸭翼左\"]!=\"up-go\"){\r\n                this.setMeshVal(this.scene.getMeshByName(\"鸭翼左\"),\"up-go\",1)\r\n            }\r\n\r\n            if(this.flayState[\"鸭翼右\"]!=\"up-go\"){\r\n                //this.airflowCon(true)\r\n                this.setMeshVal(this.scene.getMeshByName(\"鸭翼右\"),\"up-go\",1)\r\n            }\r\n        }\r\n\r\n        if(this.display.cameraBox.rotation.x<-0.1){\r\n           // console.log(\"大\")\r\n            if(this.flayState[\"鸭翼左\"]!=\"down-go\"){\r\n               \r\n                this.setMeshVal(this.scene.getMeshByName(\"鸭翼左\"),\"down-go\",1)\r\n            }\r\n            if(this.flayState[\"鸭翼右\"]!=\"down-go\"){\r\n                this.setMeshVal(this.scene.getMeshByName(\"鸭翼右\"),\"down-go\",1)\r\n            }\r\n           \r\n        }\r\n\r\n\r\n        if(this.display.cameraBox.rotation.x>=-0.1&&this.display.cameraBox.rotation.x<=0.1){\r\n\r\n       \r\n            if(this.flayState[\"鸭翼左\"]==\"down-go\"){\r\n                if(this.flayState[\"鸭翼左\"]!=\"down-back\"){\r\n                  \r\n\r\n                  //  console.log(\"中2\")\r\n                    this.setMeshVal(this.scene.getMeshByName(\"鸭翼左\"),\"down-back\",1)\r\n                }\r\n            }\r\n\r\n            if(this.flayState[\"鸭翼左\"]==\"up-go\"){\r\n                if(this.flayState[\"鸭翼左\"]!=\"up-back\"){\r\n                    \r\n\r\n                  //  console.log(\"中2\")\r\n                    this.setMeshVal(this.scene.getMeshByName(\"鸭翼左\"),\"up-back\",1)\r\n                }\r\n            }\r\n\r\n            if(this.flayState[\"鸭翼右\"]==\"down-go\"){\r\n                if(this.flayState[\"鸭翼右\"]!=\"down-back\"){\r\n                \r\n                   // console.log(\"中2\")\r\n                    this.setMeshVal(this.scene.getMeshByName(\"鸭翼右\"),\"down-back\",1)\r\n                }\r\n            }\r\n\r\n            if(this.flayState[\"鸭翼右\"]==\"up-go\"){\r\n                if(this.flayState[\"鸭翼右\"]!=\"up-back\"){\r\n             \r\n\r\n                  //  console.log(\"中2\")\r\n                    this.setMeshVal(this.scene.getMeshByName(\"鸭翼右\"),\"up-back\",1)\r\n                }\r\n            }\r\n\r\n           \r\n        }\r\n    }\r\n\r\n\r\n\r\n    private empennageUpdate(){\r\n        if(this.display.cameraBox.rotation.z>0.3){\r\n            //console.log(\"大\")\r\n            if(this.flayState[\"尾翼\"]!=\"up-go\"){\r\n                this.setMeshVal(this.scene.getMeshByName(\"尾翼\"),\"up-go\",1)\r\n            }\r\n        }\r\n\r\n        if(this.display.cameraBox.rotation.z<-0.3){\r\n           // console.log(\"大\")\r\n            if(this.flayState[\"尾翼\"]!=\"down-go\"){\r\n                this.setMeshVal(this.scene.getMeshByName(\"尾翼\"),\"down-go\",1)\r\n            }\r\n        }\r\n\r\n\r\n        if(this.display.cameraBox.rotation.z>=-0.3&&this.display.cameraBox.rotation.z<=0.3){\r\n       \r\n            if(this.flayState[\"尾翼\"]==\"down-go\"){\r\n                if(this.flayState[\"尾翼\"]!=\"down-back\"){\r\n                   // console.log(\"中2\")\r\n                    this.setMeshVal(this.scene.getMeshByName(\"尾翼\"),\"down-back\",1)\r\n                }\r\n            }\r\n\r\n            if(this.flayState[\"尾翼\"]==\"up-go\"){\r\n                if(this.flayState[\"尾翼\"]!=\"up-back\"){\r\n                    //console.log(\"中2\")\r\n                    this.setMeshVal(this.scene.getMeshByName(\"尾翼\"),\"up-back\",1)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private wingsUpdate(){\r\n             //  this.character.rotation.y=\r\n             if(this._s>this.moveX){\r\n             //   console.log(\"大\")\r\n                if(this.flayState[\"右翼\"]!=\"up-go\"){\r\n                    this.setMeshVal(this.scene.getMeshByName(\"右翼\"),\"up-go\",1)\r\n                }\r\n    \r\n                if(this.flayState[\"左翼\"]!=\"down-go\"){\r\n                    this.setMeshVal(this.scene.getMeshByName(\"左翼\"),\"down-go\",1)\r\n                }\r\n            }\r\n    \r\n            if(this._s<this.moveX){\r\n                if(this.flayState[\"右翼\"]!=\"down-go\"){\r\n                    this.setMeshVal(this.scene.getMeshByName(\"右翼\"),\"down-go\",1)\r\n                }\r\n              //  console.log(\"小\")\r\n                if(this.flayState[\"左翼\"]!=\"up-go\"){\r\n                    this.setMeshVal(this.scene.getMeshByName(\"左翼\"),\"up-go\",1)\r\n                }\r\n            }\r\n    \r\n            if(this._s==this.moveX){\r\n               \r\n                if(this.flayState[\"右翼\"]==\"down-go\"){\r\n                    if(this.flayState[\"右翼\"]!=\"down-back\"){\r\n                     //   console.log(\"中2\")\r\n                        this.setMeshVal(this.scene.getMeshByName(\"右翼\"),\"down-back\",1)\r\n                    }\r\n                }\r\n    \r\n                if(this.flayState[\"右翼\"]==\"up-go\"){\r\n                    if(this.flayState[\"右翼\"]!=\"up-back\"){\r\n                      //  console.log(\"中2\")\r\n                        this.setMeshVal(this.scene.getMeshByName(\"右翼\"),\"up-back\",1)\r\n                    }\r\n                }\r\n               \r\n               // console.log(\"小\")\r\n               if(this.flayState[\"左翼\"]==\"down-go\"){\r\n                    if(this.flayState[\"左翼\"]!=\"down-back\"){\r\n                      //  console.log(\"中2\")\r\n                        this.setMeshVal(this.scene.getMeshByName(\"左翼\"),\"down-back\",1)\r\n                    }\r\n               }\r\n    \r\n               if(this.flayState[\"左翼\"]==\"up-go\"){\r\n                    if(this.flayState[\"左翼\"]!=\"up-back\"){\r\n                     //   console.log(\"中2\")\r\n                        this.setMeshVal(this.scene.getMeshByName(\"左翼\"),\"up-back\",1)\r\n                    }\r\n                }\r\n                \r\n            }\r\n    }\r\n\r\n\r\n     \r\n\r\n\r\n      private airflowUpdate(){\r\n        if(this.display.cameraBox.rotation.x>0.1){\r\n            this.airflowCon(false)\r\n        }\r\n  \r\n        if(this.display.cameraBox.rotation.x<-0.1){\r\n            this.airflowCon(true)\r\n        }\r\n  \r\n        if(this.display.cameraBox.rotation.x>=-0.1&&this.display.cameraBox.rotation.x<=0.1){\r\n            this.airflowCon(false)\r\n        }\r\n      }\r\n\r\n\r\n      private airflowConTime;\r\n      private airflowConState;\r\n\r\n      private airflowCon(airflowConState){\r\n\r\n        if(this.airflowConState==airflowConState){\r\n            return;\r\n        }\r\n\r\n       // console.log(\"airflowCon\")\r\n        clearInterval(this.airflowConTime);\r\n        \r\n        if(airflowConState){\r\n            this.airflowConTime=setInterval(()=>{ \r\n                this.scene.getMeshByName(\"气流1\").isVisible=!this.scene.getMeshByName(\"气流1\").isVisible;\r\n                this.scene.getMeshByName(\"气流2\").isVisible=!this.scene.getMeshByName(\"气流2\").isVisible;\r\n            },30)\r\n        }else{\r\n            this.scene.getMeshByName(\"气流1\").isVisible=false;\r\n            this.scene.getMeshByName(\"气流2\").isVisible=false;\r\n        }\r\n\r\n        this.airflowConState=airflowConState\r\n      }\r\n\r\n\r\n   \r\n /**\r\n     * 页面UI控制\r\n     * */\r\n    private viewCtrl():void{\r\n        this.viewState=!this.viewState;\r\n        if(this.viewState==true){\r\n         //   this.display.camera2.detachControl(SceneManager.ins.canvas,false);\r\n            this.scene.activeCamera=this.display.camera3\r\n          // this.scene.activeCameras=[]\r\n         /*    this.scene.activeCameras.push(this.display.camera3);\r\n            this.scene.activeCameras.push(this.display.camera4);\r\n            this.scene.activeCameras.push(this.display.camera5); */\r\n            this.scene.getMeshByName(\"驾驶员头\").isVisible=true;\r\n\r\n            this.musics.zhanji.setVolume(1)\r\n           // this.musics.win.setVolume(0.3)\r\n           // this.display.camera3.alpha=-Math.PI*1;\r\n           // this.display.camera3.beta=1.260483446598473\r\n          //  this.display.camera.attachControl(SceneManager.ins.canvas,true);\r\n\r\n        }else{\r\n          //  this.display.camera.detachControl(SceneManager.ins.canvas,false);\r\n            this.scene.activeCamera=this.display.camera2\r\n           // this.scene.activeCameras=[]\r\n            this.musics.zhanji.setVolume(0.5)\r\n          //  this.musics.win.setVolume(0.3)\r\n            this.scene.getMeshByName(\"驾驶员头\").isVisible=false;\r\n\r\n            \r\n         /*    this.scene.activeCameras.push(this.display.camera2);\r\n            this.scene.activeCameras.push(this.display.camera4);\r\n            this.scene.activeCameras.push(this.display.camera5);\r\n            this.scene.getMeshByName(\"驾驶员头\").isVisible=false; */\r\n          //  this.display.camera2.rotation=new BABYLON.Vector3(0.1,Math.PI*0.5,0)\r\n          //  this.display.camera2.attachControl(SceneManager.ins.canvas,true);\r\n        }\r\n    }\r\n\r\n    /*   private barrierConTime;\r\n      private barrierConState;\r\n\r\n      private barrierCon(barrierConState){\r\n\r\n        if(this.barrierConState==barrierConState){\r\n            return;\r\n        }\r\n\r\n        console.log(\"airflowCon\")\r\n        clearInterval(this.barrierConTime);\r\n        \r\n        if(barrierConState){\r\n            this.barrierConTime=setInterval(()=>{ \r\n\r\n                this.scene.getMeshByName(\"气流3\").isVisible=!this.scene.getMeshByName(\"气流3\").isVisible;\r\n             //   this.scene.getMeshByName(\"气流2\").isVisible=!this.scene.getMeshByName(\"气流2\").isVisible;\r\n            },30)\r\n        }else{\r\n            this.scene.getMeshByName(\"气流3\").isVisible=false;\r\n            //this.scene.getMeshByName(\"气流2\").isVisible=false;\r\n        }\r\n\r\n        this.barrierConState=barrierConState\r\n      } */\r\n}\r\n\r\n\r\n","/**\r\n * 子弹控制系统   by renjianfeng \r\n */\r\n\r\nimport {AssetsManager} from \"../../public\"\r\nimport {SceneManager} from \"../../public\"\r\nimport {Func,particleCon} from \"../../public\"\r\n\r\nexport class BoomCon{\r\n\r\n    private static instance: BoomCon;\r\n\r\n    public static get ins(): BoomCon {\r\n        if (!this.instance) {\r\n            this.instance = new BoomCon();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    //子弹\r\n    private bullets=[]\r\n\r\n    //击中子弹爆炸\r\n    private booms=[]\r\n\r\n    //准星\r\n    private starUi\r\n    //准星图片\r\n    private image2\r\n\r\n    private ray\r\n    private hit\r\n    private display\r\n    private scene\r\n\r\n\r\n    //帧率时间补偿\r\n\r\n    private times;\r\n    private fireSpeed=6;\r\n\r\n    private j;\r\n    private freeState;\r\n\r\n    private musics;\r\n\r\n    private particleeExhaust;\r\n    private particleeExhausts=[];\r\n    private tailFlowers=[];\r\n\r\n   \r\n\r\n    private creatMusic(){\r\n        this.musics={\r\n            qiang:new BABYLON.Sound(\"daodan\",[AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"boom\"][\"url\"]] , this.scene,()=>{\r\n               \r\n            },{loop:false}),\r\n        }\r\n    }\r\n\r\n    //创建UI\r\n    private creatUI(){\r\n     \r\n    }\r\n\r\n    //初始化\r\n    public init(display){\r\n        this.scene=SceneManager.ins.scene;\r\n        this.display=display\r\n\r\n        //创建准星\r\n        this.creatUI()\r\n\r\n        this.creatMusic()\r\n\r\n          //尾气粒子\r\n       \r\n           this.particleeExhaust = BABYLON[\"ParticleHelper\"].CreateDefault(new BABYLON.Vector3(0,0,0), 100);\r\n    \r\n           // Set emission rate\r\n           this.particleeExhaust.emitRate = 500;\r\n   \r\n           // Start size\r\n           this.particleeExhaust.minSize = 6;\r\n           this.particleeExhaust.maxSize = 24;\r\n   \r\n           // Lifetime\r\n           this.particleeExhaust.minLifeTime = 1;\r\n           this.particleeExhaust.maxLifeTime = 3;\r\n   \r\n           // Emission power\r\n           this.particleeExhaust.minEmitPower = 30;\r\n           this.particleeExhaust.maxEmitPower = 110;\r\n   \r\n           // Limit velocity over time\r\n           this.particleeExhaust.addLimitVelocityGradient(0, 40);\r\n           this.particleeExhaust.addLimitVelocityGradient(0.120, 12.983);\r\n           this.particleeExhaust.addLimitVelocityGradient(0.445, 1.780);\r\n           this.particleeExhaust.addLimitVelocityGradient(0.691, 0.502);\r\n           this.particleeExhaust.addLimitVelocityGradient(0.930, 0.05);\r\n           this.particleeExhaust.addLimitVelocityGradient(1.0, 0);\r\n   \r\n           this.particleeExhaust.limitVelocityDamping = 0.9;\r\n   \r\n           // Start rotation\r\n           this.particleeExhaust.minInitialRotation = -Math.PI / 2;\r\n           this.particleeExhaust.maxInitialRotation = Math.PI / 2;\r\n   \r\n           // Texture\r\n           this.particleeExhaust.particleTexture = AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"yun\"];\r\n           this.particleeExhaust.blendMode = BABYLON.ParticleSystem[\"BLENDMODE_MULTIPLYADD\"]; \r\n   \r\n           // Color over life\r\n           this.particleeExhaust.addColorGradient(0.0, new BABYLON.Color4(1, 1, 1, 0));\r\n           this.particleeExhaust.addColorGradient(0.1, new BABYLON.Color4(1, 1, 1, 1));\r\n           this.particleeExhaust.addColorGradient(0.9, new BABYLON.Color4(1, 1, 1, 1));\r\n           this.particleeExhaust.addColorGradient(1.0, new BABYLON.Color4(1, 1, 1, 0));\r\n   \r\n           // // Defines the color ramp to apply\r\n           this.particleeExhaust.addRampGradient(0.0, new BABYLON.Color3(1, 1, 1));\r\n           this.particleeExhaust.addRampGradient(0.09, new BABYLON.Color3(209/255, 204/255, 15/255));\r\n           this.particleeExhaust.addRampGradient(0.18, new BABYLON.Color3(221/255, 120/255, 14/255));\r\n           this.particleeExhaust.addRampGradient(0.28, new BABYLON.Color3(200/255, 43/255, 18/255));\r\n           this.particleeExhaust.addRampGradient(0.47, new BABYLON.Color3(115/255, 22/255, 15/255));\r\n           this.particleeExhaust.addRampGradient(0.88, new BABYLON.Color3(14/255, 14/255, 14/255));\r\n           this.particleeExhaust.addRampGradient(1.0, new BABYLON.Color3(14/255, 14/255, 14/255));\r\n           this.particleeExhaust.useRampGradients = true;\r\n   \r\n           // Defines the color remapper over time\r\n           this.particleeExhaust.addColorRemapGradient(0, 0, 0.1);\r\n           this.particleeExhaust.addColorRemapGradient(0.2, 0.1, 0.8);\r\n           this.particleeExhaust.addColorRemapGradient(0.3, 0.2, 0.85);\r\n           this.particleeExhaust.addColorRemapGradient(0.35, 0.4, 0.85);\r\n           this.particleeExhaust.addColorRemapGradient(0.4, 0.5, 0.9);\r\n           this.particleeExhaust.addColorRemapGradient(0.5, 0.95, 1.0);\r\n           this.particleeExhaust.addColorRemapGradient(1.0, 0.95, 1.0);\r\n   \r\n           // Particle system start\r\n           this.particleeExhaust.start(10);\r\n           this.particleeExhaust.targetStopDuration = .4;\r\n   \r\n           // Animation update speed\r\n           this.particleeExhaust.updateSpeed = 1/60;\r\n   \r\n           // Rendering order\r\n           this.particleeExhaust.renderingGroupId = 1;\r\n\r\n\r\n         \r\n        //创建爆炸列表\r\n        for(var i=0;i<=10;i++){\r\n            this.particleeExhausts[i]=this.particleeExhaust[\"clone\"](\"s\",1)\r\n\r\n            this.tailFlowers[i]=new particleCon(new BABYLON.Vector3(0,0,0),SceneManager.ins.scene,this.particleeExhausts[i]);        \r\n            //粒子尾气的位置\r\n            this.tailFlowers[i].Position(new BABYLON.Vector3(0, 0, 0))\r\n           // this.tailFlowers[i].Parent(this.booms[i]);\r\n        }\r\n\r\n    }\r\n\r\n    private ij=0\r\n\r\n    public boom(position){\r\n            this.tailFlowers[this.ij].Position(position)\r\n            this.tailFlowers[this.ij].start()\r\n            this.musics.qiang.play()\r\n            console.log(\"爆炸前\")\r\n            var ij=this.ij;\r\n\r\n            setTimeout(()=>{\r\n                this.tailFlowers[ij].stop()\r\n            },2000)\r\n           \r\n\r\n            if(this.ij<10){\r\n                this.ij++\r\n            }else{\r\n                this.ij=0\r\n            }\r\n    }\r\n\r\n    //更新方法\r\n}\r\n\r\n\r\n","/**\r\n * 子弹控制系统   by renjianfeng \r\n */\r\n\r\nimport {AssetsManager,particleCon} from \"../../public\"\r\nimport {SceneManager} from \"../../public\"\r\nimport {Func} from \"../../public\"\r\n\r\nexport class HotDecoyFlareCon{\r\n\r\n    private static instance: HotDecoyFlareCon;\r\n\r\n    public static get ins(): HotDecoyFlareCon {\r\n        if (!this.instance) {\r\n            this.instance = new HotDecoyFlareCon();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    //子弹\r\n    private bullets=[]\r\n\r\n    //击中子弹爆炸\r\n    private booms=[]\r\n\r\n    //准星\r\n    private starUi\r\n    //准星图片\r\n    private image2\r\n\r\n    private ray\r\n    private hit\r\n    private display\r\n    private scene\r\n\r\n\r\n    //帧率时间补偿\r\n\r\n    private times;\r\n    private fireSpeed=3;\r\n\r\n    private j;\r\n    private freeState;\r\n\r\n    private musics;\r\n\r\n    private particleeExhaust;\r\n    private particleeExhausts=[];\r\n    private tailFlowers=[];\r\n\r\n   \r\n\r\n    private creatMusic(){\r\n        this.musics={\r\n            qiang:new BABYLON.Sound(\"daodan\",[AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"dan\"][\"url\"]] , this.scene,()=>{\r\n               \r\n            },{loop:false}),\r\n        }\r\n    }\r\n\r\n    //创建UI\r\n    private creatUI(){\r\n        this.starUi = new BABYLON.GUI.Rectangle();\r\n        this.starUi.width = \"30px\";\r\n        this.starUi.height = \"30px\";\r\n        this.starUi.alpha=0.8;\r\n        this.starUi.thickness = 0;\r\n        this.display.advancedTexture.addControl( this.starUi);\r\n        this.image2 = new BABYLON.GUI.Image(\"but\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"jiantou3\"].src);\r\n        this.starUi.addControl(this.image2)\r\n    }\r\n\r\n    //初始化\r\n    public init(display){\r\n        this.scene=SceneManager.ins.scene;\r\n        this.display=display\r\n\r\n        //创建准星\r\n        this.creatUI()\r\n        //创建事件\r\n        this.addEvent()\r\n        this.creatMusic()\r\n\r\n     //   this.scene.getMeshByName(\"导弹\").isVisible=false;\r\n\r\n\r\n          //尾气粒子\r\n          this.particleeExhaust = new BABYLON.ParticleSystem(\"particles\", 100, this.scene);\r\n          //粒子的纹理\r\n          this.particleeExhaust.particleTexture =  AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"yun\"];\r\n          this.particleeExhaust.minEmitBox = new BABYLON.Vector3(0, 0, 0); // Starting all From\r\n          this.particleeExhaust.maxEmitBox = new BABYLON.Vector3(-0, -0, -0); // Starting all From\r\n          this.particleeExhaust.color1 = new BABYLON.Color4(100/255, 100/255,100/255, 0.5);\r\n          this.particleeExhaust.color2 = new BABYLON.Color4(100/255, 100/255,100/255,0.5);\r\n          this.particleeExhaust.colorDead = new BABYLON.Color4(0, 0, 0, 0);\r\n        //  particleeExhaust[\"addColorGradient\"](0, new BABYLON.Color4(1, 1, 1, 0));\r\n          this.particleeExhaust.minSize = 1;\r\n          this.particleeExhaust.maxSize = 3;\r\n          // console.log(particleSystem)\r\n          this.particleeExhaust.minLifeTime = 10;\r\n          this.particleeExhaust.maxLifeTime = 10;\r\n          this.particleeExhaust.emitRate = 10;\r\n          this.particleeExhaust.blendMode = BABYLON.ParticleSystem[\"BLENDMODE_MULTIPLYADD\"];\r\n          this.particleeExhaust.direction1 = new BABYLON.Vector3(-0.4, 0.3, -1);\r\n          this.particleeExhaust.direction2 = new BABYLON.Vector3(0.4, 0.3, -1);\r\n          // particleSystem2.direction2 = new BABYLON.Vector3(0, 100, 0);\r\n          // Speed\r\n          this.particleeExhaust.minEmitPower = 0.5;\r\n          this.particleeExhaust.maxEmitPower = 0.5;\r\n          this.particleeExhaust.updateSpeed = 0.5;\r\n\r\n\r\n         \r\n\r\n        //创建子弹列表\r\n        for(var i=0;i<=10;i++){\r\n            this.bullets[i]= BABYLON.MeshBuilder.CreateSphere(\"frees\", {diameterX:  2, diameterY: 2, diameterZ: 2}, this.scene);\r\n            this.bullets[i].lifeState=false;\r\n            this.bullets[i].isPickable=false;\r\n            this.bullets[i].material=this.display.freeMateial;\r\n            this.bullets[i].checkCollisions = false;\r\n\r\n            this.particleeExhausts[i]=this.particleeExhaust[\"clone\"](\"s\",1)\r\n\r\n            this.tailFlowers[i]=new particleCon(new BABYLON.Vector3(0,0,0),SceneManager.ins.scene,this.particleeExhausts[i]);        \r\n            //粒子尾气的位置\r\n            this.tailFlowers[i].Position(new BABYLON.Vector3(0, 0, -0.6))\r\n   \r\n            this.tailFlowers[i].Parent(this.bullets[i]);\r\n        }\r\n\r\n        //创建爆炸列表\r\n     \r\n\r\n        //获得位置\r\n        var origin = this.display.cameraBox.position;\r\n    \r\n        //创建向前矢量\r\n\t    var forward = new BABYLON.Vector3(0,0,1);\t\t\r\n\t    forward = Func.ins.vecToLocal(forward, this.display.cameraBox);\r\n    \r\n        //创建方向\r\n\t    var direction = forward.subtract(origin);\r\n\t    direction = BABYLON.Vector3.Normalize(direction);\r\n    \r\n        //创建属性\r\n\t    this.ray = new BABYLON.Ray(origin, direction, 3000);\r\n    }\r\n\r\n\r\n    //事件\r\n    private addEvent(){\r\n\r\n        this.freeState=false;\r\n\r\n        document.addEventListener(\"mousedown\",(e)=>{\r\n            if(e.button==0){\r\n                this.freeState=true;\r\n            }\r\n        })\r\n        document.addEventListener(\"mouseup\",(e)=>{\r\n            if(e.button==0){\r\n              this.freeState=false;\r\n            }\r\n        })\r\n\r\n        var cleard;\r\n\r\n        document.addEventListener(\"keydown\",(e)=>{\r\n                document.addEventListener(\"keydown\",(e)=>{\r\n                    　if (e.keyCode == 69) {\r\n                        clearInterval(cleard)\r\n                        var i=0\r\n                        cleard=setInterval(()=>{\r\n                            this.musics.qiang.play()\r\n                            // this.musics.qiang.setVolume(1)\r\n                             var ram=Math.random()/100;\r\n         \r\n                            \r\n                             if(this.j<=this.bullets.length-1){\r\n                                 this.tailFlowers[this.j].start()\r\n                                 this.bullets[this.j].position=new BABYLON.Vector3(this.display.cameraBox.absolutePosition.x+ram,this.display.cameraBox.absolutePosition.y+ram-2,this.display.cameraBox.absolutePosition.z) ;\r\n                                 this.bullets[this.j].rotation=new BABYLON.Vector3(this.display.cameraBox.rotation.x+ram,this.display.cameraBox.rotation.y+ram,this.display.cameraBox.rotation.z);\r\n                                 this.bullets[this.j].lifeState=true;\r\n                                 this.j++;\r\n                               //  this.timerNpc.start();\r\n                             }else{\r\n                                 this.j=0;\r\n                                 this.tailFlowers[this.j].start()\r\n                                 this.bullets[this.j].position=new BABYLON.Vector3(this.display.cameraBox.absolutePosition.x,this.display.cameraBox.absolutePosition.y-2,this.display.cameraBox.absolutePosition.z) ;\r\n                                 this.bullets[this.j].rotation=new BABYLON.Vector3(this.display.cameraBox.rotation.x,this.display.cameraBox.rotation.y,this.display.cameraBox.rotation.z);\r\n                                 this.bullets[this.j].lifeState=true;\r\n                             }\r\n\r\n                             i++\r\n                             if(i>=5){\r\n                                clearInterval(cleard)\r\n                             }\r\n                        },300)\r\n            　　      }\r\n                })\r\n            \r\n             \r\n        })\r\n    }\r\n\r\n\r\n    private boom(i,free){\r\n        this.booms[i].position=new BABYLON.Vector3(free.position.x,free.position.y,free.position.z);\r\n            this.booms[i].scaling.x=10;\r\n            this.booms[i].scaling.y=10;\r\n            this.booms[i].scaling.z=10;\r\n            this.booms[i].boom.to({ x:1 ,y:1,z:1}, 1000);\r\n            this.booms[i].boom.start();\r\n            this.booms[i].boom.onComplete(()=>{\r\n            this.booms[i].scaling.x=0;\r\n            this.booms[i].scaling.y=0;\r\n            this.booms[i].scaling.z=0;\r\n           // this.tailFlowers[i].stop()\r\n        })\r\n    }\r\n\r\n    //更新方法\r\n    public update(times) {\r\n         this.times= times;\r\n         var origin = this.display.cameraBox.position;\r\n           var forward = new BABYLON.Vector3(0,0,1000);\t\t\r\n           forward = Func.ins.vecToLocal(forward, this.display.cameraBox);\r\n       \r\n           var direction = forward.subtract(origin);\r\n           direction = BABYLON.Vector3.Normalize(direction);\r\n \r\n           this.ray.origin = origin;\r\n           this.ray.direction =direction;\r\n \r\n           this.hit = this.scene.pickWithRay(this.ray);\r\n \r\n         var ram=Math.random;\r\n \r\n \r\n         if (this.hit.pickedMesh){\r\n            this.starUi.moveToVector3(this.hit.pickedPoint,this.scene)\r\n         }else{\r\n            this.starUi.linkWithMesh(this.display.pickMesh)\r\n         }\r\n \r\n         this.bullets.forEach((free,i)=>{\r\n             if(free.lifeState==true){\r\n                 var forword=new BABYLON.Vector3(free.forward.x*this.times*this.fireSpeed,free.forward.y*this.times*this.fireSpeed,free.forward.z*this.times*this.fireSpeed)\r\n                 free.moveWithCollisions(forword);\r\n                 free.isVisible=true;\r\n \r\n                 if (this.hit.pickedMesh){\r\n                     if(!free.boomPosition){\r\n                         free.boomPosition=new BABYLON.Vector3(this.hit.pickedPoint.x,this.hit.pickedPoint.y,this.hit.pickedPoint.z)\r\n                     }\r\n                }\r\n \r\n                  if(free.boomPosition){\r\n                     var jl2=Func.ins.getDistance(\r\n                         free.position.x,\r\n                         free.position.y, \r\n                         free.position.z, \r\n                         free.boomPosition.x,\r\n                         free.boomPosition.y, \r\n                         free.boomPosition.z, \r\n                         )\r\n     \r\n                      if(jl2<=50){\r\n                         free.lifeState=false;\r\n                       //  this.boom(i,free)\r\n                         this.tailFlowers[i].stop()\r\n                         free.boomPosition=null;\r\n                      }\r\n                  }\r\n                  \r\n                 var jl=Func.ins.getDistance(\r\n                     free.position.x,\r\n                     free.position.y, \r\n                     free.position.z, \r\n                     this.display.cameraBox.position.x, \r\n                     this.display.cameraBox.position.y, \r\n                     this.display.cameraBox.position.z\r\n                     )\r\n \r\n                if(jl>=3000){\r\n                     free.lifeState=false;\r\n                     free.boomPosition=null;\r\n                   //  this.boom(i,free)\r\n                     this.tailFlowers[i].stop()\r\n                }\r\n             }else{\r\n                 free.isVisible=false;\r\n             }\r\n         })\r\n     }\r\n}\r\n\r\n\r\n","/**\r\n * 子弹控制系统   by renjianfeng \r\n */\r\n\r\nimport {AssetsManager} from \"../../public\"\r\nimport {SceneManager} from \"../../public\"\r\nimport {Func,particleCon} from \"../../public\"\r\n\r\nexport class MissileCon{\r\n\r\n    private static instance: MissileCon;\r\n\r\n    public static get ins(): MissileCon {\r\n        if (!this.instance) {\r\n            this.instance = new MissileCon();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    //子弹\r\n    private bullets=[]\r\n\r\n    //击中子弹爆炸\r\n    private booms=[]\r\n\r\n    //准星\r\n    private starUi\r\n    //准星图片\r\n    private image2\r\n\r\n    private ray\r\n    private hit\r\n    private display\r\n    private scene\r\n\r\n\r\n    //帧率时间补偿\r\n\r\n    private times;\r\n    private fireSpeed=6;\r\n\r\n    private j;\r\n    private freeState;\r\n\r\n    private musics;\r\n\r\n    private particleeExhaust;\r\n    private particleeExhausts=[];\r\n    private tailFlowers=[];\r\n\r\n   \r\n\r\n    private creatMusic(){\r\n        this.musics={\r\n            qiang:new BABYLON.Sound(\"daodan\",[AssetsManager.ins.resourceObject[\"binarys\"][\"gameScene\"][\"daodan\"][\"url\"]] , this.scene,()=>{\r\n               \r\n            },{loop:false}),\r\n        }\r\n    }\r\n\r\n    //创建UI\r\n    private creatUI(){\r\n        this.starUi = new BABYLON.GUI.Rectangle();\r\n        this.starUi.width = \"30px\";\r\n        this.starUi.height = \"30px\";\r\n        this.starUi.alpha=0.8;\r\n        this.starUi.thickness = 0;\r\n        this.display.advancedTexture.addControl( this.starUi);\r\n        this.image2 = new BABYLON.GUI.Image(\"but\", AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"jiantou3\"].src);\r\n        this.starUi.addControl(this.image2)\r\n    }\r\n\r\n    //初始化\r\n    public init(display){\r\n        this.scene=SceneManager.ins.scene;\r\n        this.display=display\r\n\r\n        //创建准星\r\n        this.creatUI()\r\n        //创建事件\r\n        this.addEvent()\r\n        this.creatMusic()\r\n\r\n        this.scene.getMeshByName(\"导弹\").isVisible=false;\r\n\r\n\r\n          //尾气粒子\r\n          this.particleeExhaust = new BABYLON.ParticleSystem(\"particles\", 2000, this.scene);\r\n          //粒子的纹理\r\n          this.particleeExhaust.particleTexture =  AssetsManager.ins.resourceObject[\"textures\"][\"gameScene\"][\"yun\"];\r\n          this.particleeExhaust.minEmitBox = new BABYLON.Vector3(0, 0, 0); // Starting all From\r\n          this.particleeExhaust.maxEmitBox = new BABYLON.Vector3(-0, -0, -0); // Starting all From\r\n          this.particleeExhaust.color1 = new BABYLON.Color4(100/255, 100/255,100/255, 0.5);\r\n          this.particleeExhaust.color2 = new BABYLON.Color4(100/255, 100/255,100/255,0.5);\r\n          this.particleeExhaust.colorDead = new BABYLON.Color4(0, 0, 0, 0);\r\n        //  particleeExhaust[\"addColorGradient\"](0, new BABYLON.Color4(1, 1, 1, 0));\r\n          this.particleeExhaust.minSize = 1;\r\n          this.particleeExhaust.maxSize = 3;\r\n          // console.log(particleSystem)\r\n          this.particleeExhaust.minLifeTime = 50;\r\n          this.particleeExhaust.maxLifeTime = 50;\r\n          this.particleeExhaust.emitRate = 10;\r\n          this.particleeExhaust.blendMode =  BABYLON.ParticleSystem[\"BLENDMODE_MULTIPLYADD\"];\r\n          this.particleeExhaust.direction1 = new BABYLON.Vector3(-0.4, 3, -10.5);\r\n          this.particleeExhaust.direction2 = new BABYLON.Vector3(0.4, 3, -10.5);\r\n          // particleSystem2.direction2 = new BABYLON.Vector3(0, 100, 0);\r\n          // Speed\r\n          this.particleeExhaust.minEmitPower = 0.5;\r\n          this.particleeExhaust.maxEmitPower = 0.5;\r\n          this.particleeExhaust.updateSpeed = 0.5;\r\n\r\n\r\n         \r\n\r\n        //创建子弹列表\r\n        for(var i=0;i<=10;i++){\r\n            this.bullets[i]= BABYLON.MeshBuilder.CreateSphere(\"frees\", {diameterX:  1, diameterY: 1, diameterZ: 30}, this.scene);\r\n            this.bullets[i].lifeState=false;\r\n            this.bullets[i].isPickable=false;\r\n            this.bullets[i].material=this.display.freeMateial;\r\n            this.bullets[i].checkCollisions = false;\r\n            var missile=this.scene.getMeshByName(\"导弹\").clone();\r\n            missile.parent=this.bullets[i];\r\n            missile.position=new BABYLON.Vector3(0,0,16)\r\n          //  missile.scaling=new BABYLON.Vector3(10,10,10)\r\n            missile.rotation=new BABYLON.Vector3(0,-Math.PI*1,0);\r\n            missile.isPickable=false;\r\n            missile.isVisible=true;\r\n            missile.checkCollisions=false;\r\n           \r\n            missile.scaling=new BABYLON.Vector3(2,2,2)\r\n\r\n            this.particleeExhausts[i]=this.particleeExhaust[\"clone\"](\"s\",1)\r\n\r\n            this.tailFlowers[i]=new particleCon(new BABYLON.Vector3(0,0,0),SceneManager.ins.scene,this.particleeExhausts[i]);        \r\n            //粒子尾气的位置\r\n            this.tailFlowers[i].Position(new BABYLON.Vector3(0, 0, -0.6))\r\n   \r\n            this.tailFlowers[i].Parent(this.bullets[i]);\r\n        }\r\n\r\n        //创建爆炸列表\r\n        for(var i=0;i<=10;i++){\r\n            this.booms[i]= BABYLON.MeshBuilder.CreateSphere(\"boom\", {diameter: 10}, this.scene);\r\n            this.booms[i].boom=new TWEEN.Tween(this.booms[i].scaling);\r\n            this.booms[i].lifeState=false;\r\n            this.booms[i].isPickable=false;\r\n            this.booms[i].material=this.display.boomMateial;\r\n            this.bullets[i].checkCollisions = false;;\r\n        }\r\n\r\n        //获得位置\r\n        var origin = this.display.cameraBox.position;\r\n    \r\n        //创建向前矢量\r\n\t    var forward = new BABYLON.Vector3(0,0,1);\t\t\r\n\t    forward = Func.ins.vecToLocal(forward, this.display.cameraBox);\r\n    \r\n        //创建方向\r\n\t    var direction = forward.subtract(origin);\r\n\t    direction = BABYLON.Vector3.Normalize(direction);\r\n    \r\n        //创建属性\r\n\t    this.ray = new BABYLON.Ray(origin, direction, 3000);\r\n    }\r\n\r\n\r\n    //事件\r\n    private addEvent(){\r\n\r\n        this.freeState=false;\r\n\r\n        document.addEventListener(\"mousedown\",(e)=>{\r\n            if(e.button==0){\r\n                this.freeState=true;\r\n            }\r\n        })\r\n        document.addEventListener(\"mouseup\",(e)=>{\r\n            if(e.button==0){\r\n              this.freeState=false;\r\n            }\r\n        })\r\n\r\n        document.addEventListener(\"keydown\",(e)=>{\r\n            　if (e.keyCode == 81) {\r\n               // if(this.freeState){\r\n                    this.musics.qiang.play()\r\n                   // this.musics.qiang.setVolume(1)\r\n                    var ram=0;\r\n\r\n                   \r\n                    if(this.j<=this.bullets.length-1){\r\n                        this.tailFlowers[this.j].start()\r\n                        this.bullets[this.j].position=new BABYLON.Vector3(this.display.cameraBox.absolutePosition.x+ram,this.display.cameraBox.absolutePosition.y+ram,this.display.cameraBox.absolutePosition.z) ;\r\n                        this.bullets[this.j].rotation=new BABYLON.Vector3(this.display.cameraBox.rotation.x+ram,this.display.cameraBox.rotation.y+ram,this.display.cameraBox.rotation.z);\r\n                        this.bullets[this.j].lifeState=true;\r\n                        this.j++;\r\n                      //  this.timerNpc.start();\r\n                    }else{\r\n                        this.j=0;\r\n                        this.tailFlowers[this.j].start()\r\n                        this.bullets[this.j].position=new BABYLON.Vector3(this.display.cameraBox.absolutePosition.x,this.display.cameraBox.absolutePosition.y,this.display.cameraBox.absolutePosition.z) ;\r\n                        this.bullets[this.j].rotation=new BABYLON.Vector3(this.display.cameraBox.rotation.x,this.display.cameraBox.rotation.y,this.display.cameraBox.rotation.z);\r\n                        this.bullets[this.j].lifeState=true;\r\n                    }\r\n                }else{\r\n                   // this.musics.qiang.setVolume(0)\r\n                }\r\n    　　     // }\r\n        })\r\n    }\r\n\r\n\r\n    private boom(i,free){\r\n        this.booms[i].position=new BABYLON.Vector3(free.position.x,free.position.y,free.position.z);\r\n            this.booms[i].scaling.x=10;\r\n            this.booms[i].scaling.y=10;\r\n            this.booms[i].scaling.z=10;\r\n            this.booms[i].boom.to({ x:1 ,y:1,z:1}, 1000);\r\n            this.booms[i].boom.start();\r\n            this.booms[i].boom.onComplete(()=>{\r\n            this.booms[i].scaling.x=0;\r\n            this.booms[i].scaling.y=0;\r\n            this.booms[i].scaling.z=0;\r\n           // this.tailFlowers[i].stop()\r\n        })\r\n    }\r\n\r\n    //更新方法\r\n    public update(times) {\r\n         this.times= times;\r\n         var origin = this.display.cameraBox.position;\r\n           var forward = new BABYLON.Vector3(0,0,1000);\t\t\r\n           forward = Func.ins.vecToLocal(forward, this.display.cameraBox);\r\n       \r\n           var direction = forward.subtract(origin);\r\n           direction = BABYLON.Vector3.Normalize(direction);\r\n \r\n           this.ray.origin = origin;\r\n           this.ray.direction =direction;\r\n \r\n           this.hit = this.scene.pickWithRay(this.ray);\r\n \r\n         var ram=Math.random;\r\n \r\n \r\n         if (this.hit.pickedMesh){\r\n            this.starUi.moveToVector3(this.hit.pickedPoint,this.scene)\r\n         }else{\r\n            this.starUi.linkWithMesh(this.display.pickMesh)\r\n         }\r\n \r\n         this.bullets.forEach((free,i)=>{\r\n             if(free.lifeState==true){\r\n                 var forword=new BABYLON.Vector3(free.forward.x*this.times*this.fireSpeed,free.forward.y*this.times*this.fireSpeed,free.forward.z*this.times*this.fireSpeed)\r\n                 free.moveWithCollisions(forword);\r\n                 free.isVisible=true;\r\n \r\n                 if (this.hit.pickedMesh){\r\n                     if(!free.boomPosition){\r\n                         free.boomPosition=new BABYLON.Vector3(this.hit.pickedPoint.x,this.hit.pickedPoint.y,this.hit.pickedPoint.z)\r\n                     }\r\n                }\r\n \r\n                  if(free.boomPosition){\r\n                     var jl2=Func.ins.getDistance(\r\n                         free.position.x,\r\n                         free.position.y, \r\n                         free.position.z, \r\n                         free.boomPosition.x,\r\n                         free.boomPosition.y, \r\n                         free.boomPosition.z, \r\n                         )\r\n     \r\n                      if(jl2<=50){\r\n                         free.lifeState=false;\r\n                         this.boom(i,free)\r\n                         this.tailFlowers[i].stop()\r\n                         free.boomPosition=null;\r\n                      }\r\n                  }\r\n                  \r\n                 var jl=Func.ins.getDistance(\r\n                     free.position.x,\r\n                     free.position.y, \r\n                     free.position.z, \r\n                     this.display.cameraBox.position.x, \r\n                     this.display.cameraBox.position.y, \r\n                     this.display.cameraBox.position.z\r\n                     )\r\n \r\n                if(jl>=3000){\r\n                     free.lifeState=false;\r\n                     free.boomPosition=null;\r\n                     this.boom(i,free)\r\n                     this.tailFlowers[i].stop()\r\n                }\r\n             }else{\r\n                 free.isVisible=false;\r\n             }\r\n         })\r\n     }\r\n}\r\n\r\n\r\n","import {EventCon} from \"../../other/EventCon\";\r\nimport {ExGameSceneGui} from \"./ExGameSceneGui\";\r\nimport {GameSceneGui} from \"../../public/index\";\r\n\r\nexport class ExGameSceneGuiCon extends GameSceneGui{\r\n\r\n\r\n    private static instance: ExGameSceneGuiCon;\r\n\r\n    public static get ins(): ExGameSceneGuiCon {\r\n        if (!this.instance) {\r\n            this.instance = new ExGameSceneGuiCon();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    constructor(){\r\n        super()\r\n        this.scene=ExGameSceneGui.ins.guiObject.sceneChild\r\n        this.parent=ExGameSceneGui.ins.guiObject;\r\n    }\r\n\r\n\r\n    public addEvent(){\r\n        var _btnState=[]\r\n        _btnState[\"view\"]=true;\r\n        console.log(\"按键事件\")\r\n        console.log(this.scene.btnLeft)\r\n\r\n       // var viewNode=\r\n        document.body.appendChild(this.scene.viewNode)\r\n\r\n       /*  this.doEvents[\"viewButton\"]=document.getElementById(\"button_view\").addEventListener(\"click\",()=>{\r\n            _btnState[\"view\"]=!_btnState[\"view\"];\r\n            EventCon.ins.key.notifyObservers(_btnState);\r\n        }) */\r\n\r\n\r\n        this.doEvents[\"viewReset\"]=document.getElementById(\"button_reset\").addEventListener(\"click\",()=>{\r\n            location.reload();\r\n        })\r\n       // document.getElementById(\"viewNode\").innerHTML=this.scene.viewHtml\r\n    }\r\n\r\n\r\n\r\n    public removeEvent(){\r\n        if(document.getElementById(\"viewNode\")){\r\n            try {\r\n                document.body.removeChild(this.scene.viewNode)\r\n            }catch (e) {\r\n                console.log(e)\r\n            }\r\n        }\r\n        //EventCon.ins.gold.remove( this.doEvents[\"gold\"]);\r\n    }\r\n}","\r\n\r\nimport {AssetsManager} from \"../../public/index\";\r\n\r\nexport class ExGameSceneGui{\r\n\r\n    private sceneCon:any;\r\n    private parent:any;\r\n\r\n    private static instance: ExGameSceneGui;\r\n\r\n    public static get ins(): ExGameSceneGui {\r\n        if (!this.instance) {\r\n            this.instance = new ExGameSceneGui();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    constructor(){\r\n            this.creatUI()\r\n    }\r\n\r\n    public creatUI(){\r\n\r\n        this.parent=new BABYLON.GUI.Rectangle()\r\n\r\n        var viewHtml=`\r\n            <style>\r\n            .button-view{\r\n                position: fixed;\r\n                top: 20px;\r\n                left:20px;\r\n                background: #349ccd;\r\n                color: #ffffff;\r\n                border: 0px solid ;\r\n                font-size: 18px;\r\n                padding: 8px 20px;\r\n                border-radius: 5px;\r\n                cursor: pointer;\r\n                transform: scale(1);\r\n            }\r\n            .button-view:active{\r\n              transform: scale(0.8);\r\n            }\r\n            .button-reset{\r\n                position: fixed;\r\n                top: 20px;\r\n                right:20px;\r\n                background: #349ccd;\r\n                color: #ffffff;\r\n                border: 0px solid ;\r\n                font-size: 18px;\r\n                padding: 8px 20px;\r\n                border-radius: 5px;\r\n                cursor: pointer;\r\n                transform: scale(1);\r\n            }\r\n            .about-btn{\r\n                position: fixed;\r\n                bottom: 20px;\r\n                right:20px;\r\n                background: #349ccd;\r\n                color: #ffffff;\r\n                border: 0px solid ;\r\n                font-size: 18px;\r\n                padding: 8px 20px;\r\n                border-radius: 5px;\r\n                cursor: pointer;\r\n                transform: scale(1);\r\n            }\r\n            button:active{\r\n              transform: scale(0.8);\r\n            }\r\n            </style>\r\n            <button class=\"button-reset\" id=\"button_reset\">Back</button>\r\n            <div>\r\n            <button class=\"about-btn\" onclick=\"window.location.href='https://github.com/renjianfeng/flightSimulator'\">About The Author And Github</button>\r\n            </div>\r\n        `;\r\n\r\n        var viewNode = document.createElement(\"div\");\r\n        viewNode.id = \"viewNode\";\r\n        viewNode.innerHTML = viewHtml;\r\n\r\n        //交給控制器做交互\r\n        this.parent.sceneChild={\r\n            viewHtml:viewHtml,\r\n            viewNode:viewNode,\r\n        }\r\n\r\n       // this.sceneCon=new GameSceneGuiCon(this.parent);\r\n    }\r\n\r\n    public get guiObject(){\r\n        return this.parent;\r\n    }\r\n\r\n  /*  public set guiObjectDo(obj){\r\n        this.parent=obj;\r\n    }*/\r\n}","import {ExStartGui} from \"./ExStartGui\";\r\nimport {AnimationCon} from \"../../public/index\";\r\nimport {StartGui} from \"../../public/index\";\r\nimport {WeatherState} from \"../../public/index\";\r\nimport {SceneManager} from \"../../public/index\";\r\nimport {ExGameSceneCon} from \"../../Scene/GameScene/ExGameSceneCon\";\r\nimport {EventCon} from \"../../other/EventCon\";\r\nimport {ModuleName} from \"../../public/enum/ModuleName\";\r\nimport {GlobalManager} from \"../../public/manager/GlobalManager\";\r\nimport {AssetsManager} from \"../../public\";\r\nexport class ExStartGuiCon extends StartGui{\r\n\r\n    /**\r\n     * 游戏业务基础数据\r\n     */\r\n\r\n\r\n    private static instance: ExStartGuiCon;\r\n\r\n    public static get ins(): ExStartGuiCon {\r\n        if (!this.instance) {\r\n            this.instance = new ExStartGuiCon();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    constructor(){\r\n        super()\r\n        this.scene=ExStartGui.ins.guiObject.sceneChild;\r\n        this.parent=ExStartGui.ins.guiObject;\r\n        this.gameSceneObject=ExGameSceneCon.ins;\r\n    }\r\n\r\n    public addEvent(){\r\n\r\n        localStorage.weatherState=WeatherState.RAIN_DAY;\r\n\r\n        document.body.appendChild(this.scene.viewNode)\r\n\r\n\r\n     \r\n\r\n        this.doEvents[\"viewPlay\"]=document.getElementById(\"button_play\").addEventListener(\"click\",this.onClick_startBtn.bind(this))\r\n\r\n\r\n        /* this.doEvents[\"SUNNY_DAY\"]=document.getElementById(\"SUNNY_DAY\").addEventListener(\"click\",(e)=>{\r\n            localStorage.weatherState=WeatherState.SUNNY_DAY;\r\n            console.log(\"当前dom\")\r\n            document.querySelectorAll(\".weather-config li\")[\"forEach\"]((list)=>{\r\n                list.setAttribute(\"class\",\"\")\r\n            })\r\n            e[\"path\"][0].setAttribute(\"class\",\"we-active\")\r\n        })\r\n\r\n        this.doEvents[\"RAIN_DAY\"]=document.getElementById(\"RAIN_DAY\").addEventListener(\"click\",(e)=>{\r\n            localStorage.weatherState=WeatherState.RAIN_DAY;\r\n            document.querySelectorAll(\".weather-config li\")[\"forEach\"]((list)=>{\r\n                list.setAttribute(\"class\",\"\")\r\n            })\r\n            e[\"path\"][0].setAttribute(\"class\",\"we-active\")\r\n        })\r\n\r\n        this.doEvents[\"AFTERNOON_DAY\"]=document.getElementById(\"AFTERNOON_DAY\").addEventListener(\"click\",(e)=>{\r\n            localStorage.weatherState=WeatherState.AFTERNOON_DAY;\r\n            document.querySelectorAll(\".weather-config li\")[\"forEach\"]((list)=>{\r\n                list.setAttribute(\"class\",\"\")\r\n            })\r\n            e[\"path\"][0].setAttribute(\"class\",\"we-active\")\r\n        })\r\n\r\n        this.doEvents[\"NIGHT_DAY\"]=document.getElementById(\"NIGHT_DAY\").addEventListener(\"click\",(e)=>{\r\n            localStorage.weatherState=WeatherState.NIGHT_DAY;\r\n            document.querySelectorAll(\".weather-config li\")[\"forEach\"]((list)=>{\r\n                list.setAttribute(\"class\",\"\")\r\n            })\r\n            e[\"path\"][0].setAttribute(\"class\",\"we-active\")\r\n        })\r\n */\r\n       // document.getElementById(\"GAME_BG\").style.backgroundImage=\"url(\"+AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"map1\"].src+\")\"\r\n        //document.getElementById(\"LOGO\").style.backgroundImage=\"url(\"+AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"logo\"].src+\")\"\r\n\r\n        this.mapReset()\r\n\r\n       /*  this.doEvents[\"MAP_LIST\"]==document.getElementById(\"MAP_LIST\").addEventListener(\"change\",(e)=>{\r\n            this.mapReset()\r\n        }) */\r\n\r\n/* \r\n        document.getElementById(\"RAIN_DAY\").style.backgroundImage=\"url(\"+AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"rain\"].src+\")\"\r\n        document.getElementById(\"SUNNY_DAY\").style.backgroundImage=\"url(\"+AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"sun\"].src+\")\"\r\n        document.getElementById(\"AFTERNOON_DAY\").style.backgroundImage=\"url(\"+AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"after\"].src+\")\"\r\n        document.getElementById(\"NIGHT_DAY\").style.backgroundImage=\"url(\"+AssetsManager.ins.resourceObject[\"images\"][\"gameScene\"][\"night\"].src+\")\"\r\n */\r\n    }\r\n\r\n\r\n\r\n    protected mapReset(){\r\n        console.log(localStorage)\r\n    }\r\n\r\n\r\n    protected onClick_startBtn() {\r\n        super.onClick_startBtn()\r\n        GlobalManager.ins.openModule(ModuleName.GAME_PLAY_SCENE);\r\n        this.removeEvent()\r\n    }\r\n\r\n\r\n    public removeEvent(){\r\n        super.removeEvent()\r\n        if(document.getElementById(\"startNode\")){\r\n            try {\r\n                document.body.removeChild(this.scene.viewNode)\r\n            }catch (e) {\r\n                console.log(e)\r\n            }\r\n        }\r\n    }\r\n}","\r\nimport {AssetsManager} from \"../../public/index\";\r\nimport {WeatherState} from \"../../public/index\";\r\n\r\n\r\n\r\nexport class ExStartGui{\r\n\r\n    private sceneCon:any;\r\n    private parent:any;\r\n\r\n    private static instance: ExStartGui;\r\n\r\n    public static get ins(): ExStartGui {\r\n        if (!this.instance) {\r\n            this.instance = new ExStartGui();\r\n        }\r\n        return this.instance;\r\n    }\r\n\r\n    constructor(){\r\n        this.creatUI()\r\n    }\r\n\r\n    public creatUI(){\r\n        this.parent=new BABYLON.GUI.Rectangle()\r\n\r\n\r\n\r\n      /*  var tween = new TWEEN.Tween(startBtn);\r\n        tween.to({ scaleX: 0.8 ,scaleY: 0.8}, 500);\r\n        tween.start();\r\n        tween.repeat(Infinity)\r\n        tween.yoyo(true)*/\r\n\r\n        var viewHtml=`\r\n            <style>\r\n            .button-play{\r\n                position: fixed;\r\n                top: 50%;\r\n                left:50%;\r\n                background: #349ccd;\r\n                color: #ffffff;\r\n                border: 0px solid ;\r\n                font-size: 42px;\r\n                border-radius: 5px;\r\n                cursor: pointer;\r\n                transform: scale(1);\r\n                width: 200px;\r\n                height: 80px;\r\n                margin-left: -100px;\r\n                margin-top: 200px;\r\n            }\r\n            .button-play:active{\r\n              transform: scale(0.8);\r\n            }\r\n            .weather-config{\r\n                position: fixed;\r\n                top: 50%;\r\n                left:50%;\r\n                display: block;\r\n                background: #ffffff;\r\n                color: #82bab3;\r\n                border: 0px solid ;\r\n                font-size: 24px;\r\n                border-radius: 5px;\r\n                transform: scale(1);\r\n                width: 1000px;\r\n                height: 260px;\r\n                margin-left: -500px;\r\n                margin-top: -200px;\r\n                text-align: center;\r\n               \r\n            }\r\n            .weather-config ul li{\r\n                display: inline-block;\r\n                height: 200px;\r\n                width: 200px;\r\n                margin: 0px 5px;\r\n                border: 1px solid #cccccc;\r\n                cursor: pointer;\r\n                background-size: 100% 100%;\r\n                text-shadow: 0px 0px 5px #444;\r\n            }\r\n            \r\n            .weather-config ul li:hover{\r\n                border: 1px solid royalblue;\r\n            }\r\n            .we-active{\r\n                border: 3px solid #000 !important;\r\n                opacity: 0.8;\r\n            }\r\n            .yw-text{\r\n              font-size: 14px;\r\n            }\r\n            .box-tip{\r\n            margin-top: 60px;\r\n            }\r\n            \r\n            .map-list{\r\n                margin-top:-30px;\r\n                position: relative;\r\n                top: -30px;\r\n            }\r\n            .map-list select{\r\n                background: transparent;\r\n                padding: 7px;\r\n                color: #82bab3;\r\n                position: relative;\r\n                top: -2px;\r\n                font-size: 18px;\r\n                border-radius: 5px;\r\n                border: 1px solid #82bab3;\r\n            }\r\n            .box-tip{\r\n                background: rgba(0,0,0,0.2);\r\n                color: #ffffff;\r\n                padding: 10px;\r\n                font-size: 16px;\r\n                letter-spacing: 3px;\r\n                position: fixed;\r\n                bottom: 30px;\r\n                width:100%;\r\n                padding-left:20px;\r\n                text-align: center;\r\n            }\r\n\r\n            .about-btn{\r\n                position: fixed;\r\n                top: 20px;\r\n                left:20px;\r\n                background: #349ccd;\r\n                color: #ffffff;\r\n                border: 0px solid ;\r\n                font-size: 18px;\r\n                padding: 8px 20px;\r\n                border-radius: 5px;\r\n                cursor: pointer;\r\n                transform: scale(1);\r\n            }\r\n            .game-bg{\r\n                position: fixed;\r\n                top: 0;\r\n                left:0;\r\n                width:100%;\r\n                height:100%;\r\n               // background-color: #349ccd;\r\n                background-size:100% 100%;\r\n            }\r\n            .logo{\r\n                position: fixed;\r\n                top: 5%;\r\n                left:50%;\r\n                width:500px;\r\n                height:160px;\r\n                margin-left:-250px;\r\n               \r\n                background-size:100% 100%;\r\n            }\r\n\r\n            </style>\r\n        \r\n            <div class=\"game-bg\" id=\"GAME_BG\">\r\n            <div>\r\n            <button class=\"about-btn\" onclick=\"window.location.href='https://github.com/renjianfeng/flightSimulator'\">About The Author And Github</button>\r\n            </div>\r\n            \r\n            <button class=\"button-play\" id=\"button_play\">Play</button>\r\n           \r\n            </div>\r\n           \r\n        `;\r\n\r\n        var viewNode = document.createElement(\"div\");\r\n        viewNode.id = \"startNode\";\r\n        viewNode.innerHTML = viewHtml;\r\n\r\n        document.title=\"FlightSimulator(台风战机模拟驾驶)\"\r\n\r\n        //this.chassisBody.position.set(0, 151, 226);\r\n\r\n\r\n        //交給控制器做交互\r\n        this.parent.sceneChild={\r\n            viewHtml:viewHtml,\r\n            viewNode:viewNode,\r\n        }\r\n\r\n       // this.sceneCon=new StartGuiCon(this.parent);\r\n    }\r\n\r\n    public get guiObject(){\r\n        return this.parent;\r\n    }\r\n}"],"sourceRoot":""}